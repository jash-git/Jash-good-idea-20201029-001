/* aniview version '6.1.1.385' 						*/
/* All rights reserved to ANIVIEW LTD 2020 				*/
window.aniviewCSS = '#nonl-container *{display:block;}#av-caption{position:relative;text-align:center;line-height:18px}#av-label{display:inline-block;text-transform:uppercase;font-size:9px;color:#bbb;z-index:83;text-align:center;vertical-align:top;font-family:Helvetica,Arial,fallback,sans-serif;line-height:10px;margin:0;padding:4px}#av-container *::-webkit-media-controls-panel{display:none!important;-webkit-appearance:none}#av-container *::--webkit-media-controls-play-button{display:none !important;-webkit-appearance:none}#av-container *::-webkit-media-controls-start-playback-button{display:none!important;-webkit-appearance:none}@-webkit-keyframes "fade-in"{0%{opacity:0;filter:alpha(opacity=0);}100%{opacity:1;filter:alpha(opacity=100);}}@-moz-keyframes "fade-in"{0%{opacity:0;filter:alpha(opacity=0);}100%{opacity:1;filter:alpha(opacity=100);}}@-o-keyframes fade-in{0% { opacity:0;filter:alpha(opacity=0)}100%{opacity:1;filter:alpha(opacity=100)}}@keyframes "fade-in"{0%{opacity:0;filter:alpha(opacity=0);}100%{opacity:1;filter:alpha(opacity=100);}}@-webkit-keyframes "av-loading-dash"{0%{stroke-dasharray:1, 210;stroke-dashoffset:0;}50%{stroke-dasharray:130, 220;stroke-dashoffset:-50;}100%{stroke-dasharray:170, 220;stroke-dashoffset:-210;}}@-moz-keyframes "av-loading-dash"{0%{stroke-dasharray:1, 210;stroke-dashoffset:0;}50%{stroke-dasharray:130, 220;stroke-dashoffset:-50;}100%{stroke-dasharray:170, 220;stroke-dashoffset:-210;}}@-o-keyframes av-loading-dash{0% { stroke-dasharray:1, 210;stroke-dashoffset:0}50%{stroke-dasharray:130, 220;stroke-dashoffset:-50}100%{stroke-dasharray:170, 220;stroke-dashoffset:-210}}@keyframes "av-loading-dash"{0%{stroke-dasharray:1, 210;stroke-dashoffset:0;}50%{stroke-dasharray:130, 220;stroke-dashoffset:-50;}100%{stroke-dasharray:170, 220;stroke-dashoffset:-210;}}@-webkit-keyframes "av-loading-rotate"{0%{stroke:white;-webkit-transform:rotate(0deg);transform:rotate(0deg);}100%{stroke:currentColor;-webkit-transform:rotate(360deg);transform:rotate(360deg);}}@-moz-keyframes "av-loading-rotate"{0%{stroke:white;-webkit-transform:rotate(0deg);transform:rotate(0deg);}100%{stroke:currentColor;-webkit-transform:rotate(360deg);transform:rotate(360deg);}}@-o-keyframes av-loading-rotate{0% { stroke:white;-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{stroke:currentColor;-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes "av-loading-rotate"{0%{stroke:white;-webkit-transform:rotate(0deg);transform:rotate(0deg);}100%{stroke:currentColor;-webkit-transform:rotate(360deg);transform:rotate(360deg);}}#av-container{position:relative;width:640px;height:360px;background:black;margin:0;overflow:hidden;text-align:initial;}#av-container #av-inner{position:absolute;top:0;left:0;width:100%;height:100%}#av-container #av-inner #slot{position:absolute;width:100%;height:100%;background:black;-webkit-box-shadow:inset 0 0 0 1px rgba(0, 0, 0, 0.1);-moz-box-shadow:inset 0 0 0 1px rgba(0, 0, 0, 0.1);box-shadow:inset 0 0 0 1px rgba(0, 0, 0, 0.1)}#av-container #av-inner #slot #preloader{width:0;height:0;position:absolute;top:0;left:0;bottom:0;right:0;margin:auto;outline:none}#av-container #av-inner #slot #preloader svg{position:absolute;top:50%;left:50%}#av-container #av-inner #slot #preloader svg.icon{fill:white;width:50px;height:50px;margin-left:-25px;margin-top:-25px}#av-container #av-inner #slot #preloader svg.circle{fill:transparent;stroke:rgba(255, 255, 255, 0.2);stroke-width:3;width:70px;height:70px;margin-left:-35px;margin-top:-35px}#av-container #av-inner #slot #preloader svg.circle.active{color:red;stroke:white;stroke-linecap:round;animation:av-loading-dash 2s ease infinite, av-loading-rotate 2.5s linear infinite}#av-container #av-inner #slot #videoslot{text-align:left;position:absolute;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);left:0;right:0;bottom:0;width:100%;object-fit:initial;opacity:0;filter:alpha(opacity=0)}#av-container #av-inner #slot #videoslot.loaded{opacity:1;filter:alpha(opacity=100);-webkit-animation:fade-in 0.5s ease;-moz-animation:fade-in 0.5s ease;-o-animation:fade-in 0.5s ease;animation:fade-in 0.5s ease}#av-container #av-inner #gui:before{content:"";pointer-events:none;position:absolute;left:0;bottom:0;width:100%;height:15%;-webkit-transition:all 0.15s ease-in-out;-moz-transition:all 0.15s ease-in-out;-o-transition:all 0.15s ease-in-out;transition:all 0.15s ease-in-out;background:-webkit-linear-gradient(top, transparent 0%, rgba(0, 0, 0, 0.5) 100%);background:-moz-linear-gradient(top, transparent 0%, rgba(0, 0, 0, 0.5) 100%);background:linear-gradient(to bottom, transparent 0%, rgba(0, 0, 0, 0.5) 100%);filter:progid: DXImageTransform.Microsoft.gradient(startColorstr="#00000000", endColorstr="#80000000", GradientType=0)}#av-container #av-inner #gui #timeline{position:absolute;height:10px;overflow:hidden;-webkit-transition:all 0.15s ease-in-out;-moz-transition:all 0.15s ease-in-out;-o-transition:all 0.15s ease-in-out;transition:all 0.15s ease-in-out;cursor:pointer}#av-container #av-inner #gui #timeline:before,#av-container #av-inner #gui #timeline #timeline-buffer,#av-container #av-inner #gui #timeline #timeline-moveto,#av-container #av-inner #gui #timeline #timeline-progress{position:absolute;left:0;height:2px}#av-container #av-inner #gui #timeline:before{content:"";width:100%;background:rgb(100, 100, 100);background:rgba(255, 255, 255, 0.3);-webkit-box-shadow:0 0 3px 0 rgba(0, 0, 0, 0.1);-moz-box-shadow:0 0 3px 0 rgba(0, 0, 0, 0.1);box-shadow:0 0 3px 0 rgba(0, 0, 0, 0.1)}#av-container #av-inner #gui #timeline #timeline-buffer{width:0;background:rgb(180, 180, 180);background:rgba(255, 255, 255, 0.5);-webkit-box-shadow:0 0 3px 0 rgba(0, 0, 0, 0.1);-moz-box-shadow:0 0 3px 0 rgba(0, 0, 0, 0.1);box-shadow:0 0 3px 0 rgba(0, 0, 0, 0.1)}#av-container #av-inner #gui #timeline #timeline-moveto{width:0;background:rgb(255, 255, 255);background:rgba(255, 255, 255, 0.8);opacity:0}#av-container #av-inner #gui #timeline #timeline-progress{width:0;background:red}#av-container #av-inner #gui #timeline.av-overlay{bottom:41px;left:10px;right:10px}#av-container #av-inner #gui #timeline.av-overlay:before,#av-container #av-inner #gui #timeline.av-overlay #timeline-buffer,#av-container #av-inner #gui #timeline.av-overlay #timeline-moveto,#av-container #av-inner #gui #timeline.av-overlay #timeline-progress{top:50%;margin-top:-1px}#av-container #av-inner #gui #timeline.av-bottom{bottom:0;left:0;right:0}#av-container #av-inner #gui #timeline.av-bottom:before,#av-container #av-inner #gui #timeline.av-bottom #timeline-buffer,#av-container #av-inner #gui #timeline.av-bottom #timeline-moveto,#av-container #av-inner #gui #timeline.av-bottom #timeline-progress{top:auto;bottom:0}#av-container #av-inner #gui #timeline.av-top{top:0;left:0;right:0}#av-container #av-inner #gui #timeline.av-top:before,#av-container #av-inner #gui #timeline.av-top #timeline-buffer,#av-container #av-inner #gui #timeline.av-top #timeline-moveto,#av-container #av-inner #gui #timeline.av-top #timeline-progress{top:0;bottom:auto}#av-container #av-inner #gui #timeline.av-top~#skip-btn{top:2px}#av-container #av-inner #gui #timeline.av-top~#aniview-credit{top:4px}#av-container #av-inner #gui #timeline.av-none{opacity:0 !important;display:none !important}#av-container #av-inner #gui #buttons{-webkit-transition:all 0.15s ease-in-out;-moz-transition:all 0.15s ease-in-out;-o-transition:all 0.15s ease-in-out;transition:all 0.15s ease-in-out}#av-container #av-inner #gui #buttons #sound:after{content:"";position:absolute;top:-10px;bottom:-10px;left:-10px;right:-10px;}#av-container #av-inner #gui #buttons #play-pause:after{content:"";position:absolute;top:-10px;bottom:-10px;left:-10px;right:-10px;}#av-container #av-inner #gui #buttons #play-pause,#av-container #av-inner #gui #buttons #phone,#av-container #av-inner #gui #buttons #sound,#av-container #av-inner #gui #buttons #share,#av-container #av-inner #gui #buttons #fullscreen{width:24px;height:24px;background-repeat:no-repeat;background-size:cover}#av-container #av-inner #gui #buttons #left,#av-container #av-inner #gui #buttons #right{position:absolute;height:24px;bottom:11px}#av-container #av-inner #gui #buttons #left{left:13px}#av-container #av-inner #gui #buttons #left>div{position:relative;float:left;margin-right:14px}#av-container #av-inner #gui #buttons #left #play-pause.play{background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20id%3D%22play-Layer_1%22%20xml%3Aspace%3D%22preserve%22%20height%3D%2223%22%20viewBox%3D%220%200%2022.677%2022.677%22%20width%3D%2223%22%20version%3D%221.1%22%20y%3D%220px%22%20x%3D%220px%22%20enable-background%3D%22new%200%200%2022.677%2022.677%22%3E%09%3Cpath%20fill%3D%22white%22%20d%3D%22m19.343%2011.251c-0.035-0.439-0.334-0.874-0.902-1.207l-10.905-6.403c-1.211-0.712-2.203-0.138-2.203%201.275v7.463c5.85-2.36%2013.783-1.163%2014.01-1.128z%22%2F%3E%09%3Cpath%20fill%3D%22white%22%20d%3D%22m5.333%2017v0.762c0%201.412%200.992%201.985%202.203%201.273l10.904-6.402c0.643-0.377%200.941-0.882%200.902-1.379-8.65%200.696-12.404%203.614-14.009%205.746z%22%2F%3E%3C%2Fsvg%3E")}#av-container #av-inner #gui #buttons #left #play-pause.pause{background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20id%3D%22pause-Layer_1%22%20xml%3Aspace%3D%22preserve%22%20height%3D%2223%22%20viewBox%3D%220%200%2022.677%2022.677%22%20width%3D%2223%22%20version%3D%221.1%22%20y%3D%220px%22%20x%3D%220px%22%20enable-background%3D%22new%200%200%2022.677%2022.677%22%3E%09%09%3Cpath%20fill%3D%22white%22%20d%3D%22m4.338%2019.339h5v-16h-5v16zm9.001-16.001v16h5v-16h-5z%22%2F%3E%3C%2Fsvg%3E")}#av-container #av-inner #gui #buttons #left #play-pause.replay{background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20id%3D%22replay-Layer_1%22%20xml%3Aspace%3D%22preserve%22%20height%3D%2223%22%20viewBox%3D%220%200%2022.677%2022.677%22%20width%3D%2223%22%20version%3D%221.1%22%20y%3D%220px%22%20x%3D%220px%22%20enable-background%3D%22new%200%200%2022.677%2022.677%22%3E%09%09%3Cpath%20fill%3D%22white%22%20d%3D%22m16.672%2011.339c0%202.945-2.389%205.333-5.334%205.333s-5.334-2.388-5.334-5.333c0-2.943%202.385-5.329%205.326-5.333v2.336l7.016-3.503-7.016-3.503v2.004c-4.414%200.004-7.992%203.583-7.992%207.999%200%204.418%203.582%208%208%208s8-3.582%208-8h-2.666z%22%2F%3E%3C%2Fsvg%3E")}#av-container #av-inner #gui #buttons #left #phone{width:auto;font-size:0}#av-container #av-inner #gui #buttons #left #phone .icon{width:24px;height:24px;display:inline-block;vertical-align:top;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20id%3D%22phone-Layer_1%22%20xml%3Aspace%3D%22preserve%22%20height%3D%2223%22%20viewBox%3D%220%200%2022.677%2022.677%22%20width%3D%2223%22%20version%3D%221.1%22%20y%3D%220px%22%20x%3D%220px%22%20enable-background%3D%22new%200%200%2022.677%2022.677%22%3E%3Cpath%20fill%3D%22white%22%20clip-rule%3D%22evenodd%22%20d%3D%22m20.154%2017.236c0.299-0.298%200.254-0.921-0.236-1.188-0.492-0.267-4.518-2.602-4.982-2.138-0.463%200.465-1.447%201.498-2.135%201.188s-2.289-1.816-2.846-2.375c-0.559-0.557-2.064-2.159-2.377-2.847-0.31-0.687%200.725-1.67%201.188-2.134%200.464-0.465-1.87-4.491-2.137-4.982-0.266-0.489-0.889-0.534-1.188-0.237s-2.18%202.176-2.85%202.847c-0.671%200.671-0.279%205.415%204.514%2010.202%204.787%204.792%209.531%205.185%2010.203%204.514%200.671-0.671%202.549-2.551%202.846-2.85z%22%20fill-rule%3D%22evenodd%22%2F%3E%3C%2Fsvg%3E");background-repeat:no-repeat;background-size:cover}#av-container #av-inner #gui #buttons #left #phone #phone-num{display:inline-block;margin-left:4px;height:24px;line-height:24px;font-size:12px;font-weight:400;font-family:Helvetica, Arial, fallback, sans-serif;color:white}#av-container #av-inner #gui #buttons #right{right:13px}#av-container #av-inner #gui #buttons #right>div{position:relative;float:right;margin-left:14px}#av-container #av-inner #gui #buttons #right #sound{background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20id%3D%22sound-Layer_1%22%20xml%3Aspace%3D%22preserve%22%20height%3D%2223%22%20viewBox%3D%220%200%2022.68%2022.68%22%20width%3D%2223%22%20version%3D%221.1%22%20y%3D%220px%22%20x%3D%220px%22%20enable-background%3D%22new%200%200%2022.68%2022.68%22%3E%09%09%3Cpolygon%20fill%3D%22white%22%20points%3D%227.247%207.34%201.761%207.34%201.761%2015.34%207.247%2015.34%2012.743%2019.346%2012.743%203.334%22%20clip-rule%3D%22evenodd%22%20fill-rule%3D%22evenodd%22%2F%3E%3C%2Fsvg%3E")}#av-container #av-inner #gui #buttons #right #sound div{position:absolute;width:100%;height:100%;top:0;left:0;background-repeat:no-repeat;background-size:cover}#av-container #av-inner #gui #buttons #right #sound div.on{background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20id%3D%22sound-on-Layer_1%22%20xml%3Aspace%3D%22preserve%22%20height%3D%2223%22%20viewBox%3D%220%200%2022.677%2022.677%22%20width%3D%2223%22%20version%3D%221.1%22%20y%3D%220px%22%20x%3D%220px%22%20enable-background%3D%22new%200%200%2022.677%2022.677%22%3E%09%09%3Cpath%20fill%3D%22white%22%20d%3D%22m17.808%204.757l-1.705%201.881c1.357%201.146%202.221%202.824%202.221%204.7s-0.863%203.556-2.221%204.701l1.705%201.881c1.902-1.605%203.109-3.955%203.109-6.582%200-2.626-1.207-4.975-3.109-6.581z%22%20%2F%3E%3C%2Fsvg%3E")}#av-container #av-inner #gui #buttons #right #sound div.off{background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20id%3D%22sound-off-Layer_1%22%20xml%3Aspace%3D%22preserve%22%20height%3D%2223%22%20viewBox%3D%220%200%2022.677%2022.677%22%20width%3D%2223%22%20version%3D%221.1%22%20y%3D%220px%22%20x%3D%220px%22%20enable-background%3D%22new%200%200%2022.677%2022.677%22%3E%09%09%3Cpolygon%20points%3D%2220.009%2011.337%2022.671%208.674%2021.343%207.345%2018.679%2010.007%2016.015%207.345%2014.685%208.674%2017.349%2011.337%2014.681%2014.003%2016.015%2015.331%2018.679%2012.666%2021.343%2015.331%2022.677%2014.003%22%20fill%3D%22red%22%20clip-rule%3D%22evenodd%22%20fill-rule%3D%22evenodd%22%2F%3E%3C%2Fsvg%3E")}#av-container #av-inner #gui #buttons #right #share{background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20id%3D%22share-Layer_1%22%20xml%3Aspace%3D%22preserve%22%20height%3D%2223%22%20viewBox%3D%220%200%2022.677%2022.677%22%20width%3D%2223%22%20version%3D%221.1%22%20y%3D%220px%22%20x%3D%220px%22%20enable-background%3D%22new%200%200%2022.677%2022.677%22%3E%3Cpath%20fill%3D%22white%22%20clip-rule%3D%22evenodd%22%20d%3D%22m17.338%2014.339c-0.695%200-1.328%200.246-1.838%200.645l-7.17-3.567c0-0.026%200.008-0.051%200.008-0.078%200-0.026-0.008-0.052-0.008-0.078l7.17-3.566c0.51%200.397%201.143%200.645%201.838%200.645%201.656%200%203-1.343%203-3s-1.344-3-3-3-3%201.343-3%203c0%200.188%200.023%200.372%200.057%200.552l-6.864%203.412c-0.549-0.591-1.324-0.966-2.193-0.966-1.656%200-3%201.343-3%203s1.344%203%203%203c0.869%200%201.645-0.375%202.193-0.965l6.863%203.412c-0.033%200.18-0.057%200.363-0.057%200.553%200%201.656%201.344%203%203%203s3-1.344%203-3-1.343-2.999-2.999-2.999z%22%20fill-rule%3D%22evenodd%22%2F%3E%3C%2Fsvg%3E")}#av-container #av-inner #gui #buttons #right #fullscreen.off{background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20id%3D%22fullscreen-Layer_1%22%20xml%3Aspace%3D%22preserve%22%20height%3D%2223%22%20viewBox%3D%220%200%2022.677%2022.677%22%20width%3D%2223%22%20version%3D%221.1%22%20y%3D%220px%22%20x%3D%220px%22%20enable-background%3D%22new%200%200%2022.677%2022.677%22%3E%09%09%3Cpath%20fill%3D%22white%22%20d%3D%22m4.339%2015.339h-2v5h5v-2h-3v-3zm-2-8.001h2v-3h3v-2h-5v5zm13-5v2h3v3h2v-5h-5zm3%2016.001h-3v2h5v-5h-2v3z%22%2F%3E%3C%2Fsvg%3E")}#av-container #av-inner #gui #buttons #right #fullscreen.on{background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20id%3D%22fullscreen-off-Layer_1%22%20xml%3Aspace%3D%22preserve%22%20height%3D%2223%22%20viewBox%3D%220%200%2022.677%2022.677%22%20width%3D%2223%22%20version%3D%221.1%22%20y%3D%220px%22%20x%3D%220px%22%20enable-background%3D%22new%200%200%2022.677%2022.677%22%3E%09%09%3Cpath%20fill%3D%22white%22%20d%3D%22m6.338%206.338h-3v2h5v-5h-2v3zm-3%2010.001h3v3h2v-5h-5v2zm11%203h2v-3h3v-2h-5v5zm2-13.001v-3h-2v5h5v-2h-3z%22%2F%3E%3C%2Fsvg%3E")}#av-container #av-inner #gui #big-play{display:none;position:absolute;width:68px;height:68px;top:50%;left:50%;margin-top:-34px;margin-left:-34px;background-color:rgb(50, 50, 50);background-color:rgba(0, 0, 0, 0.4);background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20id%3D%22play-Layer_1%22%20xml%3Aspace%3D%22preserve%22%20height%3D%2223%22%20viewBox%3D%220%200%2022.677%2022.677%22%20width%3D%2223%22%20version%3D%221.1%22%20y%3D%220px%22%20x%3D%220px%22%20enable-background%3D%22new%200%200%2022.677%2022.677%22%3E%09%3Cpath%20fill%3D%22white%22%20d%3D%22m19.343%2011.251c-0.035-0.439-0.334-0.874-0.902-1.207l-10.905-6.403c-1.211-0.712-2.203-0.138-2.203%201.275v7.463c5.85-2.36%2013.783-1.163%2014.01-1.128z%22%2F%3E%09%3Cpath%20fill%3D%22white%22%20d%3D%22m5.333%2017v0.762c0%201.412%200.992%201.985%202.203%201.273l10.904-6.402c0.643-0.377%200.941-0.882%200.902-1.379-8.65%200.696-12.404%203.614-14.009%205.746z%22%2F%3E%3C%2Fsvg%3E");background-size:62% 64%;background-position:16px center;background-repeat:no-repeat;border:3px solid white;border-radius:50%;-webkit-transition:all 0.15s ease-in-out;-moz-transition:all 0.15s ease-in-out;-o-transition:all 0.15s ease-in-out;transition:all 0.15s ease-in-out}#av-container #av-inner #gui #close-btn,#av-close-btn{z-index:9999999;position:absolute;top:0;left:0;width:28px;height:28px;background-color:rgb(50, 50, 50);background-color:rgba(0, 0, 0, 0.4);background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20id%3D%22close-Layer_1%22%20xml%3Aspace%3D%22preserve%22%20height%3D%2223%22%20viewBox%3D%220%200%2022.677%2022.677%22%20width%3D%2223%22%20version%3D%221.1%22%20y%3D%220px%22%20x%3D%220px%22%20enable-background%3D%22new%200%200%2022.677%2022.677%22%3E%09%09%3Cpolygon%20fill%3D%22white%22%20points%3D%2219.346%205.421%2017.256%203.332%2011.338%209.25%205.42%203.332%203.332%205.421%209.25%2011.338%203.332%2017.257%205.42%2019.345%2011.338%2013.427%2017.256%2019.345%2019.346%2017.257%2013.428%2011.338%22%20clip-rule%3D%22evenodd%22%20fill-rule%3D%22evenodd%22%2F%3E%3C%2Fsvg%3E");background-repeat:no-repeat;background-size:60%;background-position:center;border-color:white;border-style:solid;border-width:0 1px 1px 0;-webkit-transition:all 0.15s ease-in-out;-moz-transition:all 0.15s ease-in-out;-o-transition:all 0.15s ease-in-out;transition:all 0.15s ease-in-out}#av-close-btn-overlay{display:inline-block;position:relative;z-index:9999999;vertical-align:top}#av-close-btn{position:static;width:18px;height:18px;border:none}#av-container #av-inner #gui #timer{position:absolute;top:0;left:0;width:28px;height:28px;background-color:rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0.7);color:white;font-family:Helvetica, Arial, fallback, sans-serif;font-size:12px;text-align:center;line-height:28px;border-color:white;border-style:solid;border-width:0 1px 1px 0;-webkit-transition:all 0.15s ease-in-out;-moz-transition:all 0.15s ease-in-out;-o-transition:all 0.15s ease-in-out;transition:all 0.15s ease-in-out}#av-container #av-inner #gui #skip-btn{position:absolute;bottom:60px;right:0;padding:0 12px;height:32px;background-color:rgb(50, 50, 50);background-color:rgba(0, 0, 0, 0.4);color:white;font-family:Helvetica, Arial, fallback, sans-serif;font-size:14px;text-align:center;text-transform:uppercase;line-height:32px;border-color:white;border-style:solid;border-width:1px 0 1px 1px;-webkit-transition:all 0.15s ease-in-out;-moz-transition:all 0.15s ease-in-out;-o-transition:all 0.15s ease-in-out;transition:all 0.15s ease-in-out}#av-container #av-inner #gui #aniview-credit{position:absolute;top:2px;right:2px;height:24px;line-height:24px;font-size:11px;font-family:Helvetica, Arial, fallback, sans-serif;font-weight:500;color:white}#av-container #av-inner #gui #aniview-credit span{display:inline-block;vertical-align:top;width:24px;height:24px;background-repeat:no-repeat;background-size:cover;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20id%3D%22play-Layer_1%22%20xml%3Aspace%3D%22preserve%22%20height%3D%2223%22%20viewBox%3D%220%200%2022.677%2022.677%22%20width%3D%2223%22%20version%3D%221.1%22%20y%3D%220px%22%20x%3D%220px%22%20enable-background%3D%22new%200%200%2022.677%2022.677%22%3E%09%3Cpath%20fill%3D%22red%22%20d%3D%22m19.343%2011.251c-0.035-0.439-0.334-0.874-0.902-1.207l-10.905-6.403c-1.211-0.712-2.203-0.138-2.203%201.275v7.463c5.85-2.36%2013.783-1.163%2014.01-1.128z%22%2F%3E%09%3Cpath%20fill%3D%22red%22%20d%3D%22m5.333%2017v0.762c0%201.412%200.992%201.985%202.203%201.273l10.904-6.402c0.643-0.377%200.941-0.882%200.902-1.379-8.65%200.696-12.404%203.614-14.009%205.746z%22%2F%3E%3C%2Fsvg%3E")}#av-container.av-desktop #av-inner #gui #big-play{border-color:#ccc}#av-container.av-desktop:hover #av-inner #gui #big-play{background-color:rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0.7);border-color:white}#av-container.av-desktop #gui:before{bottom:-15%}#av-container.av-desktop:hover #gui:before{bottom:0}#av-container.av-desktop #gui:before,#av-container.av-desktop #gui #timeline,#av-container.av-desktop #gui #buttons{opacity:0;filter:alpha(opacity=0)}#av-container.av-desktop:hover #gui:before,#av-container.av-desktop:hover #gui #buttons,#av-container.av-desktop:hover #gui #timeline,#av-container.av-desktop #av-inner #gui #timeline:hover #timeline-moveto{opacity:1;filter:alpha(opacity=100)}#av-container.av-desktop #av-inner #gui #close-btn:hover,#av-container.av-desktop #av-inner #gui #skip-btn:hover,#av-close-btn:hover{cursor:pointer;background-color:rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0.7)}#av-container.av-responsive{width:100%;height:520px}#av-container.hide-controls #timeline,#av-container.hide-controls #buttons,#av-container.hide-controls #av-inner #gui:before{display:none}#av-container.buttons-below #av-inner #slot #videoslot{top:0;-webkit-transform:none;transform:none} #av-container #videoslot video {max-width: none;}';
window.aniviewGetGui = function (config) {
  var gui = '';
  var adLabel = config.adlabel;
	var closeButtonStyle = config.closebuttonstyle;
  var outsideCloseBtn = !!(
    config.closebutton && closeButtonStyle && closeButtonStyle.outside
  );

	// If needs to create a caption
  if (config.caption) {
    gui += '<div id="av-caption">';

    var closeButtonHTML;
    var beforeLabel;
    var afterLabel;

    if (outsideCloseBtn) {
      closeButtonHTML = '<div id="av-close-btn-overlay" class="av-pos-' +
        closeButtonStyle.position +
        '"><div id="av-close-btn"></div></div>';
      beforeLabel = closeButtonStyle.position === 'before-label';
      afterLabel = closeButtonStyle.position === 'after-label';
    }

    if (outsideCloseBtn && (beforeLabel || !afterLabel)) {
      gui += closeButtonHTML;
    }

    if (adLabel && adLabel.text) {
      gui += '<span id="av-label">' + adLabel.text + '</span>';
    }

    if (outsideCloseBtn && afterLabel) {
      gui += closeButtonHTML;
    }

    gui += '</div>';
  }

	gui += '<div id="av-container" class="av-responsive">' +
		'<div id="av-inner">' +
		'<div id="slot">';
	if (config.preloader && ((config.preloader.type =='Image' && config.preloader.link != '') || config.preloader.type =='js')) {
		gui = gui + '<div id="imgpreloader"><div id="preloader"></div>'
	} else {
		gui = gui + '<div id="imgpreloader"></div><div id="preloader"><svg class="icon" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 30 30" xml:space="preserve">' +
			'<g>' +
			'<path d="M23.3,14.9c0-0.4-0.3-0.9-0.8-1.2l-10-6.4c-1.1-0.7-2-0.1-2,1.3v7.5C15.8,13.7,23.1,14.9,23.3,14.9z M23.3,15 c-7.9,0.6-11.4,3.5-12.8,5.7v0.8c0,1.4,0.9,2,2,1.3l10-6.4C23.1,16,23.4,15.5,23.3,15z"/>' +
			'</g>' +
			'</svg>' +
			'<svg class="circle" width="70" height="70" version="1.1" xmlns="http://www.w3.org/2000/svg"><circle cx="35" cy="35" r="32"></circle></svg>' +
			'<svg class="circle active" width="70" height="70" version="1.1" xmlns="http://www.w3.org/2000/svg"><circle cx="35" cy="35" r="32"></circle></svg>';
	};
	gui = gui + '</div>' + '<div id="videoslot"></div>';
	if (config.preloader.type =='content') {
		gui = gui + '<video id="AVcontent" webkit-playsinline playsinline muted style="width: 100%;height:100%;background-color:black;"></video>';
	}
	gui = gui + '</div>' +
		'<div id="gui">' +
		'<div id="timeline">' +
		'<div id="timeline-buffer"></div>' +
		'<div id="timeline-moveto"></div>' +
		'<div id="timeline-progress"></div>' +

		'</div>' +
		'<div id="buttons">' +
		'<div id="left">' +
		'<div id="play-pause" class="pause"></div>' +
		'<div id="phone">' +
		'<div class="icon"></div>' +
		'<div id="phone-num"></div>' +
		'</div>' +
		'</div>' +
		'<div id="right">' +
		'<div id="fullscreen" class="off"></div>' +
		'<div id="share"></div>' +
		'<div id="sound"><div class="on"></div></div>' +
		'</div>' +
		'</div>' +
		'<div id="big-play"></div>' +
		'<div id="timer"></div>' +
    (outsideCloseBtn ? '' : '<div id="close-btn"></div>') +
		'<div id="skip-btn">Skip</div>' +
		'<div id="aniview-credit">Ads by <span></span></div>' +
		'</div>' +
		'</div>' +
		'</div>';
	return gui;
};
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(l,a,t){l!=Array.prototype&&l!=Object.prototype&&(l[a]=t.value)};$jscomp.getGlobal=function(l){return"undefined"!=typeof window&&window===l?l:"undefined"!=typeof global&&null!=global?global:l};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var l=0;return function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+l++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var l=$jscomp.global.Symbol.iterator;l||(l=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[l]&&$jscomp.defineProperty(Array.prototype,l,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(l){var a=0;return $jscomp.iteratorPrototype(function(){return a<l.length?{done:!1,value:l[a++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(l){$jscomp.initSymbolIterator();l={next:l};l[$jscomp.global.Symbol.iterator]=function(){return this};return l};$jscomp.makeIterator=function(l){$jscomp.initSymbolIterator();$jscomp.initSymbol();$jscomp.initSymbolIterator();var a=l[Symbol.iterator];return a?a.call(l):$jscomp.arrayIterator(l)};$jscomp.arrayFromIterator=function(l){for(var a,t=[];!(a=l.next()).done;)t.push(a.value);return t};$jscomp.arrayFromIterable=function(l){return l instanceof Array?l:$jscomp.arrayFromIterator($jscomp.makeIterator(l))};
LinearAd=function(){function l(p,d,q,c,f,u){var r={width:p,height:d,viewMode:q,desiredBitrate:c,creativeData:f,environmentVars:u};t=p;k=d;(function(){a=new aniviewPlayer(r);var f=!1;a.onAdLoaded=function(){e.dispatch("AdLoaded")};a.onAdStarted=function(){f||e.dispatch("AdStarted");f=!0};a.onAdError=function(a,b){b?e.dispatch("AdError","No Ad"):e.dispatch("AdError",a)};a.onAdImpression=function(f,b){e.dispatch("AdImpression",f,b);a.onAdStarted()};a.onAdVideoComplete=function(a){e.dispatch("AdVideoComplete",
a)};a.onAdSkipped=function(){e.dispatch("AdSkipped")};a.onAdSkippableStateChange=function(){e.dispatch("AdSkippableStateChange")};a.onAdStopped=function(){e.dispatch("AdStopped")};a.onAdClosed=function(a){e.dispatch("AdClosed",a)};a.onAdVideoStart=function(){e.dispatch("AdVideoStart")};a.onAdVideoFirstQuartile=function(){e.dispatch("AdVideoFirstQuartile")};a.onAdVideoMidpoint=function(){e.dispatch("AdVideoMidpoint")};a.onAdVideoThirdQuartile=function(){e.dispatch("AdVideoThirdQuartile")};a.onAdClickThru=
function(a,b,m){e.dispatch("AdClickThru",a,b,m)};a.onAdVolumeChange=function(){e.dispatch("AdVolumeChange")};a.onAdPaused=function(){e.dispatch("AdPaused")};a.onAdPlaying=function(){e.dispatch("AdPlaying")};a.onAdDurationChange=function(){e.dispatch("AdDurationChange")};a.onallAdsCompleted=function(){e.dispatch("allAdsCompleted")};a.onContentImpression=function(a){e.dispatch("ContentImpression",a)};a.onContentComplete=function(){e.dispatch("ContentComplete")};a.onContentPaused=function(){e.dispatch("ContentPaused")};
a.onContentPlaying=function(){e.dispatch("ContentPlaying")};a.onContentClick=function(a){e.dispatch("ContentClick",a)};a.onAdEvent=function(a,b,m){e.dispatch("AdEvent",a,b,m)};a.onInventory=function(){e.dispatch("Inventory")};a.onInventoryRequest=function(a){e.dispatch("InventoryRequest",a)};a.onFullScreenRequest=function(a){e.dispatch("FullScreenRequest",a)};a.dispatchEvent=function(a,b,m,v){e.dispatch(a,b,m,v)}})()}var a,t=0,k=0,e=new window.AVEvtMgr;this.handshakeVersion=function(a){return"2.0"};
this.initAd=function(a,d,e,c,f,u){l(a,d,e,c,f,u)};this.startAd=function(e){e?a.startAd():setTimeout(function(){a.startAd()},50)};this.setWaterfallState=function(e,d,q){a.setWaterfallState(e,d,q)};this.getAdLinear=function(){return!0};this.stopAd=function(e,d){a.stopAd()};this.getAdVolume=function(){return a.getAdVolume()};this.setAdVolume=function(e){a.setAdVolume(e)};this.resizeAd=function(e,d,q){a&&(a.resizeAd(e,d,q),t=e,k=d)};this.pauseAd=function(){a.pauseAd()};this.resumeAd=function(){a.resumeAd()};
this.expandAd=function(){};this.getAdExpanded=function(a){return!1};this.getAdSkippableState=function(a){return!1};this.collapseAd=function(){};this.skipAd=function(){a.skipAd()};this.getAdWidth=function(){return t};this.getAdHeight=function(){return k};this.getSkippableRemainingTime=function(){return-1};this.getAdRemainingTime=function(){return a.getAdRemainingTime()};this.getAdDuration=function(){return a.getAdDuration()};this.getAdCompanions=function(){return a.getAdCompanions()};this.getIcons=
function(){return""};this.getAdIcons=function(){return""};this.seekAd=function(e){a.seekAd(e)};this.getContentPaused=function(){if(a)return a.getContentPaused()};this.getContentCurrentTime=function(){if(a)return a.getContentCurrentTime()};this.pauseContent=function(){if(a)return a.pauseContent()};this.resumeContent=function(){if(a)return a.resumeContent()};this.setContentVolume=function(e){if(a)return a.setContentVolume(e)};this.subscribe=function(a,d,q){e.subscribe(a,d,q)};this.unsubscribe=function(a,
d){e.unsubscribe(a,d)};Utils.defineProperty(this,"adRemainingTime",this.getAdRemainingTime,null);Utils.defineProperty(this,"adDuration",this.getAdDuration,null);Utils.defineProperty(this,"adVolume",this.getAdVolume,this.setAdVolume);Utils.defineProperty(this,"adSkippableState",this.getAdSkippableState,null);Utils.defineProperty(this,"adLinear",this.getAdLinear,null);Utils.defineProperty(this,"adExpanded",this.getAdExpanded,null);Utils.defineProperty(this,"adCompanions",this.getAdCompanions,null);
Utils.defineProperty(this,"adIcons",this.getAdIcons,null);Utils.defineProperty(this,"adWidth",this.getAdWidth,null);Utils.defineProperty(this,"adHeight",this.getAdHeight,null)};window.getVPAIDAd=function(){return new LinearAd};
(function(l){l.AVEvtMgr=function(){var a={};this.subscribe=function(l,k,e){a[k]||(a[k]=[]);a[k].push({callback:l,context:e})};this.unsubscribe=function(l,k){if(a[k])for(var e=0;e<a[k].length;e++)if(a[k][e].callback===l){a[k].splice(e,1);break}};this.dispatch=function(l,k,e,p){if(a[l])for(var d=0;d<a[l].length;d++)if(a[l][d]&&"function"===typeof a[l][d].callback)try{a[l][d].callback.call(a[l][d].context,k,e,p)}catch(q){}}}})(window);
(function(l){function a(){"function"!==typeof Array.prototype.find&&(Array.prototype.find=function(b,m){if(null==this)throw new TypeError("null");if("function"!==typeof b)throw new TypeError("function");for(var v=Object(this),a=v.length>>>0,f,h=0;h<a;h++)if(f=v[h],b.call(m,f,h,v))return f});"function"!==typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(b,m){if(null===b||void 0===b)throw new TypeError("Cannot convert undefined or null to object");for(var v=Object(b),a=1;a<
arguments.length;a++){var f=arguments[a];if(null!==f&&void 0!==f)for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(v[h]=f[h])}return v},writable:!0,configurable:!0});Object.keys||(Object.keys=function(b){if(b!==Object(b))throw new TypeError("non-object");var m=[],v;for(v in b)Object.prototype.hasOwnProperty.call(b,v)&&m.push(v);return m})}function t(b,m,v){c.viewability||(c.viewability=new f,c.viewability.start(b,m,v))}function k(b,m){if(m&&c.trackingBuffer[b]&&c.trackingBuffer[b].data&&
0<c.trackingBuffer[b].data.length){var v=JSON.stringify(c.trackingBuffer[b].data);c.trackingBuffer[b].data.length=0;c.trackingBuffer[b].timer&&(clearTimeout(c.trackingBuffer[b].timer),c.trackingBuffer[b].timer=0);if(b=c.createCORSRequest("POST",m,!1,c.getTopWnd()))"firefox"==c.getBrowser()&&b.overrideMimeType&&b.overrideMimeType("text/plain"),b.onload=b.onerror=b.onprogress=b.ontimeout=function(){},b.send(v)}}function e(b,m,v){if(v.trackingBuffer[b]&&v.trackingBuffer[b].data&&0<v.trackingBuffer[b].data.length){var a=
JSON.stringify(v.trackingBuffer[b].data);v.trackingBuffer[b].data.length=0;v.trackingBuffer[b].timer&&(clearTimeout(v.trackingBuffer[b].timer),v.trackingBuffer[b].timer=0);b=new XMLHttpRequest;"withCredentials"in b?b.open("POST",m,!0):"undefined"!=typeof XDomainRequest?(b=new XDomainRequest,b.open("POST",m)):b=null;b&&(b.onload=b.onerror=b.onprogress=b.ontimeout=function(){},b.send(a))}}function p(b,m,v,a,f,h){f.trackingBuffer[b]||(f.trackingBuffer[b]={timer:0,data:[]});v&&f.trackingBuffer[b].data.push(v);
a||f.trackingBuffer[b].data.length>=f.trackingBufferSize?h.postTrackingPixelsProto(b,m,f):1==f.trackingBuffer[b].data.length&&(f.trackingBuffer[b].timer=setTimeout(function(){f.trackingBuffer[b].timer=0;h.postTrackingPixelsProto(b,m,f)},1E3*f.trackingBufferTimeout))}function d(b,m){return"string"===typeof b?(m&&m.push||(m=[]),m.concat(b.split(","))):[]}function q(b,m,v){for(var a=0;a<m.length;++a){var f=m[a];"intervention"!==f.type&&"crash"!==f.type||v(b,f)}}var c=l.Utils={};c.init=function(b,m,v,
f,d,h){this.floatPos=v;this.floatCheckTime=0;this.floatCheck="";if(this.topWnd=c.getTopWnd(b))this.topDoc=this.topWnd.document,m&&this.topDoc&&"undefined"!==typeof this.topDoc.visibilityState&&(this.vitab=!0);this.width=f;this.height=d;this.isamp=h;a()};c.isFloating=function(){if(this.floatPos&&200<Date.now()-this.floatCheckTime)try{var b=getComputedStyle(this.floatPos);this.floatCheck=b&&b.position&&"fixed"===b.position?"1":"";this.floatCheckTime=Date.now()}catch(m){}return this.floatCheck};c.getPrebidRefInfo=
function(){if(!this.prebidRef&&(this.prebidRef={referer:this.getTrueDomain(),numIframes:location&&location.ancestorOrigins&&1<location.ancestorOrigins.length?location.ancestorOrigins.length-1:0,reachedTop:top===this.getTopWnd(),stack:[this.getTrueDomain()]},this.refererStack)){this.prebidRef.stack=[];for(var b=this.refererStack,m="",v="",a=0;a<b.length;a++)0<a&&this.prebidRef.stack.push(b[a].location||m||v||""),m=b[a].referrer,v=b[a].ancestor;this.prebidRef.stack.reverse()}return this.prebidRef};
c.getUrlParameters=function(b,m){if(!b){b="avmanager.js";for(var v="",a=document.getElementsByTagName("script"),f=0;f<a.length;f++)if(-1!==a[f].src.toLowerCase().indexOf(b)){v=a[f].src;break}b=v}v={};a=b;!m&&0<a.indexOf("?")&&(a=a.slice(a.indexOf("?")+1));a=a.split("&");for(f=0;f<a.length;f+=1)if(0<a[f].length&&(m=a[f].split("="),m[0]!==b&&0<m[0].length))if(1===m.length)v[m[0]]=null;else if(2===m.length)try{v[m[0]]=decodeURIComponent(m[1])}catch(y){v[m[0]]=m[1]}else{v[m[0]]="";for(var h=1;h<m.length;h+=
1){try{v[m[0]]+=decodeURIComponent(m[h])}catch(y){v[m[0]]+=m[h]}h<m.length-1&&(v[m[0]]+="=")}}return v};c.extendsClass=function(b,m){var v=function(){};v.prototype=m.prototype;b.prototype=new v};c.getPath=function(b){b&&-1!=b.indexOf("?")&&(b=b.split("?").shift());return b};c.getExtension=function(b){return(b=c.getPath(b))&&-1!=b.indexOf(".")?b.split(".").pop().toLowerCase():null};c.setExtension=function(b,m){return-1!=b.indexOf(".")?(b=b.split("."),b.pop(),b.push(m),b.join(".")):b+"."+m};c.logEnabled=
!0;c.logElement=null;c.log=function(){if(c.logEnabled){var b=Array.prototype.join.call(arguments," ");this.logElement&&(this.logElement.innerHTML+=b+"<br>");console.log(b)}};c.keys={};c.keysTotal={};c.begin=function(b){c.keys[b]=Date.now()};c.end=function(b){var m=c.keys[b];m=Date.now()-m;void 0==c.keysTotal[b]&&(c.keysTotal[b]=0);c.keysTotal[b]+=m};c.logKeys=function(b){c.log();var m=0;for(b in c.keysTotal)c.log(b+" = "+c.keysTotal[b]+" ms"),m+=c.keysTotal[b];c.log("Total = "+m);c.log()};c.defineProperties=
function(b){var m=null,v=null,a=null,f=null;for(f in b){var h=f.substring(0,4);"get_"==h?(a=f.substring(4),m=b["get_"+a],void 0!=b["set_"+a]&&(v=b["set_"+a])):"set_"==h&&(a=f.substring(4),void 0!=!b["get_"+a]&&(v=b["set_"+a]));(m||v)&&c.defineProperty(b,a,m,v)}};c.defineProperty=function(b,m,v,a,f){void 0!=Object.defineProperty?(f={enumerable:void 0!=f?f:!0,configurable:!0},v&&(f.get=v),a&&(f.set=a),Object.defineProperty(b,m,f)):(v&&void 0!=b.__defineGetter__&&b.__defineGetter__(m,v),a&&void 0!=b.__defineSetter__&&
b.__defineSetter__(m,a))};c.rndString=function(){return Math.random()+"_"+Date.now()};c.formatData=function(b){var m=[],v;for(v in b){var a=b[v],f=typeof a;"string"!=f&&"number"!=f&&"boolean"!=f||m.push(v+"="+encodeURIComponent(a))}return m.join("&")};c.webGLEnabled=function(){if(l.WebGLRenderingContext)for(var b=document.createElement("canvas"),m=["webgl","experimental-webgl","moz-webgl","webkit-3d"],v=!1,a=0;a<m.length;a++)try{if((v=b.getContext(m[a]))&&"function"==typeof v.getParameter)return!0}catch(A){}return!1};
c.isMobile=function(){if("undefined"===typeof c.isMobileDevice){var b=!1,m=navigator.userAgent||navigator.vendor||l.opera;if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(m)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(m.substr(0,
4)))b=!0;c.isMobileDevice=b}return c.isMobileDevice};c.isAndroid=function(){"undefined"===typeof c.isAndroidDevice&&(c.isAndroidDevice=/(android)/i.test(navigator.userAgent));return c.isAndroidDevice};c.isiOS=function(){"undefined"===typeof c.isiOSDevice&&(c.isiOSDevice=/iPhone|iPod|iPad/.test(navigator.userAgent));return c.isiOSDevice};c.isSlow=function(){return 1024>Math.max(l.screen.width,l.screen.height)*(l.devicePixelRatio||1)};c.startRemoteDebug=function(b){};c.isWebKit=function(){return/WebKit/.test(navigator.userAgent)};
c.getOS=function(){if(navigator&&"string"==typeof navigator.appVersion)return-1!=navigator.appVersion.toLowerCase().indexOf("android")?"android":-1!=navigator.appVersion.toLowerCase().indexOf("mac")&&/iPad|iPhone|iPod/.test(navigator.userAgent)?"ios":-1!=navigator.appVersion.toLowerCase().indexOf("win")?"windows":-1!=navigator.appVersion.toLowerCase().indexOf("mac")?"mac":-1!=navigator.appVersion.toLowerCase().indexOf("x11")?"unix":-1!=navigator.appVersion.toLowerCase().indexOf("web0s")||-1!=navigator.appVersion.toLowerCase().indexOf("webos")?
"webos":-1!=navigator.appVersion.toLowerCase().indexOf("linux")?"linux":null};c.getOSVersion=function(){var b=navigator.userAgent.toLowerCase().split(" "),m=b.indexOf("os");return-1!=m?(b=b[m+1].split("_"),{major:b[0],minor:b[1]}):{major:0,minor:0}};c.isVideoSupported=function(){if(this.isiOS()){if(10<=this.getOSVersion().major)return!0}else if(this.isAndroid()&&53<=this.getChromeVersion())return!0;return!1};c.getChromeVersion=function(){var b=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);
return b?parseInt(b[2],10):!1};c.getBrowser=function(){return-1!=navigator.userAgent.toLowerCase().indexOf("chrome")&&-1!=navigator.vendor.toLowerCase().indexOf("google")?"chrome":-1!=navigator.userAgent.toLowerCase().indexOf("opera")?"opera":-1!=navigator.userAgent.toLowerCase().indexOf("firefox")?"firefox":-1!=navigator.userAgent.toLowerCase().indexOf("safari")&&-1!=navigator.vendor.toLowerCase().indexOf("apple")?"safari":-1!=navigator.userAgent.toLowerCase().indexOf("msie")||1==!!document.documentMode?
"ie":null};c.isHighDensity=function(){var b=!1;try{b=l.matchMedia&&(l.matchMedia("only screen and (min-resolution: 124dpi), only screen and (min-resolution: 1.3dppx), only screen and (min-resolution: 48.8dpcm)").matches||l.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (min-device-pixel-ratio: 1.3)").matches)||l.devicePixelRatio&&1.3<l.devicePixelRatio}catch(m){b=
l.devicePixelRatio&&1.3<l.devicePixelRatio}return b};c.parseXML=function(b){return(l.DOMParser?function(b){return(new l.DOMParser).parseFromString(b,"text/xml")}:"undefined"!=typeof l.ActiveXObject&&new l.ActiveXObject("Microsoft.XMLDOM")?function(b){var m=new l.ActiveXObject("Microsoft.XMLDOM");m.async="false";m.loadXML(b);return m}:function(){return null})(b)};c.getChildByPath=function(b,m){if(b&&m&&(m=m.split("/"),0<m.length)){var a=m.shift().toLowerCase();b=b.children;for(var f=0;f<b.length;f++){var d=
b[f];if(d.nodeName.toLowerCase()==a)return 0<m.length?c.getChildByPath(d,m.join("/")):d}}return null};c.isVideoElement=function(b){var m="",a="",f="",c="";b.canPlayType&&(m=""!==b.canPlayType('video/mp4; codecs="mp4v.20.8"'),a=""!==(b.canPlayType('video/mp4; codecs="avc1.42E01E"')||b.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')),f=""!==b.canPlayType('video/ogg; codecs="theora"'),c=""!==b.canPlayType('video/webm; codecs="vp8, vorbis"'));return m||a||f||c};c.getElementById=function(b,m){b=
b.childNodes;for(var a in b){var f=b[a];if(f.id==m)return f;f=c.getElementById(f,m);if(null!=f)return f}return null};c.getHostName=function(b){function m(b){if("undefined"==typeof b||null==b)return"";b=b.trimStr();if(""==b)return"";if(-1<b.indexOf("://"))if(b=b.split("://"),-1<b[0].indexOf("/")||-1<b[0].indexOf(".")||-1<b[0].indexOf("?")||-1<b[0].indexOf("&"))if(b[0]=b[0].trimStr(),0==b[0].indexOf("//"))b=b[0].split("//")[1].split("/")[0].trimStr().split("?")[0].split("&")[0];else return"";else b[1]=
b[1].trimStr(),b=b[1].split("/")[0].trimStr().split("?")[0].split("&")[0];else b=0==b.indexOf("//")?b.split("//")[1].split("/")[0].trimStr().split("?")[0].split("&")[0]:b.split("/")[0].trimStr().split("?")[0].split("&")[0];return b}try{b=decodeURIComponent(b),b=decodeURIComponent(b),b=decodeURIComponent(b)}catch(v){try{"%"==b[b.length-1]?b=b.substring(0,b.length-1):"%"==b[b.length-2]&&(b=b.substring(0,b.length-2)),b=decodeURIComponent(b),b=decodeURIComponent(b),b=decodeURIComponent(b)}catch(D){}}String.prototype.trimStr=
function(){return this.replace(/^\s+|\s+$/g,"")};return function(b){if("undefined"==typeof b||null==b)return"";b=b.trimStr();return""==b?"":m(b).split(":")[0]}(b)};c.getMD5=function(b,m,a){};c.getSHA1=function(b){};c.joinObject=function(b){var m=[],a;for(a in b)b.hasOwnProperty(a)&&m.push(a+"="+b[a]);return m.join("&")};c.getProtocol=function(){if("undefined"!==typeof c.protocol)return c.protocol;if("http:"==l.location.protocol||"https:"==l.location.protocol)c.protocol=c.baseProtocol=l.location.protocol,
c.topWindow=l;else{var b=l;var a=b.location.protocol;var f=0;try{for(;"http:"!=a&&"https:"!=a&&15>f&&b!==b.parent;)b=b.parent,a=b.location.protocol,f++}catch(D){}"http:"==a||"https:"==a?(c.protocol=a,c.topWindow=b):c.protocol="https:";c.baseProtocol=a}return c.protocol};c.getTopWindow=function(){this.topWindow||this.getProtocol();return this.topWindow};c.httpsReplace=function(b){"https:"==c.getProtocol()&&(-1==b.indexOf("hwdata1.aniview.com")&&(b=b.replace("data1.ani-view.com","gbdl.hs.llnwd.net/v1"),
b=b.replace("data1.aniview.com","aniview.hs.llnwd.net/d1")),b=b.replace(/^http:\/\//i,"https://"));return b};c.getTrueDomain=function(){function b(b){try{if(!l.location.ancestorOrigins)return;for(var h=0,a=l.location.ancestorOrigins.length;a>h;h++)b.call(null,l.location.ancestorOrigins[h],h)}catch(Q){}return[]}function a(b){var h=[];do try{var a=a?a.parent:l;b.call(null,a,h)}catch(Q){return h.push({referrer:null,location:null,isTop:!1}),h}while(a!==l.top);return h}function f(){var h=null;try{var m=
a(function(b,h){try{h.push({referrer:b.document.referrer||null,location:b.location.href||null,isTop:b===l.top})}catch(I){h.push({referrer:null,location:null,isTop:b===l.top})}});b(function(b,h){m[h].ancestor=b});h="";for(var f=m.length-1,v=m.length-1;0<=v&&(h=m[v].location,!h&&0<v&&(h=m[v-1].referrer,h||(h=m[v-1].ancestor)),!h);v--);D.refererStack=m;try{v=!1;if(h&&-1<h.indexOf("google.")&&l.location.ancestorOrigins&&3<m.length){var c=m.length;!m[c-1].location&&!m[c-2].location&&m[c-2].ancestor&&-1<
m[c-2].ancestor.indexOf("google.")&&m[c-3].referrer&&-1<m[c-3].referrer.indexOf(".cdn.ampproject.org")&&(h=m[c-3].referrer,v=!0)}if(!v&&-1<h.indexOf(".cdn.ampproject.org")){var d=h.split("/");if(d&&3<d.length&&-1<d[2].indexOf(".cdn.ampproject.org"))for(f=3;f<d.length;f++)if(-1<d[f].indexOf(".")){d.splice(0,f);h="https://"+d.join("/");break}}}catch(J){}}catch(J){}return h}var D=this;try{if(this.trueDomain)return this.trueDomain;var d=f();if("string"===typeof d)try{d=c.getAmpUrl(d)}catch(h){}"string"===
typeof d&&4<d.length&&(this.trueDomain=d);return d}catch(h){return null}};c.getAmpUrl=function(b){if("string"===typeof b){var a=b.indexOf("/amp/");if(0<a&&40>a){var f=b.indexOf("google.");0<f&&f<a&&(b="https://"+b.substring(a+5,500))}else{f=!0;var c="cdn.ampproject.org/v/s/";a=b.indexOf(c);-1>=a&&(f=!1,c="cdn.ampproject.org/v/",a=b.indexOf(c));-1<a&&50>a&&(b="http"+(f?"s":"")+"://"+b.substring(a+c.length,500))}return b}};c.logLevels={none:0,defaultLevel:1,error:2,info:4,debug:5};c.logLevel=c.logLevels.none;
c.writeLog=function(b,a,f){if(b<=this.logLevel)try{f?console.log(a,f):console.log(a)}catch(D){}};c.reportDuduPixel=function(b,a,f){};c.setFSState=function(b,a){a=a?b.requestFullscreen||b.webkitRequestFullscreen||b.webkitRequestFullScreen||b.mozRequestFullScreen||b.msRequestFullscreen:b.exitFullscreen||b.webkitExitFullscreen||b.webkitCancelFullScreen||b.mozCancelFullScreen||b.msExitFullscreen;if("function"!==typeof a)return!1;a.call(b);return!0};c.getFSElement=function(b){return b.fullscreenElement||
b.webkitFullscreenElement||b.webkitCurrentFullScreenElement||b.mozFullScreenElement||b.msFullscreenElement};c.getFSEvent=function(){var b=document;return b.exitFullscreen?"fullscreenchange":b.webkitExitFullscreen?"webkitfullscreenchange":b.webkitCancelFullScreen?"webkitfullscreenchange":b.mozCancelFullScreen?"mozfullscreenchange":b.msExitFullscreen?"MSFullscreenChange":null};c.getVideoSignature=function(b,a){b=b.replace(/\https/g,"http");var f=b.toUpperCase();if(-1<f.search(".MP4")||-1<f.search(".FLV")||
-1<f.search(".3GP")||-1<f.search(".WMV")||-1<f.search(".WEBM")){if(-1<b.search("/videoplayback/")&&-1<b.search("/id/")&&-1<b.search("/itag/")&&-1<b.search("/source/")&&-1<b.search("/ip/")){var m=b.search("ip/");b=b.substr(0,m)}m=b.indexOf("90minContentId");-1<m&&((b=b.substring(m+15,m+100))&&2<b.length&&(m=b.indexOf("&"),-1<m&&(b=b.substring(0,m))),b="http://90min.com/"+b+"/"+b+"/"+b+"/"+b);"string"===typeof a&&2<a.length&&(b=a);if(-1<b.indexOf("track.eyeviewads.com")){var c="";m=b.indexOf("madid=");
-1<m&&(m+=6,a=b.substring(m,m+100),m=a.indexOf("&"),-1<m&&(c=a.substring(0,m)),c&&2<c.length&&(b="http://track.eyeviewads.com/madid/"+c+"/"+c+"/"+c+"/"+c+"/"+c))}-1<b.indexOf("eyeviewads")?(a="",-1<f.search(".MP4")?a=".mp4":-1<f.search(".FLV")?a=".flv":-1<f.search(".3GP")&&(a=".3gp"),b=b.split(a),b=b[0]+a):-1<b.indexOf("?")&&(b=b.split("?"),b=b[0]);-1<b.indexOf("toboads.com/vast2/agw.php")&&(a="zzzzzzz",-1<f.search(".MP4")?a=".MP4":-1<f.search(".FLV")?a=".FLV":-1<f.search(".WEBM")?a=".WEBM":-1<f.search(".3GP")&&
(a=".3GP"),"zzzzzzz"!=a&&(b=f.split(a),b=b[0]+a))}else-1<b.indexOf("/www.youtube.com/get_video?")&&(c="",m=b.indexOf("video_id="),-1<m&&(m+=9,a=b.substring(m,m+100),m=a.indexOf("&"),-1<m&&(c=a.substring(0,m)),c&&2<c.length&&(b="http://www.youtube.com/video_id/"+c+"/"+c+"/"+c+"/"+c))),-1<b.indexOf("web.sundaysky.com/create_video")&&(c="",m=b.indexOf("create_video?id="),-1<m&&(m+=16,a=b.substring(m,m+100),m=a.indexOf("&"),-1<m&&(c=a.substring(0,m)),c&&2<c.length&&(b="http://web.sundaysky.com/create_video/video_id/"+
c+"/"+c+"/"+c+"/"+c)));f=b;a=0;m="";for(b=0;b<f.length;b++)c=f.charCodeAt(b)*b,a+=c,0==b%13&&(m+=a.toString(),a=0);m+=a.toString();return m+="_"+f.length};c.getSlotSize=function(b){b=b.getBoundingClientRect();b={width:b.width,height:b.height};var a=l.AV_player.config.width,f=l.AV_player.config.height;b.width=a>b.width?a:b.width;b.height=f>b.height?f:b.height;return b};var f=function(){function b(){var b=y.getVieabilityInfo(e.el,e.wnd),a=b.vertical.value*b.horizontal.value;return{inView:a>d,ratio:a,
state:b.vertical.state}}function a(){var a=b();f&&f(a.inView,a.ratio,a.state)}var f=null,d=.5,e=null,h=!1,y=this;this.checkViewability=function(){a()};this.start=function(b,m,v){if(h)return!1;a:{var y=null,r=l;c&&"function"===typeof c.getViewability&&"function"===typeof c.getUrlParameters&&(r=parent);try{if(y=r.frameElement)for(var D,p=r;p!==l.top;){D=y.ownerDocument;p=D.defaultView||D.parentWindow;if(p===l.top){var u=p;var C=y;break}y=p.frameElement}}catch(L){h=!0;e=null;break a}if(null==y){C="object"==
typeof b?b:r.document.getElementById(b);if(!C){h=!0;e=null;break a}u=r}e={el:C,wnd:u}}if(!e)return!1;v&&(d=v);m&&(e.wnd.addEventListener("resize",a,!0),e.wnd.addEventListener("scroll",a,!0),c.vitab&&e.wnd.document.addEventListener("visibilitychange",a),f=m,setTimeout(a,10));return!0};this.stop=function(){f&&(e.wnd.removeEventListener("resize",a,!0),e.wnd.removeEventListener("scroll",a,!0),f=null)};this.get=function(a,f){return!h&&e?b():{inView:!1,ratio:0,state:"UNKNOWN"}};this.getHorizontalViewability=
function(b,a){a=a.innerWidth;var h=b.getBoundingClientRect().left;b=b.getBoundingClientRect().right;var f=b-h;return h>a?{value:0,state:"OUT_RIGHT"}:0>=b?{value:0,state:"OUT_LEFT"}:0<=h&&b<=a?{value:1,state:"IN_HVIEW"}:0>h&&b>a?{value:a/f,state:"LR_TRUNC"}:0>h&&b<=a?{value:b/f,state:"L_TRUNC"}:0<=h&&b>a?{value:(a-h)/f,state:"R_TRUNC"}:{value:0,state:"OUT"}};this.getVerticalViewability=function(b,a){a=a.innerHeight;var h=b.getBoundingClientRect().top;b=b.getBoundingClientRect().bottom;var f=b-h;return h>
a?{value:0,state:"OUT_BOTTOM"}:0>=b?{value:0,state:"OUT_TOP"}:0<=h&&b<=a?{value:1,state:"IN_VVIEW"}:0>h&&b>a?{value:a/f,state:"BT_TRUNC"}:0>h&&b<=a?{value:b/f,state:"T_TRUNC"}:0<=h&&b>a?{value:(a-h)/f,state:"B_TRUNC"}:{value:0,state:"OUT"}};this.getVieabilityInfo=function(b,a){return{vertical:y.getVerticalViewability(b,a),horizontal:y.getHorizontalViewability(b,a)}}};c.getViewability=function(b){if(this.lastViewabilityCheck&&100>Date.now()-this.lastViewabilityCheck)return this.lastViewability;b||
(b=l.AV_player.config.slot);t(b,function(b,a,f,c){b&&"function"===typeof pl.wfvifunc&&pl.wfvifunc();if("function"==typeof pl.onContentViewChanged)pl.onContentViewChanged(b)});if(this.lastViewability=this.viewability.get())b=Math.floor(100*this.lastViewability.ratio),"UNKNOWN"==this.lastViewability.state&&(b=-1),this.vitab&&this.topDoc&&"hidden"===this.topDoc.visibilityState&&(b=0),this.lastViewability.perc=b;this.lastViewabilityCheck=Date.now();return this.lastViewability};c.getViewabilityPerc=function(b){var a=
-1;try{var f=this.getViewability(b);f&&(a=f.perc)}catch(D){}return a};c.adPosition=-1;c.getAdPosition=function(b,a){if(-1<this.adPosition)return this.adPosition;this.adPosition=0;try{if(b){var f=b.ownerDocument;if(f&&(f.defaultView||f.parentWindow)){var m=this.getTopWnd();if(top===m&&(top!==parent&&(this.getTopWnd(),b=this.frameElement),b)){var c=b.getBoundingClientRect(),h=top.scrollY+c.top+a/2;this.adPosition=0<=h&&h<=top.innerHeight?1:3}}}}catch(y){}return this.adPosition};c.flashInstalled=function(){if("undefined"===
typeof this.isFlashInstalled)try{this.isFlashInstalled=1==("undefined"!==typeof navigator.plugins&&"object"===typeof navigator.plugins["Shockwave Flash"]||l.ActiveXObject&&!1!==new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))}catch(b){this.isFlashInstalled=!1}return this.isFlashInstalled};c.createCORSRequest=function(b,a,f,c){c=new (c||l).XMLHttpRequest;"withCredentials"in c?(c.open(b,a,!0),1==f&&(c.withCredentials=!0)):"undefined"!=typeof XDomainRequest?(c=new XDomainRequest,c.open(b,a)):c=null;
return c};c.request=function(b,a,f,d,e){try{var h=c.createCORSRequest(b,a,d);h.requesthandled=!1;var m={onload:e&&e.onload?e.onload:function(){},onerror:e&&e.onerror?e.onerror:function(){}};"undefined"===typeof h.onreadystatechange?(h.onprogress=function(){},h.ontimeout=function(){},h.onload=function(){m.onload(h)},h.onerror=function(){m.onerror(h)}):h.onreadystatechange=function(){if(4==h.readyState)if(200==h.status||304==h.status)m.onload(h);else m.onerror(h)};h.send(f)}catch(C){}};c.trackingBuffer=
{};c.trackingBufferSize=12;c.trackingBufferTimeout=5;c.bufferTrackingPixel=function(b,a,f,d){try{this.postBaseUrl=a,this.trackingBuffer[b]||(this.trackingBuffer[b]={timer:0,data:[]}),f&&this.trackingBuffer[b].data.push(f),d||this.trackingBuffer[b].data.length>=c.trackingBufferSize?k(b,a):1==this.trackingBuffer[b].data.length&&(this.trackingBuffer[b].timer=setTimeout(function(){c.trackingBuffer[b].timer=0;k(b,c.postBaseUrl)},1E3*c.trackingBufferTimeout))}catch(A){}};c.initTrackingBuffer=function(b){if(!this.initTrackingBufferDone&&
(this.initTrackingBufferDone=!0,1==b&&(b=this.getTopWnd()))){"undefined"===typeof b.storageAni&&(b.storageAni={});"undefined"===typeof b.storageAni.trk&&(b.storageAni.trk={});for(var a=Date.now().toString();b.storageAni.trk[a];)a=(Date.now()+1).toString();b.storageAni.trk[a]={trackingBuffer:{},trackingBufferSize:12,trackingBufferTimeout:5};try{var f=document.createElement("script"),d=e.toString()+p.toString();d=d.replace(/(\r\n|\n|\r)/gm,"");d=d.replace("function "+e.name,"function av_trk_post"+a);
d=d.replace("function "+p.name,"function av_trk_buffer"+a);d=d.replace("postTrackingPixelsProto","av_trk_post"+a);d=d.replace("postTrackingPixelsProto","av_trk_post"+a);f.innerText=d;b.document.body.appendChild(f);c.topBufferTrackingPixelImpl=b["av_trk_buffer"+a];c.topBufferTrackingPixelTrk=b.storageAni.trk[a]}catch(A){}}return"function"===typeof c.topBufferTrackingPixelImpl&&!!c.topBufferTrackingPixelTrk};c.topBufferTrackingPixel=function(b,a,f,d){this.initTrackingBuffer(1);this.topBufferTrackingPixelImpl&&
this.topBufferTrackingPixelImpl(b,a,f,d,c.topBufferTrackingPixelTrk,c.getTopWnd())};c.findAdServerName=function(b,a){function f(b){b||(b="");return b.trim().toLowerCase()}function m(b,a,f,m){b=b.indexOf(a);return b>f&&b<m?!0:!1}try{b=f(b);a=[{n:"3rdp1",t:"b.measuread.com/tl.js",s:0,e:11}];for(var c=0;c<a.length;c++)if(m(b,a[c].t,a[c].s,a[c].e))return a[c].n}catch(h){}return""};c.isAutoSound=function(b){return b.autosound&&!c.isMobile()||b.advideoslot&&b.autosound};c.vcmgr={init:function(b){b.av_evts||
(b.av_evts=[],b.av_evtscnt=1,b.av_orig_addEventListener=b.addEventListener,b.av_orig_removeEventListener=b.removeEventListener);b.addEventListener=function(b,a,f){"function"===typeof a&&(a.av_evtid=this.av_evtscnt++,this.av_evts.push({evt:b,func:a,opt:f}));return this.av_orig_addEventListener.apply(this,arguments)};b.removeEventListener=function(b,a,f){if("function"===typeof a&&a.av_evtid)for(var m=0;m<this.av_evts.length;m++)if(a.av_evtid==this.av_evts[m].func.av_evtid){this.av_evts.splice(m,1);
break}return this.av_orig_removeEventListener.apply(this,arguments)}},clean:function(b){if(b&&b.av_evts){for(var a=0;a<b.av_evts.length;a++)try{b.av_orig_removeEventListener.call(b,b.av_evts[a].evt,b.av_evts[a].func,b.av_evts[a].opt)}catch(v){}b.av_evts.length=0;b.autoplay=!1}},reset:function(b){b&&b.av_evts&&(this.clean(b),b.av_evts=null,b.av_evtscnt=0,b.av_orig_addEventListener&&(b.addEventListener=b.av_orig_addEventListener,b.av_orig_addEventListener=null),b.av_orig_removeEventListener&&(b.removeEventListener=
b.av_orig_removeEventListener,b.av_orig_removeEventListener=null))}};c.getTopWnd=function(b){if(this.topWnd)return this.topWnd;var a=b||l;try{for(;a.frameElement;){this.frameElement=a.frameElement;try{a.frameElement.getBoundingClientRect()&&(a=a.frameElement.ownerDocument.defaultView||a.frameElement.ownerDocument.parentWindow)}catch(v){break}}}catch(v){}return this.topWnd=a||b||l};c.preventDefaults=function(b){b||(b=l.event);b&&(b.stopPropagation?b.stopPropagation():b.cancelBubble=!0)};c.initScrollIntoViewHandler=
function(b,a){function f(b,a){b&&a&&!b.Element.prototype.av_OrigScrollIntoView&&(b.Element.prototype.av_OrigScrollIntoView=b.Element.prototype.scrollIntoView,b.Element.prototype.scrollIntoView=function(){for(var b=this;b&&b.parentNode&&b!==b.parentNode;){if(b===a)return;b=b.parentNode}return this.av_OrigScrollIntoView.apply(this,arguments)})}if(!b.AV_handleScrollIntoView)try{var m=document.createElement("script");m.innerText=f.toString();m.innerText=m.innerText.replace(/(\r\n|\n|\r)/gm,"");var c=
"av_sciv_hndlr"+Date.now();m.innerText=m.innerText.replace("function "+f.name,"function "+c);b.document.body.appendChild(m);b[c](b,a)}catch(h){}};c._consent={gdpr:{consentData:"",gdprApplies:!1,hasGlobalScope:!1,success:!1},usp:""};c.setConsent=function(b,a,f){"string"===typeof b&&1<b.length&&(this._consentReq=!0,"undefined"===typeof a&&(a=!0),"undefined"===typeof f&&(f=!0),c._consent.gdpr={consentData:b,gdprApplies:a,hasGlobalScope:f,success:!0})};c.setCCPA=function(b){"string"===typeof b&&4===b.length&&
b.startsWith("1")&&!b.endsWith("---")&&(this._ccpaReq=!0,c._consent.usp=b)};c.scanConsentFuncs=function(){if(!this.consentScan){try{for(var b=l,a=20;0<a--;){if("function"===typeof b.__tcfapi){var f=b.__tcfapi;var c=b;var d=2;var h=!0}else"function"===typeof b.__cmp&&(f=b.__cmp,c=b,d=1,h=!0);if("function"===typeof b.__uspapi){var e=b.__uspapi;var r=b;var p=!0}try{b.frames.__tcfapiLocator&&(c=b.frames.__tcfapiLocator,d=2,h=!0)}catch(J){}try{2!=d&&b.frames.__cmpLocator&&(c=b,d=1,h=!0)}catch(J){}try{b.frames.__uspapiLocator&&
(r=b,p=!0)}catch(J){}try{if(b&&b.$sf&&b.$sf.ext&&b.$sf.ext.cmp&&!u){var u=b.$sf;h=!0}}catch(J){}try{if(b&&b.$sf&&b.$sf.ext&&b.$sf.ext.uspapi&&!q){var q=b.$sf;p=!0}}catch(J){}if(b===top)break;b=b.parent}}catch(J){}this.consentScan={cmpFrame:c,cmpFunc:f,cmpV:d,uspFunc:e,uspFrame:r,cmpSF:u,uspSF:q,cmpFound:h,uspFound:p}}return this.consentScan};c.getCurrentConsent=function(){return this._consent};var u=!1;c.checkConsentRetry=function(b,a,f){if(!u&&(u=!0,b&&!this.consentScan.cmpFound||a&&!this.consentScan.uspFound)){var m=
this,v=0;var h=setInterval(function(){v++;40<v||!(b&&!m.consentScan.cmpFound||a&&!m.consentScan.uspFound)?clearInterval(h):(b&&(m._consentReq=!1),a&&(m._ccpaReq=!1),m.consentScan=null,c.getConsent())},f||250)}};c.getConsent=function(b,a){function f(b){var a=!1;b&&b.consentData&&"string"===typeof b.consentData&&1<b.consentData.length&&(a=d._consent.gdpr.consentData!==b.consentData,d._consent.gdpr.consentData=b.consentData,d._consent.gdpr.gdprApplies=b.gdprApplies,d._consent.gdpr.hasGlobalScope=b.hasGlobalScope,
d._consent.gdpr.success=!0);d._consent.gdprCallbackFunc&&a&&d._consent.gdprCallbackFunc()}function m(b,a){a&&"object"===typeof b&&"string"===typeof b.tcString&&"boolean"===typeof b.gdprApplies&&f({consentData:b.tcString,gdprApplies:b.gdprApplies,success:b.success})}function c(b,a){a&&b&&"string"===typeof b.uspString&&4===b.uspString.length&&b.uspString.startsWith("1")&&(d._consent.usp=b.uspString.toUpperCase(),d._consent.uspCallbackFunc&&(d._consent.uspCallbackFunc(),d._consent.uspCallbackFunc=null))}
var h,d=this;b&&(d._consent.gdprCallbackFunc=b);a&&(d._consent.uspCallbackFunc=a);if(!this._consentReq){this._consentReq=!0;b=this.scanConsentFuncs();a=null;if(b.cmpV)if(2==b.cmpV){a=2;var e=m;var r="addEventListener"}else e=f,r="getConsentData";if(b.cmpFunc)b.cmpFunc(r,a,e);else if(b.cmpSF)try{b.cmpSF.ext.register(d.width,d.height,function(b,a){"cmpReturn"===b&&a&&a.vendorConsentData&&f(a.vendorConsentData)}),b.cmpSF.ext.cmp("getConsentData")}catch(F){}else if(b.cmpFrame)try{var p=Math.random()+
"";if(2==b.cmpV){var u="__tcfapi";var q=m}else u="__cmp",q=f;e=u+"Call";var z=u+"Return";var x={};x[e]={command:r,parameter:null,callId:p};l.addEventListener("message",h=function(b){b&&(b="string"===typeof b.data&&-1<b.data.indexOf("Return")?JSON.parse(b.data):b.data)&&b[z]&&b[z].callId===p&&(l.removeEventListener("message",h,!1),(b=b[z])&&b.returnValue&&q(b.returnValue,b.success))},!1);b.cmpFrame.postMessage(x,"*")}catch(F){}}if(!this._ccpaReq)if(this._ccpaReq=!0,b=this.scanConsentFuncs(),b.uspFunc)try{b.uspFunc("getUSPData",
1,c)}catch(F){}else if(b.uspSF)try{b.uspSF.ext.register(d.width,d.height,function(b,a){"__uspapiReturn"===b&&a&&a.vendorUSPData&&c(a.vendorUSPData)}),b.uspSF.ext.uspapi("getUSPData")}catch(F){}else if(b.uspFrame)try{p=Math.random()+"",x={__uspapiCall:{command:"getUSPData",parameter:null,callId:p}},l.addEventListener("message",h=function(b){b&&(b="string"===typeof b.data&&-1<b.data.indexOf("uspapiReturn")?JSON.parse(b.data):b.data)&&b.__uspapiReturn&&b.__uspapiReturn.callId===p&&(l.removeEventListener("message",
h,!1),(b=b.__uspapiReturn)&&b.returnValue&&c(b.returnValue))},!1),b.uspFrame.postMessage(x,"*")}catch(F){}return this._consent};c.ampStubFix=function(b){if(this.isamp)try{b.setTimeout=parent.setTimeout,b.clearTimeout=parent.clearTimeout,b.setInterval=parent.setInterval,b.clearInterval=parent.clearInterval}catch(m){}};c.checkNativeVideo=function(b){var a=document.createElement("video");a.src="data:audio/mpeg;base64,/+MYxAAAAANIAUAAAASEEB/jwOFM/0MM/90b/+RhST//w4NFwOjf///PZu////9lns5GFDv//l9GlUIEEIAAAgIg8Ir/JGq3/+MYxDsLIj5QMYcoAP0dv9HIjUcH//yYSg+CIbkGP//8w0bLVjUP///3Z0x5QCAv/yLjwtGKTEFNRTMuOTeqqqqqqqqqqqqq/+MYxEkNmdJkUYc4AKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq";
a.setAttribute("playsinline",!0);a.setAttribute("webkit-playsinline",!0);a.style.display="none";a.muted=!0;a=a.play();var f=!1;a?(a.then(function(){f=!0;b(!0,!0)}).catch(function(a){f=!0;b(!1,!0)}),setTimeout(function(){f||b(!1,!1)},1E3)):b(!1)};c.firePixel=function(b,a,f,c,d,h){try{if(2==a||3==a){var m=document.createElement(2==a?"script":"iframe");m.src=f;b||(b=document.body);b&&b.appendChild(m)}else(new ((c&&d?this.getTopWnd():l).Image)).src=h?h(f):f}catch(C){}};c.firePrebidPixels=function(b){for(var a=
0;b&&a<b.length;a++){var f="iframe"==b[a].type?3:1;b[a]&&b[a].url&&this.firePixel(document.body,f,b[a].url)}};var r=0,z={};c.getDateTime=function(){var b=new Date;if(3E3>b.getTime()-r)return z;r=b.getTime();var a=b.getUTCFullYear(),f=b.getUTCMonth()+1,c=b.getUTCDate(),d=b.getUTCHours(),h=b.getUTCMinutes();b=b.getUTCSeconds();return z={date:a+"-"+((10>f?"0":"")+f)+"-"+((10>c?"0":"")+c),time:(10>d?"0":"")+d+":"+((10>h?"0":"")+h)+":"+((10>b?"0":"")+b)}};c.getReplace=function(b,a){return function(f,m){return f.replace(b,
function(b){b=a[b];return"function"===typeof b?b(m):b})}};c.getReplaceRegex=function(b){b=Object.keys(b).join("|").replace(/\[|\]/g,function(b){return"\\"+b});return new RegExp(b,"g")};c.loadScriptToIframe=function(b,a,f,c,d){function h(b,a){var h=b.contentWindow.document;h.open();h.write("<body style='margin:0;padding:0;'>"+a+"</body>");h.close();"function"===typeof d&&(b.contentWindow.avpassback=d)}var m=a,v=f,e=c;f="#000";var r="script",p=document.createElement("iframe");v=p;p.id="ani_passback";
p.setAttribute("scrolling","no");"object"===typeof a?(r=a.type||r,m=a.url,v=a.width?a.width+"px":"100%",e=a.height?a.height+"px":"100%",f=a.color||f,p.style.cssText="height:"+e+";width:"+v+";overflow:hidden;margin:0;padding:0;position:absolute;top:50%;left:50%;scrolling:no;frame-border:0;border-style:none;transform:translate(-50%,-50%);ms-transform:translate(-50%,-50%);",v=document.createElement("div"),v.style.cssText="height:100%;width:100%;position:relative",v.appendChild(p)):p.style.cssText="width:playerWidthpx;height:"+
c+"px;overflow:hidden;margin:0px 0px 0px 0px;padding:0px 0px 0px 0px";b.innerHTML="";b.style.background=f;b.appendChild(v);if("script"===r)b=document.createElement("script"),b.type="text/javascript",b.src=m,p.appendChild(b);else if("html"===r){var u=this.createCORSRequest("GET",m,!1);u.onload=function(){h(p,u.responseText)};u.send()}else h(p,m)};c.getABT=function(b){if(b&&b.macros)return b.macros.AV_ABT};c.getStorage=function(b,a,f,c){var m="av_"+b+"_data",h=localStorage.getItem(m),d=a=!1;b="";h&&
(h=JSON.parse(h))&&1==h.v&&(b=h.d)&&(f||(f=365),f=h.t+864E5*f,Date.now()>f?(localStorage.removeItem(m),b="",a=!0):c&&(c=h.t+1E3*c,Date.now()>c&&(d=!0)));return{data:b,expired:a,refresh:d}};c.setStorage=function(b,a){b="av_"+b+"_data";a={v:1,d:a,t:Date.now()};a=JSON.stringify(a);localStorage.setItem(b,a)};c.getAccounting=function(b,a,f,c){var m={sCpm:0,nFloor:0,nCpm:0};b?(c=isNaN(b.c)?0:b.c,f=isNaN(b.r)?0:b.r,m.nFloor=isNaN(b.fp)?c:b.fp,m.nCpm=a?a:c,1==b.t?m.sCpm=isNaN(b.v)?0:b.v:2==b.t&&(a=isNaN(b.v)?
1:b.v,m.sCpm=a*(m.nCpm-f)),1==b.pt?m.pCpm=b.pv:2==b.pt&&(b=isNaN(b.pv)?1:b.pv,m.pCpm=b*(m.nCpm-f))):(m.sCpm=c||f,m.nFloor=f,m.nCpm=c||f);return m};var x;c.checkCookies=function(){if("undefined"!==typeof x)return x;"undefined"!==typeof navigator.cookieEnabled?x=navigator.cookieEnabled:(document.cookie="avtestcookie",x=-1!=document.cookie.indexOf("avtestcookie"));return x};c.getDnt=function(){return 1*("1"==l.doNotTrack||"yes"==navigator.doNotTrack||"1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack)};
c.setIrisTv=function(b,a,f,c){b&&c&&"pb"==a&&(10==f||12==f)&&c.bids&&c.bids[0]&&c.bids[0].params&&(10==f?(c.bids[0].params.custom=c.bids[0].params.custom||{},c.bids[0].params.custom.iris_context=d(b,c.bids[0].params.custom.iris_context)):12==f&&(c.bids[0].params.inventory=c.bids[0].params.inventory||{},c.bids[0].params.inventory.context=d(b,c.bids[0].params.inventory.context)));return c};c.isIframeInIframe=function(b){b=b||l;try{return b.parent&&b.parent.parent&&b.parent!==b.parent.parent}catch(m){}};
c.handleIntervention=function(b,a){b=b||l;try{if("undefined"!==typeof b.ReportingObserver){var f="vp";b===l?f="avm":b===l.parent&&(f="player");var c=new b.ReportingObserver(function(b){q(f,b,a)},{buffered:!0});c.observe();b.addEventListener("unload",function(){q(f,c.takeRecords(),a)})}}catch(A){}};c.getInterventionReason=function(b){if("crash"===b.type)return b.type;b=b.body&&b.body.message;return"string"!==typeof b?"gen":0<b.indexOf("network")?"net":0<b.indexOf("CPU")?"cpu":"gen"};c.sendGA=function(b){try{if(!this.gatest){this.gatest=
!0;try{var a=c.getTopWnd();this.gafunc=cnf.gafunc||(cnf.gafuncname?a[cnf.gafuncname]:null)||a.__gaTracker||a.ga}catch(v){}}this.gafunc&&b&&4==b.t&&b.d&&this.gafunc.getAll().forEach(function(a){a.send({hitType:b.d.eventHit,eventCategory:b.d.eventCategory,eventAction:b.d.eventAction,eventLabel:b.d.eventLabel,eventValue:isNaN(b.d.eventValue)?void 0:b.d.eventValue,location:c.getTrueDomain()})})}catch(v){}};c.getPriceGranularity=function(b,a){if(!b||isNaN(b))return 0;switch(a){case "high":a=100;break;
default:a=10}return Math.floor(b*a)/a}})(window);
(function(l){function a(a){return a&&a.complete&&0<a.width&&0<a.height}function t(a,c){function f(b){var a,f=0,c="";for(a=0;a<b.length;a++){var h=b.charCodeAt(a)*a;f+=h;0==a%13&&(c+=f.toString(),f=0)}c+=f.toString();return c+="_"+b.length}a=a.replace(/\https/g,"http");var d=a.toUpperCase();if(-1<d.search(".SWF")||-1<d.search(".MP4")||-1<d.search(".FLV")||-1<d.search(".3GP")||-1<d.search(".WMV")||-1<d.search(".WEBM")||-1<d.search(".M3U8")){var e="";if(0==a.trim().indexOf("data:"))return a=f("http://pixel.adsafeprotected.com/IASVideo.js?1234");
(-1<a.search("/videoplayback/")||-1<a.search("/signature/"))&&-1<a.search("/id/")&&-1<a.search("/itag/")&&-1<a.search("/source/")&&-1<a.search("/ip/")&&(e=a.search("ip/"),a=a.substr(0,e));if(-1<a.search("rtr.innovid.com/d/")&&-1<a.search("/media/")){e=a.search("rtr.innovid.com/d/")+18;e=a.substr(e,e+50);var b=e.search("/");-1<b&&(e=e.substr(0,b)+"/",a="https://rtr.innovid.com/d/"+e+e+e+e+e)}e=a.indexOf("90minContentId");-1<e&&((a=a.substring(e+15,e+100))&&2<a.length&&(e=a.indexOf("&"),-1<e&&(a=a.substring(0,
e))),a="http://90min.com/"+a+"/"+a+"/"+a+"/"+a);"string"===typeof c&&2<c.length&&(a=c);-1<a.indexOf("track.eyeviewads.com")&&(b="",e=a.indexOf("madid="),-1<e&&(e+=6,c=a.substring(e,e+100),e=c.indexOf("&"),-1<e&&(b=c.substring(0,e)),b&&2<b.length&&(a="http://track.eyeviewads.com/madid/"+b+"/"+b+"/"+b+"/"+b+"/"+b)));-1<a.indexOf("eyeviewads")?(c="",-1<d.search(".MP4")?c=".mp4":-1<d.search(".FLV")?c=".flv":-1<d.search(".3GP")&&(c=".3gp"),a=a.split(c),a=a[0]+c):-1<a.indexOf("?")&&(a=a.split("?"),a=a[0]);
-1<a.indexOf("toboads.com/vast2/agw.php")&&(c="zzzzzzz",-1<d.search(".MP4")?c=".MP4":-1<d.search(".FLV")?c=".FLV":-1<d.search(".WEBM")?c=".WEBM":-1<d.search(".3GP")&&(c=".3GP"),"zzzzzzz"!=c&&(a=d.split(c),a=a[0]+c));a=f(a)}else{-1<a.indexOf("/www.youtube.com/get_video?")&&(b="",e=a.indexOf("video_id="),-1<e&&(e+=9,c=a.substring(e,e+100),e=c.indexOf("&"),-1<e&&(b=c.substring(0,e)),b&&2<b.length&&(a="http://www.youtube.com/video_id/"+b+"/"+b+"/"+b+"/"+b)));-1<a.indexOf("/create_video")&&(b="",e=a.indexOf("create_video?id="),
-1<e?(e+=16,c=a.substring(e,e+100),e=c.indexOf("&"),-1<e&&(b=c.substring(0,e)),b&&2<b.length&&(a="http://web.sundaysky.com/create_video/video_id/"+b+"/"+b+"/"+b+"/"+b)):(d=Utils.getUrlParameters(a))&&"string"===typeof d.video_sku&&(c=a.split("?"),1<c.length&&(a=c[0]+"?video_sku="+d.video_sku)));if(0==a.trim().indexOf("data:")||-1<a.indexOf(".js?")||-1<a.indexOf("/js/vpaid/")||-1<a.indexOf("/moatwrapper.js#")||a.indexOf(".js")==a.length-3)a="http://pixel.adsafeprotected.com/IASVideo.js?1234";-1<a.indexOf("vam.imposium.com/redirect")&&
(d=a.indexOf("?"),-1<d&&(a=a.substring(0,d)));d=a.indexOf("ad.doubleclick.net/ddm");-1<d&&11>d&&-1<a.indexOf("=text/xml")&&(a="http://pixel.adsafeprotected.com/IASVideo.js?1234");a=f(a);1E3<a.length&&(a=f(a))}return a}function k(a,c,d,p,q){var b;var f=(new Date).getTime();l.AV_player.config.adfoldermode?a=p.trim()+"/id.txt":(p=l.AV_player.config.keydomain,q&&(p="cdn3.aniview.com"),a=Utils.httpsReplace("http://"+p+"/")+c+"/"+a+"/id.txt?cb="+f);var v=e("GET",a,0);v.onload=function(){200==v.status?""!=
v.responseText?(b=JSON.parse(v.responseText),b.error?1==b.error||2==b.error||3==b.error?d.failure(b):d.success(b):d.success(b)):d.failure({error:0}):403==v.status||404==v.status?d.failure(null):d.failure({error:0})};v.onerror=function(){403==v.status||404==v.status?d.failure(null):d.failure({error:0})};v.send()}function e(a,c,d){var f=new XMLHttpRequest;"withCredentials"in f?(f.open(a,c,!0),1==d&&(f.withCredentials=!0)):"undefined"!=typeof XDomainRequest?(f=new XDomainRequest,f.open(a,c)):f=null;
return f}function p(a,c){var f=null,e=[];for(f in c){var p=f.substring(0,4);if("get_"==p||"set_"==p){var b=f.substring(4);if(-1==e.indexOf(b)){e.push(b);p=c["get_"+b];var m=c["set_"+b];if("nodeName"==b||"tagName"==b)try{d(a,b,p,m)}catch(v){}else d(a,b,p,m)}}else a[f]=c[f]}}function d(a,c,d,e,p){void 0!=Object.defineProperty?(p={enumerable:void 0!=p?p:!0,configurable:!0},d&&(p.get=d),e&&(p.set=e),Object.defineProperty(a,c,p)):(d&&void 0!=a.__defineGetter__&&a.__defineGetter__(c,d),e&&void 0!=a.__defineSetter__&&
a.__defineSetter__(c,e))}var q=l.AniviewImagePlayer={};q.createAniviewVideoTag=function(a){return Utils.isMobile()?q.isVideoSupported(a)?q.createMobileVideoTag():q.createTag():document.createElement("video")};q.isVideoSupported=function(a){if(a||l.AV_player&&l.AV_player.config&&l.AV_player.config.nativevideo)if(Utils.isVideoSupported()||l.AV_player&&l.AV_player.config&&(a||l.AV_player.config.nativevideo)&&l.AV_player.config.nativetest)return!0;return!1};q.createMobileVideoTag=function(){var a=document.createElement("video");
a.setAttribute("muted",!0);a.setAttribute("playsinline",!0);a.setAttribute("webkit-playsinline",!0);a.origPlay=a.play;a.play=function(){a.fullScreenRequested||(a.setAttribute("muted",!0),a.setAttribute("playsinline",!0),a.setAttribute("webkit-playsinline",!0));this.pauseState=!1;return a.origPlay.call(a)};a.origPause=a.pause;a.pause=function(){this.pauseState=!0;this.pauseStateTimer&&(clearInterval(this.pauseStateTimer),this.pauseStateTimer=0);return a.origPause.call(a)};a.audioReady=!0;Utils.isiOS()&&
(a.addEventListener("webkitbeginfullscreen",function(){a.fullScreenRequested||"function"!==typeof a.webkitExitFullscreen||a.webkitExitFullscreen()}),a.addEventListener("webkitendfullscreen",function(){a.setAttribute("playsinline",!0);a.setAttribute("webkit-playsinline",!0)}),a.resize=function(c,f,d){"fullscreen"==d&&Utils.isiOS()&&((c=a.paused)||a.pause(),a.removeAttribute("playsinline"),a.removeAttribute("webkit-playsinline"),a.fullScreenRequested=!0,c||a.play())});return a};q.createTag=function(f){function d(b){if("string"!==
typeof b)return!1;b=b.trim();return 0==b.indexOf("data:")||0==b.indexOf("about:")?!1:!0}function e(){var b=null,a=B.children;if(a&&0<a.length&&(!B.src||""==B.src)){var g="";for(b=0;b<a.length;b++)a[b].src&&(-1<a[b].src.indexOf("wmv")||-1<a[b].src.indexOf("webm")||-1<a[b].src.indexOf("mp4")||-1<a[b].src.indexOf("flv")||-1<a[b].src.indexOf("3gpp"))&&d(a[b].src)&&(g=a[b].src,b=a.length);b=g}b&&""!=b||d(B.getAttribute("src"))&&(b=B.getAttribute("src"));b&&""!=b||(b=B.src);b&&d(b)&&(B.src=b)}function q(){return l.AV_player.config.hd&&
M&&"true"==String(M.HD).toLowerCase()}function x(b){Utils.writeLog(Utils.logLevels.debug,"Video Player event: "+B.asid+":"+b);var a="on"+b;if("function"===typeof B[a])B[a]();a=document.createEvent("HTMLEvents");a.initEvent(b,!0,!0);B.dispatchEvent(a)}function b(a,h){if(null!=G&&""!=G&&d(G))if(W++,30<W)x("encodeerror");else{w=M=null;T=!1;V=!0;F=0;g=O;H.pause();H.src="";I&&(E=I);try{N.getContext("2d").clearRect(0,0,N.width,N.height)}catch(Ca){console.error(Ca)}"string"===typeof G&&"//"==G.trim().substring(0,
2)&&(G="http:"+G.trim());if(!a&&!h&&"string"===typeof G){var c=G.trim();a=c.indexOf("//r.mradx.net/r/");if(-1<a&&8>a)if(c=c.replace("https://","http://"),0==c.indexOf("//")&&(c="http:"+c),ta==c&&U)h=U;else{var f=!1,e=new XMLHttpRequest;e.onreadystatechange=function(){if(4===this.readyState&&!f){if(200===this.status)try{var a=JSON.parse(this.responseText);a.etag||(a.etag=a.ETag);var g=a.etag;if("string"===typeof g&&5<g.length){ta=c;U=g+g+g;b(!1,U);f=!0;return}}catch(ua){}b(!0);f=!0}};e.open("GET",
"https://cross.aniview.com/api/video/proxy?type=1&url="+encodeURIComponent(c),!0);e.send();setTimeout(function(){f||(f=!0,b(!0),e.abort())},2500);return}}var n=t(G,h);x("waiting");B.VIDEO_FOLDER_ID=function(b,a){var g=1;ka=!0;ea="http://data3.aniview.com/";if(l.AV_player.config.forcenewcdn||l.AV_player.config.newcdn)ea="http://data4.aniview.com/",pa=!0;if("56425b19181f4650718b456c"==b)return"115252";if("55b88d67181f465d3e8b4567"==b)return"41751";for(b=0;b<a.length;b++)g+=a.charCodeAt(b);switch(g%
27){case 1:case 4:case 7:case 10:case 13:case 16:case 19:return"20181";case 2:case 5:case 8:case 11:case 14:case 17:case 20:return"20182";case 3:case 6:case 9:case 12:case 15:case 18:case 21:return"20183";case 22:case 23:case 24:case 25:case 26:case 27:case 0:return"20184"}return"20152"}(l.AV_player.config.publisherid,n);l.AV_player.config.cdnurl1&&(ea=l.AV_player.config.cdnurl1);k(n,B.VIDEO_FOLDER_ID,{success:function(b){M=b;X=q()?{width:512,height:288}:{width:300,height:167};Y=1;x("loadstart");
x("durationchange");x("loadedmetadata");b=l.AV_player.config.publisherid;var a="a";"Content"==B.asid&&(a="c");w=[];for(var g=Utils.httpsReplace(ea),h=0;h<M.total;h++){var c=g+"videos/resources/"+B.VIDEO_FOLDER_ID+"/"+M.id+"/"+(q()?"hd/":"")+"img"+h+".ani";l.AV_player.config.adfoldermode?c=B.src.trim()+"/"+(q()?l.AV_player.config.hdgeneric?"generic/":"hd/":"")+"img"+h+".ani":ka&&(c=Utils.httpsReplace(g)+B.VIDEO_FOLDER_ID+"/"+n+"/"+(q()?l.AV_player.config.hdgeneric?"generic/":"hd/":"")+"img"+(h+1)+
".ani?pid="+b+"&type="+a);w.push({url:c,image:null})}v();h=g+"videos/resources/"+B.VIDEO_FOLDER_ID+"/"+M.id+"/"+M.id+".mp3";l.AV_player.config.adfoldermode?h=B.src.trim()+"/"+M.id+".mp3":ka&&(h=Utils.httpsReplace(g)+B.VIDEO_FOLDER_ID+"/"+M.id+"/"+M.id+".mp3?pid="+b+"&type="+a);H.oncanplaythrough=function(){T||404==this.status||(T=!0,B.audioReady=!0);x("durationchange");x("progress")};if(!ka||ka&&0<M.Mp3Size)H.src=h;b=new XMLHttpRequest;b.open("GET",h,!0);b.onload=function(b){T||404==this.status||
(T=!0,B.audioReady=!0,x("progress"))};(!ka||ka&&0<M.Mp3Size)&&b.send(null);Z&&B.play()},failure:function(a){a&&null!=a.error?0==a.error?setTimeout(b,1E3):x("encodeerror"):ba?setTimeout(b,1E3):(ba=!0,m(n))}},B.src,pa)}}function m(a){if("string"===typeof G&&1<G.trim().length){var g=encodeURIComponent(G),h=l.AV_player.config.adddomain;pa&&(h="add2.aniview.com");g="videoURL="+g+"&xchangePartner="+B.VIDEO_FOLDER_ID+"&ADID="+a+"&vast=";var c=new XMLHttpRequest;a=Utils.httpsReplace("http://"+h)+"/cdnorigin/prod/addVideo?pubid="+
AV_player.config.publisherid+"&ADID="+a+"&cid="+AV_player.config.channelid+"&asid="+B.asid+"&v=2";c.open("POST",a,!0);c.setRequestHeader("Content-Type","application/x-www-form-urlencoded");c.onload=function(){200==c.status&&setTimeout(b,1E3)};c.send(g)}}function v(){if(w&&w.length){var b=Math.floor(F),a=Math.floor(b+4);a>w.length&&(a=w.length);for(;b<a;){var g=w[b];g.image||(g.image=document.createElement("img"),b==w.length-1&&(g.image.av_lastImage=!0),g.image.onload=function(){this.onload=null;this.av_lastImage&&
x("durationchange");va||(va=!0,Y=4,x("canplay"),x("canplaythrough"),x("loadeddata"));x("progress")},g.image.src=g.url);b++}}}function D(){var b=0==la?B.clientWidth:la,a=0==ca?B.clientHeight:ca;b=Math.floor(b);a=Math.floor(a);var g=!1;N.width!=b&&(N.width=b,g=!0);N.height!=a&&(N.height=a,g=!0);g&&x("resize")}function A(b){F!=b&&(F=b,0>F?F=0:F>B.duration&&(F=B.duration),R&&(H.currentTime=F))}function h(b){if(w&&w.length){var g=Math.floor(F);b=Math.floor(g+b);b>w.length&&(b=w.length);for(;g<b;){if(!a(w[g].image))return!1;
g++}return!0}return!1}function y(){return{x:5,y:N.height-5-20,width:N.width-10,height:20}}function C(b){var g=F;E||(g+=.4);if(w&&w.length&&X){var h=Math.floor(g);if(null!=w[h]){var c=w[h].image;if(a(c)&&(l.AV_player.config.hdgeneric&&!qa&&(X.width=c.width,X.height=c.height/10,qa=!0),g=Math.round(10*(g-h)),h=h+"_"+g,P!=h||b)&&(P=h,g<Math.round(c.height/X.height))){h=Math.min(N.width/X.width,N.height/X.height);b=X.width*h;h*=X.height;1==l.AV_player.config.videoscale&&M.width&&M.height&&(h=Math.min(N.width/
M.width,N.height/M.height),b=M.width*h,h*=M.height);if(1==l.AV_player.config.fullframe||Aa)b=l.AV_player.config.width,h=l.AV_player.config.height;N.width<N.height&&(b=N.width,h=N.height);try{0==ia&&(ia=!0,x("play"),x("playing")),N.getContext("2d").drawImage(c,0,X.height*g,X.width,X.height-1,.5*(N.width-b),.5*(N.height-h),b,h)}catch(za){console.error(za)}}}}}function Q(){H.loop=n;H.playbackRate=g}f||(f="");var B=document.createElement("div");B.addEventListener("mousedown",function(b){if(fa&&0<B.duration){var a=
b.pageX-B.offsetLeft;b=b.pageY-B.offsetTop;var g=y();g.x<a&&a<g.x+g.width&&g.y<b&&b<g.y+g.height&&(a=(a-g.x)/g.width,0>a?a=0:1<a&&(a=1),B.currentTime=a*B.duration)}});var G=null,J=1,E=!0,I=!1,F=0,Y=0,L=0,P=null,V=!0,Z=!1,la=0,ca=0,oa=0,S=0,O=1,g=1,n=!1,ja=null,M=null,T=!1,R=!1,w=null,ha=Date.now(),W=0,ba=!1,fa=!1,K=0,ma=!1,va=!1,X=null,qa=!1,na=0,wa=0,ia=!1,da=!1;B.__id=Date.now();var ra=!1,sa=!1,Aa=!1,ya=!1,ka=!1,ea=l.AV_player&&l.AV_player.config.cdnurl,pa=!1,U,ta,H=document.createElement("audio"),
aa=document.createElement("img"),N=document.createElement("canvas"),xa=setInterval(e,250);p(B,{startAd:function(){ra=!0},load:function(){e();null==B.src||""==B.src||sa||(sa=!0,W=0,ba=!1,ma=!0,va=!1,X=null,qa=!1,b())},init:function(b){Aa=b||!1;G=null;J=1;E=!0;I=!1;L=Y=F=0;P=null;V=!0;Z=!1;S=oa=ca=la=0;g=O=1;n=!1;M=ja=null;R=T=!1;H.pause();H.src="";w=null;ha=Date.now();W=0;fa=ba=!1;K=0;va=ma=!1;X=null;na&&clearTimeout(na);wa=na=0;pa=ya=sa=ra=da=ia=!1},play:function(){e();null!=B.src&&""!=B.src&&(ra?
V&&(Utils.writeLog(Utils.logLevels.debug,"Video Player play command: "+this.asid),V=!1,F>=this.duration&&(F=0),R&&T&&!E&&H.play(),1==ia&&(x("play"),x("playing")),this.enterFrame=function(){var b=Date.now(),f=b-ha;E&&(f=100);D();Q();v();f*=.001;if(0<B.duration){if(!V){var d;ma?(d=h(4))&&(ma=!1):(d=h(1))||(ma=!0);R&&!E?d?(H.paused&&!H.ended&&H.play(),H.currentTimeLast&&(H.currentTimeLast==H.currentTime&&(wa+=f),H.currentTimeLast<H.currentTime&&(wa=0)),H.currentTimeLast=H.currentTime,F=H.currentTime+
wa,F>B.duration&&(F=B.duration)):H.paused||H.pause():(d&&(F+=f*g,F=Math.round(100*F)/100),R&&E&&(H.currentTime=F-.4))}!V&&F>=B.duration&&(n?(A(0),B.play()):(A(B.duration),x("timeupdate"),da=!0,x("ended"),B.pause()));if(V&&0==F&&aa.src){if(a(aa)){var m=Math.min(N.width/aa.width,N.height/aa.height),e=aa.width*m;m*=aa.height;try{N.getContext("2d").drawImage(aa,0,0,aa.width,aa.height,.5*(N.width-e),.5*(N.height-m),e,m)}catch(ua){console.error(ua)}}}else if(C(),fa&&0<B.duration){d=y();try{e=N.getContext("2d");
e.fillStyle="#999999";e.fillRect(d.x,d.y,d.width,d.height);for(var p=0;p<B.buffered.length;p++){m=B.buffered.begin(p)/B.duration;var r=B.buffered.end(p)/B.duration;0>m?m=0:1<m&&(m=1);0>r?r=0:1<r&&(r=1);e.fillStyle="#dddddd";e.fillRect(d.x+d.width*m,d.y,d.width*(r-m),d.height/2)}var q=B.currentTime/B.duration;0>q?q=0:1<q&&(q=1);e.fillStyle="#dd0000";e.fillRect(d.x,d.y+d.height/2,d.width*q,d.height/2)}catch(ua){console.error(ua)}}K+=f;ya||0!=F||(ya=!0,x("timeupdate"));.3<K&&(K=0,L!=F&&(L=F,x("timeupdate")))}ha=
b;V||(E?na=setTimeout(B.enterFrame,96):c(B.enterFrame))},B.canvasAppended||(B.appendChild(N),B.canvasAppended=!0),setTimeout(function(){B.enterFrame()},1)):Utils.writeLog(Utils.logLevels.debug,"Video play called before startAd, delaying: "+this.asid))},pause:function(){V||(Utils.writeLog(Utils.logLevels.debug,"Video Player pause command: "+this.asid),V=!0,R&&H.pause(),0<na&&(clearTimeout(na),na=0),x("pause"))},addTextTrack:function(b,a,g){return null},canPlayType:function(b){switch(b){case "video/mp4":case "video/webm":case "video/x-flv":case "video/3gpp":case "video/x-ms-wmv":b=
"probably";break;default:b=""}return b},get_buffered:function(){var b=[];if(w&&w.length)for(var g=null,h=0;h<w.length;h++)a(w[h].image)?(g||(g={},g.begin=h,b.push(g)),g.end=h+1):g=null;return{start:function(a){return a<b.length?b[a].begin:0},end:function(a){return a<b.length?b[a].end:0},length:b.length}},get_videoWidth:function(){return oa},get_videoHeight:function(){return S},get_audioTracks:function(){return{begin:function(b){return 0},end:function(b){return T?H.duration:0},length:T?1:0}},get_poster:function(){return aa.src},
set_poster:function(b){null==b&&(b="");aa.src!=b&&(aa.src=b)},get_autoplay:function(){return Z},set_autoplay:function(b){Z=b},get_controller:function(){return null},get_controls:function(){return fa},set_controls:function(b){fa=b},get_crossOrigin:function(){return null},get_currentSrc:function(){return G},get_currentTime:function(){return F},set_currentTime:function(b){A(b);b!=B.duration&&(da=!1);x("seeking");x("seeked")},get_defaultMuted:function(){return I},set_defaultMuted:function(b){I=b},get_defaultPlaybackRate:function(){return O},
set_defaultPlaybackRate:function(b){O=b},get_duration:function(){if(M){var b=0;if(w&&w.length){var g=w[w.length-1].image;a(g)&&X&&(g=Math.round(g.height/X.height),0<g&&(b=g/10))}this&&1==this.av_opt_adnxs&&(b=1);return M.total-1+b}return 0},get_ended:function(){return da},get_error:function(){return null},get_loop:function(){return n},set_loop:function(b){n=b},get_mediaGroup:function(){return{length:0}},get_volume:function(){return J},set_volume:function(b){1E-5>b&&(b=0);0>b?b=0:1<b&&(b=1);H.volume=
J=b;E=0<b?!1:!0;Q();l.AV_player.config.nosndrewind&&(R=!0);!T||R||E||da||(R=!0,this.currentTime=0,this.pause(),this.play());R&&(E?(H.paused||H.pause(),F=H.currentTime+.4):H.paused&&(H.currentTime=Math.floor(10*(F-.4))/10,V||da||H.play()));x("volumechange")},get_muted:function(){return E},set_muted:function(b){E=b;Q();l.AV_player.config.nosndrewind&&(R=!0);!T||R||E||da||(R=!0,this.currentTime=0,this.pause(),this.play());R&&(E?(H.paused||H.pause(),F=H.currentTime+.4):H.paused&&(H.currentTime=F-.4,V||
da||H.play()))},get_networkState:function(){return 0},get_paused:function(){return V},get_playbackRate:function(){return g},set_playbackRate:function(b){g!=b&&(g=b,x("ratechange"))},get_played:function(){return 0==F?{length:0}:{start:function(b){if(0==b)return 0},end:function(b){if(0==b)return F},length:1}},get_preload:function(){return"auto"},set_preload:function(b){},get_readyState:function(){return Y},get_seekable:function(){return{length:0}},get_seeking:function(){return!1},get_src:function(){return G},
set_src:function(b){G!=b&&(Utils.writeLog(Utils.logLevels.debug,"Video Player set src: "+this.asid+":"+b),G=b,null!=G&&""!=G?(clearInterval(xa),sa=!1,this.load()):sa=!1)},get_startDate:function(){return ja},get_textTracks:function(){return{length:0}},get_videoTracks:function(){var b=this;return{begin:function(b){return 0},end:function(a){return b.duration},length:0<this.duration?1:0}},get_width:function(){return la},set_width:function(b){la=b},get_height:function(){return ca},set_height:function(b){ca=
b},get_nodeName:function(){return"VIDEO"},get_tagName:function(){return"VIDEO"}});B.resize=function(b,a,g){try{B.paused&&(D(),C(!0))}catch(Ea){}};return B};q.replaceTag=function(a){if(a&&a.parentNode){var c=this.createTag();c.id=a.id;c.volume=a.volume;c.muted=a.muted;c.autoplay=a.autoplay;c.controls=a.controls;c.loop=a.loop;c.poster=a.poster;c.style.cssText=a.style.cssText;c.src=a.src;a.parentNode.insertBefore(c,a);a.parentNode.removeChild(a);return c}return a};var c=function(){return l.requestAnimationFrame||
l.webkitRequestAnimationFrame||l.mozRequestAnimationFrame||function(a){l.setTimeout(a,1E3/60)}}()})(window);
(function(l){function a(a,d){a.className.match(new RegExp("(\\s|^)"+d+"(\\s|$)"))||(a.className+=" "+d)}function t(a,d){a.className.match(new RegExp("(\\s|^)"+d+"(\\s|$)"))&&(a.className=a.className.replace(new RegExp("(\\s|^)"+d+"(\\s|$)")," "))}var k=Utils.isMobile(),e=l.AnivewPlayerGUI=function(a){this.config=a;this.skipConfig=a.skip;l.AV_PlayerGui=this;if(null==a)throw Error("AnivewPlayerGUI: not found 'config'");if(null==a.container)throw Error("AnivewPlayerGUI: not found 'config.container'");
this.container=a.container;this.caption=a.caption;this.slotDoc=this.container.ownerDocument;this.label=this.caption&&a.adLabel?Utils.getElementById(this.caption,"av-label"):void 0;this.gui=Utils.getElementById(this.container,"gui");this.slot=Utils.getElementById(this.container,"slot");this.videoslot=Utils.getElementById(this.container,"videoslot");this.preloader=Utils.getElementById(this.container,"preloader");this.timelineProgress=Utils.getElementById(this.container,"timeline-progress");this.timelineBuffer=
Utils.getElementById(this.container,"timeline-buffer");this.playPause=Utils.getElementById(this.container,"play-pause");this.bigPlay=Utils.getElementById(this.container,"big-play");this.fullscreen=Utils.getElementById(this.container,"fullscreen");this.sound=Utils.getElementById(this.container,"sound");this.timer=Utils.getElementById(this.container,"timer");this.skip=Utils.getElementById(this.container,"skip-btn");this.caption&&a.close&&a.closeStyle&&a.closeStyle.outside?(this.closeOverlay=Utils.getElementById(this.caption,
"av-close-btn-overlay"),this.close=Utils.getElementById(this.caption,"av-close-btn")):this.closeOverlay=this.close=Utils.getElementById(this.container,"close-btn");this.share=Utils.getElementById(this.container,"share");this.phone=Utils.getElementById(this.container,"phone");this.phoneNum=Utils.getElementById(this.container,"phone-num");this.aniview=Utils.getElementById(this.container,"aniview-credit");this.timeline=Utils.getElementById(this.container,"timeline");this.timelineProgress=Utils.getElementById(this.container,
"timeline-progress");this.timelineMoveto=Utils.getElementById(this.container,"timeline-moveto");this.timelineBuffer=Utils.getElementById(this.container,"timeline-buffer");this.buttons=Utils.getElementById(this.container,"buttons");0<this.config.skipTimer&&(this.skipTimerInitValue=this.config.skipTimer);this.init();this.showPreloader(this.config.showpreloader)};e.VERSION="1.0.2";e.prototype.config=null;e.prototype.lastframe=!1;e.prototype.container=null;e.prototype.player=null;e.prototype.paused=!1;
e.prototype.muted=!1;e.prototype.videoslot=null;e.prototype.preloader=null;e.prototype.timelineProgress=null;e.prototype.timelineBuffer=null;e.prototype.playPause=null;e.prototype.bigPlay=null;e.prototype.fullscreen=null;e.prototype.sound=null;e.prototype.skip=null;e.prototype.close=null;e.prototype.share=null;e.prototype.phone=null;e.prototype.timer=null;e.prototype.aniview=null;e.prototype.timeline=null;e.prototype.timelineProgress=null;e.prototype.timelineBuffer=null;e.prototype.buttons=null;e.prototype.endTimer=
0;e.prototype.showPreloader=function(a){a=this.config.showpreloader&&a;this.preloader&&(this.preloader.style.display=a?"block":"none")};e.prototype.dispose=function(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null);this.skipTimeoutId&&(clearInterval(this.skipTimeoutId),this.skipTimeoutId=null);this.preloaderTimeoutId&&(clearInterval(this.preloaderTimeoutId),this.preloaderTimeoutId=null);for(var a in this)this.hasOwnProperty(a)&&(this[a]=null)};e.prototype.startSkipTimer=function(a,
d,e){this.config.skip=a;this.config.skipTimer=d;(this.config.skip||this.config.close)&&this.checkSkipTimer(e)};e.prototype.init=function(){var e=this;this.container.className="";this.bigPlay.style.display="none";this.config.phone&&(this.phoneNum.textContent=this.config.phone);this.config.hideControls&&a(this.container,"hide-controls");Utils.isMobile()||a(this.container,"av-desktop");null==this.config.responsive&&(this.config.responsive=!0);null!=this.config.width&&null!=this.config.height&&(this.config.responsive=
!1);this.config.responsive&&a(this.container,"av-responsive");Utils.isMobile()&&Utils.isHighDensity()&&a(this.container,"two-x");this.config.skip&&this.config.skipText&&(this.skip.textContent=this.config.skipText);this.config.lastframe&&(this.lastframe=this.config.lastframe);this.config.timelineMode?a(this.timeline,"av-"+this.config.timelineMode):a(this.timeline,"av-bottom");this.playPause.onclick=function(){e.changed();e.player&&e.player.ready&&(e.player.userPaused=e.paused?!1:!0);e.playPauseClick(!0)};
this.sound.onclick=function(){e.soundClick()};this.fullscreen.onclick=function(){e.fullscreenClick()};this.share.onclick=function(){e.shareClick()};this.phone.onclick=function(){e.phoneClick()};this.close.onclick=function(){e.closeClick()};this.skip.onclick=function(){e.skipClick()};this.aniview.onclick=function(){e.aniviewClick()};this.timeline.onclick=function(a){e.timelineClick(a)};this.timeline.onmousemove=function(a){e.timelineMouseMove(a)};this.update();this.initCloseButtonStyle();this.intervalId=
setInterval(function(){e.update()},this.config.inttimeout||75)};e.prototype.timelineMouseMove=function(a){this.changed();var d=this.getVideo();this.config.timelineChange&&d&&0<d.duration&&(a=a.pageX-d.offsetLeft,d=this.timeline.getBoundingClientRect(),a=(a-d.left)/d.width,0>a?a=0:1<a&&(a=1),this.setValue(this.timelineMoveto,a))};e.prototype.timelineClick=function(a){this.changed();var d=this.getVideo();if(this.config.timelineChange&&d&&0<d.duration){a=a.pageX-d.offsetLeft;var e=this.timeline.getBoundingClientRect();
a=(a-e.left)/e.width;0>a?a=0:1<a&&(a=1);d.currentTime=a*d.duration}};e.prototype.getVideo=function(){var a=this.findVideo(this.videoslot);a||(a=this.findVideo(this.slot));return a};e.prototype.findVideo=function(a){var d=null,e;for(e in a.childNodes)if(d=a.childNodes[e],d=0<d.duration&&null!=d.canPlayType?d:this.findVideo(d))break;return d};e.prototype.setPlayer=function(a,d,e){this.config.skip=this.skipConfig;this.changed();null==a&&this.player&&"AVcontent"==this.player.id||("undefined"===typeof d&&
(d=!0),this.player=a,this.ad=e,this.paused=!1,this.muted=d,this.skipTimerStarted=!1)};e.prototype.getPlayer=function(){return this.player};e.prototype.getDuration=function(){try{return this.vidReady&&this.player&&this.player.ready?0<this.player.adDuration?this.player.adDuration:0:0}catch(p){return 0}};e.prototype.getCurrentTime=function(){try{return this.vidReady&&this.player&&this.player.ready?this.getDuration()-this.getRemainingTime():0}catch(p){return 0}};e.prototype.getRemainingTime=function(){try{return this.vidReady&&
this.player&&this.player.ready?0<this.player.adRemainingTime?this.player.adRemainingTime:0:0}catch(p){return 0}};e.prototype.checkSkipTimer=function(a){var d=this;this.skipTimerStarted=!0;0<this.config.skipTimer&&(this.timer.textContent=this.config.skipTimer,this.paused||0>=this.getCurrentTime()?this.skipTimeoutId=setTimeout(function(){d.checkSkipTimer(a)},100):(this.config.skipTimer--,0==this.config.skipTimer&&"function"===typeof a&&a(),this.skipTimeoutId=setTimeout(function(){d.checkSkipTimer(a)},
1E3)))};e.prototype.aniviewClick=function(){l.AV_player.config.logoclick&&l.open("https://www.aniview.com/?utm_source=av-player")};e.prototype.closeClick=function(){this.changed();var a=l.AV_player.config,d=a.floating&&a.floating.closeButton;a=a.closeevent||d;try{d||(l.AV_player.stopAd=!0);if("function"===typeof l.AV_FlashOpen.onAdClosed)l.AV_FlashOpen.onAdClosed(!a);!a&&this.player&&this.player.ready&&this.player.pauseAd()}catch(q){}a||(null!=this.container.parentNode&&this.container.parentNode.removeChild(this.container),
this.caption&&null!=this.caption.parentNode&&this.caption.parentNode.removeChild(this.caption))};e.prototype.skipClick=function(){this.changed();try{if(this.player&&this.player.ready&&(this.player.skipping=!0,l.AV_player.config.onevideoelement||(this.player.adVolume=0),this.player.pauseAd(),this.player.adSkippableState?this.player.skipAd():this.player.stopAd(),"function"===typeof l.AV_FlashOpen.onAdSkipped))l.AV_FlashOpen.onAdSkipped();this.skipTimerStarted=!1}catch(p){}};e.prototype.phoneClick=function(){l.location.href=
"tel://"+this.config.phone};e.prototype.shareClick=function(){};e.prototype.playClick=function(){this.changed();try{this.player&&this.player.ready&&(this.player.resumeAd(!0),this.paused=!1)}catch(p){}};e.prototype.pauseClick=function(){this.changed();try{this.player&&this.player.ready&&(this.player.pauseAd(),this.paused=!0)}catch(p){}};e.prototype.playPauseClick=function(a){this.changed();try{this.player&&this.player.ready&&(this.paused?(this.player.resumeAd(a),this.paused=!1):(this.player.pauseAd(),
this.paused=!0))}catch(d){}};e.prototype.soundClick=function(){this.changed();try{this.player&&this.player.ready&&(this.muted?(this.ad&&(this.ad.sndEnabled=!0,this.ad.player&&(this.ad.player.sndEnabled=!0)),this.player.adVolume=1,this.player.volume=1,this.player.muted=!1,"function"===typeof this.player.setContentVolume&&this.player.setContentVolume(1),this.muted=!1):(l.AV_player.config.autosound=!1,this.player.adVolume=0,this.player.volume=0,"function"===typeof this.player.setContentVolume&&this.player.setContentVolume(0),
this.muted=!0))}catch(p){}};e.prototype.setValue=function(a,d){0>d?d=0:1<d&&(d=1);a.style.width=100*d+"%"};e.prototype.fullscreenClick=function(){this.changed();this.showCaption(this.isFullscreen());if(l.AV_player.config.contentplayer){if(l.AV_player.thePlayer&&"function"===typeof l.AV_player.thePlayer.onFullScreenRequest)l.AV_player.thePlayer.onFullScreenRequest(!this.isFullscreen())}else if(!this.isFullscreen()&&l.AV_player.thePlayer&&"function"===typeof l.AV_player.thePlayer.resizeAd)l.AV_player.thePlayer.resizeAd(0,
0,"fullscreen");else{var a=this.isFullscreen()&&this.isFullscreen().ownerDocument;a.exitFullscreen?a.exitFullscreen():a.mozCancelFullScreen?a.mozCancelFullScreen():a.webkitExitFullscreen?a.webkitExitFullscreen():a.msExitFullscreen&&a.msExitFullscreen()}};e.prototype.isFullscreen=function(){return this.slotDoc.fullScreenElement||this.slotDoc.mozFullScreenElement||this.slotDoc.webkitFullscreenElement||this.slotDoc.msFullscreenElement};e.prototype.getBuffer=function(a){return a+.1};e.prototype.initCloseButtonStyle=
function(){var a=this.config.closeStyle;if(a&&a.outside){var d=this.closeOverlay.style,e=a.overlayMargin,c=1*a.left,f=1*a.right;d.padding=e+"px";d.margin=-e+"px";isNaN(c)||(d.marginLeft=c-e+"px");isNaN(f)||(d.marginRight=f-e+"px");switch(a.position){case "before-label":case "after-label":break;case "top-left":d.float="left";break;default:d.float="right"}}};e.prototype.controls=function(e){e?t(this.container,"hide-controls"):a(this.container,"hide-controls")};e.prototype.changed=function(){this.guiChanged=
!0;this.guiCnt=0};e.prototype.update=function(){var a=this.player&&(0<this.player.duration&&null!=this.player.canPlayType||"Content"==this.player.asid),d=this.getDuration(),e=this.getCurrentTime(),c=this.getRemainingTime();this.vidReady=a||this.player&&this.player.__private__&&this.player.__private__.player&&this.player.__private__.player.impressionSet;"loaded"!=this.videoslot.className&&0<this.getBuffer(e)&&(this.videoslot.className="loaded");this.player&&this.player.userPaused&&(this.paused=!0);
this.paused?(this.endTimer=0,this.playPause.className=1<d&&e>=d||this.player&&this.player.replay?"replay":"play"):this.vidReady&&this.player&&1<d&&0<=c&&(e>=d||this.player.replay)?(this.endTimer++,100<this.endTimer&&(this.playPause.className="replay",this.paused=!0)):this.playPause.className="pause";this.sound.firstChild.className=this.muted?"off":"on";if(this.isFullscreen())this.fullscreen.className="on","full"!=l.AV_player.config.fsmode&&(this.container.style.position="absolute",this.container.style.left=
"0px",this.container.style.top="0px",this.container.style.width=screen.width+"px",this.container.style.height=screen.height+"px");else{this.fullscreen.className="off";this.container.style.position="";this.container.style.left="";this.container.style.top="";var f=0,u=0;this.config.responsive?(f=this.container.clientWidth,u=this.container.clientHeight):(this.config.width&&(f=this.config.width),this.config.height&&(u=this.config.height));10<f/u&&(u=Math.round(f/10));f=f?f+"px":"";this.container.style.width=
f;this.container.style.height=u?u+"px":"";this.caption&&(this.showCaption(!0),this.caption.style.width=f)}this.videoslot.style.width=""==this.container.style.width?""+this.container.clientWidth+"px":this.container.style.width;this.videoslot.style.height=""==this.container.style.height?""+this.container.clientHeight+"px":this.container.style.height;u=!1;!k&&(.1<e||this.player&&0<c)?u=!0:this.player&&"function"===typeof this.player.isAudioReady?u=this.player.isAudioReady():1<e&&(u=!0);this.fullscreen.style.display=
this.config.fullscreen?"inline":"none";this.share.style.display=this.config.share?"inline":"none";this.phone.style.display=this.config.phone?"inline":"none";this.sound.style.display=this.config.sound&&u?"inline":"none";this.playPause.style.display=this.config.playPause&&this.player?"inline":"none";this.aniview.style.display=this.config.logo?"inline":"none";c=0<this.config.skipTimer;this.skip.style.display=!a&&!c&&this.config.skip&&this.skipTimerStarted?"inline":"none";this.config.close?this.close.style.display=
this.config.closeStyle&&this.config.closeStyle.outside?"":"inline":this.closeOverlay.style.display="none";this.timer.style.display=!a&&c&&(this.config.close||this.config.skip)&&this.skipTimerInitValue!=this.config.skipTimer?"inline":"none";"none"==this.timer.style.display||"none"==this.close.style.display||this.config.closeStyle&&this.config.closeStyle.outside||(this.timer.style.left=""+(this.close.clientWidth+2)+"px");this.setValue(this.timelineProgress,0<e&&0<d?e/d:0);this.setValue(this.timelineBuffer,
0<this.getBuffer(e)&&0<d?this.getBuffer(e)/d:0)};e.prototype.resize=function(a,d){this.config.width=a;this.config.height=d;this.container.style.width=""+a+"px";this.container.style.height=""+d+"px";this.caption&&(this.caption.style.width=""+a+"px");if(150>d){a=d/150;this.playPause.style.webkitTransform=this.playPause.style.transform="scale("+a+","+a+")";this.sound.style.webkitTransform=this.sound.style.transform="scale("+a+","+a+")";if(d=this.buttons.querySelector("#left"))d.style.left=""+Math.floor(13*
a)+"px",d.style.bottom=""+Math.floor(11*a)+"px";if(d=this.buttons.querySelector("#right"))d.style.right=""+Math.floor(13*a)+"px",d.style.bottom=""+Math.floor(11*a)+"px";this.timeline&&"overlay"==this.config.timelineMode&&(this.timeline.style.bottom=""+Math.floor(50*a)+"px");this.config.skip&&(this.skip.style.bottom=""+Math.floor(60*a)+"px",this.skip.style.height=""+Math.floor(32*a)+"px",this.skip.style.fontSize=""+Math.floor(14*a)+"px",this.skip.style.lineHeight=""+Math.floor(32*a)+"px",this.skip.style.padding=
"0 0")}else{this.playPause.style.webkitTransform=this.playPause.style.transform="";this.sound.style.webkitTransform=this.sound.style.transform="";if(d=this.buttons.querySelector("#left"))d.style.left="",d.style.bottom="";if(d=this.buttons.querySelector("#right"))d.style.right="",d.style.bottom="";this.timeline&&"overlay"==this.config.timelineMode&&(this.timeline.style.bottom="");this.config.skip&&(this.skip.style.bottom="",this.skip.style.height="",this.skip.style.fontSize="",this.skip.style.lineHeight=
"",this.skip.style.padding="")}};e.prototype.showCaption=function(a){this.caption&&(this.caption.style.display=a?"":"none")};e.prototype.showTimeline=function(e){if(e){e="av-"+this.config.timelineMode;var d="av-hidden"}else d="av-"+this.config.timelineMode,e="av-hidden";t(this.timeline,d);a(this.timeline,e)}})(window);
(function(l){"object"===typeof exports&&"undefined"!==typeof module?module.exports=l():"function"===typeof define&&define.amd?define([],l):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).AV_VASTPlayer=l()})(function(){return function a(t,k,e){function p(c,f){if(!k[c]){if(!t[c]){var q="function"==typeof require&&require;if(!f&&q)return q(c,!0);if(d)return d(c,!0);f=Error("Cannot find module '"+c+"'");throw f.code="MODULE_NOT_FOUND",f;}f=k[c]=
{exports:{}};t[c][0].call(f.exports,function(a){var f=t[c][1][a];return p(f?f:a)},f,f.exports,a,t,k,e)}return k[c].exports}for(var d="function"==typeof require&&require,q=0;q<e.length;q++)p(e[q]);return p}({1:[function(a,t,k){t.exports=a("./lib/AV_VASTPlayer")},{"./lib/AV_VASTPlayer":5}],2:[function(a,t,k){function e(a,c,f){c.on(a,function(){for(var c=[],d=arguments.length;d--;)c[d]=arguments[d];f.emit.apply(f,[a].concat(c))})}function p(a,c,f){f.forEach(function(f){0<c.listeners(f).length&&e(f,a,
c)});c.on("newListener",function(d){-1<f.indexOf(d)&&1>c.listeners(d).length&&e(d,a,c)})}function d(a){this.events=a.slice();this.__private__={target:null,source:null}}d.prototype.from=function(a){this.__private__.source=a;this.__private__.target&&p(a,this.__private__.target,this.events);return this};d.prototype.to=function(a){this.__private__.target=a;this.__private__.source&&p(this.__private__.source,a,this.events);return this};t.exports=d},{}],3:[function(a,t,k){function e(a){var c=this;p.call(this,
Math.floor(a.duration||0));this.video=a;[d.PLAYING,d.PAUSE,d.TIMEUPDATE,d.ENDED].forEach(function(f){return a.addEventListener(f,function(){return c.tick(f==d.ENDED)},!1)})}var p=a("./VideoTracker");k=a("util").inherits;var d=a("./enums/HTML_MEDIA_EVENTS");k(e,p);e.prototype._getState=function(){return{playing:!this.video.paused,currentTime:this.video.currentTime}};t.exports=e},{"./VideoTracker":7,"./enums/HTML_MEDIA_EVENTS":8,util:25}],4:[function(a,t,k){function e(a){return a}function p(a,c,b,f,
d,e){try{if("progress"===b&&a&&0<a.length){var m=a;a=[];try{var h=e.adDuration;var v=h-e.adRemainingTime;if(0<=v&&0<h)for(var r=m.length-1;0<=r;r--)m[r].offset&&!isNaN(m[r].offset.offset)&&0===m[r].offset.type&&v>=m[r].offset.offset&&a.push(m.splice(r,1)[0])}catch(Q){return}}(a||[]).forEach(function(a){try{if(a.uri)if(2==a.t||3==a.t){var h=document.createElement(2==a.t?"script":"iframe");h.src=c(a.uri);d&&d.appendChild(h)}else{h=window;if("complete"==b&&"1"==f)try{parent.Image&&(h=parent)}catch(G){}(new h.Image).src=
c(a.uri)}else 4==a.t&&Utils.sendGA(a)}catch(G){}})}catch(Q){}}function d(a,c,b,f){this.pixels=a.reduce(function(a,b){(a[b.event]||(a[b.event]=[])).push({uri:b.uri,t:b.t?b.t:1,offset:b.offset,d:b.d});return a},{});this.__private__={mapper:c||e,cpm:b,pcpm:f}}var q=a("./enums/VPAID_EVENTS"),c=a("initMoat"),f={},u={"[AV_VIEWABILITY]":function(){return Utils.getViewabilityPerc(f.slot)},"[AVC_WIDTH]":function(){return f.width},"[AVC_HEIGHT]":function(){return f.height},"[AVC_CPM]":0,"[AVC_PCPM]":0,"[AVC_RANDOM]":function(){return Date.now()},
"[AVC_STK]":function(){return Utils.isFloating()},"[AVC_DATE]":function(){return Utils.getDateTime().date},"[AVC_TIME]":function(){return Utils.getDateTime().time},"[AV_ADDURATION]":0},r=Utils.getReplaceRegex(u);d.prototype.track=function(a,d){function b(b){if(!x)try{if(x=a.adDuration,(!x||0>=x)&&b&&(x=a.adRemainingTime),0>x||isNaN(x))x=0}catch(E){x=0}return x}function m(a,b,c){function f(a){return h((b||e)(a))}return function(){c&&!c(arguments)||p(k[a],f,a,this&&this.tgt,this&&this.container,this)}}
function v(a){try{return t(a)}catch(E){return a}}function D(){if(0<x){for(var b=0;b<k.progress.length;b++){var h=k.progress[b];h.offset&&1==h.offset.type&&(h.offset.offset=h.offset.offset*x/100,h.offset.type=0)}a.removeListener(q.AdRemainingTimeChange,D)}}f=window.AV_player.config;var k=this.pixels,h=this.__private__.mapper,y=""+(this.__private__.cpm||""),C=""+(this.__private__.pcpm||""),z=0;try{z=a.adVolume}catch(J){}var x=0;try{c(a,f.moatconfig)}catch(J){}y=Object.assign(Object.assign({},u),{"[AV_ADDURATION]":function(){return b(!0)},
"[AVC_CPM]":y,"[AVC_PCPM]":C});var t=Utils.getReplace(r,y);a.fireType=function(a){m(a,function(a){return a.replace("[AV_VIEWABILITY]",Utils.getViewabilityPerc(f.slot))})()};a.on(q.AdSkipped,m("skip"));a.on(q.AdStarted,m("creativeView"));a.on(q.AdVolumeChange,m("unmute",null,function(){try{return 0===z&&0<a.adVolume}catch(J){}}));a.on(q.AdVolumeChange,m("mute",null,function(){try{return 0<z&&0===a.adVolume}catch(J){}}));a[d?"on":"once"](q.AdImpression,m("impression",function(a){return v(a)},function(){a.impEvtSent=
!0;b();return!0}));a.on(q.AdVideoStart,m("start",null,function(){try{if(a.stickyImpression&&!a.impEvtSent){var b=m("impression");b&&b();a.impEvtSent=!0}}catch(E){}return!0}));a.on(q.AdVideoFirstQuartile,m("firstQuartile",function(a){return v(a)}));a.on(q.AdVideoMidpoint,m("midpoint",function(a){return v(a)}));a.on(q.AdVideoThirdQuartile,m("thirdQuartile",function(a){return v(a)}));a.on(q.AdVideoComplete,m("complete",function(a){return v(a)}));k.progress&&0<k.progress.length&&(a.on(q.AdRemainingTimeChange,
m("progress",function(a){return v(a)},function(a){return!0})),a.on(q.AdRemainingTimeChange,D));a.on(q.AdClickThru,m("clickThrough",null,function(a){return!0}));a.on(q.AdUserAcceptInvitation,m("acceptInvitationLinear"));a.on(q.AdUserMinimize,m("collapse"));a.on(q.AdUserClose,m("closeLinear"));a.on(q.AdPaused,m("pause"));a.on(q.AdPlaying,m("resume"));a.on(q.AdError,m("error",function(a){return a.replace(/\[ERRORCODE\]/g,901)}));a.on(q.AdVolumeChange,function(){try{z=a.adVolume}catch(J){}})};t.exports=
d},{"./enums/VPAID_EVENTS":10,initMoat:49}],5:[function(a,t,k){function e(){var a={},b=arguments.length,h,c;for(h=0;h<b;h++){var f=arguments[h]||{};for(c in f){var d=f[c];void 0===a[c]&&(a[c]=d);"object"===typeof d&&(a[c]=e(a[c],d))}}return a}function p(a){return a}function d(){return Error("AV_VASTPlayer not ready.")}function q(a){return function(){var b=this,h=this.__private__.player;return this.ready?h[a].apply(h,arguments).then(function(){return b}):D.reject(d())}}function c(a){return{get:function(){if(!this.ready)throw d();
return this.__private__.player[a]},set:function(b){if(!this.ready)throw d();return this.__private__.player[a]=b}}}function f(a,b,h){var c=this;u.call(this);this.__private__={container:a,config:e(h,{vast:{resolveWrappers:!0,maxRedirects:8,withCredentials:!0},tracking:{mapper:p}}),vast:null,ready:!1,player:null};this.on(m.AdClickThru,function(a,h,f){a=a||c.vast.get("ads[0].creatives[0].videoClicks.clickThrough");if(f&&a&&!b)try{Utils.getTopWnd().open(a)}catch(I){}})}var u=a("events").EventEmitter;k=
a("util").inherits;var r=a("vastacular").VAST,z=a("./players/JavaScriptVPAID");a("./players/FlashVPAID");var x=a("./players/HTMLVideo"),b=a("./enums/MIME"),m=a("./enums/VPAID_EVENTS"),v=a("./EventProxy"),D=a("lie"),A=a("./PixelReporter"),h=a("./utils/timestamp_to_seconds");k(f,u);Object.defineProperties(f.prototype,{container:{get:function(){return this.__private__.container}},config:{get:function(){return this.__private__.config}},vast:{get:function(){return this.__private__.vast}},ready:{get:function(){return this.__private__.ready}},
adRemainingTime:c("adRemainingTime"),adDuration:c("adDuration"),adVolume:c("adVolume"),adSkippableState:c("adSkippableState"),adCompanions:c("adCompanions")});f.prototype.dispatchTrackingPixel=function(a){var b=document.createElement("img");b.src=a+"&cb="+Date.now();b.style.display="none";b.style.width="1";document.body.appendChild(b)};f.prototype.mergeTrackers=function(a,b,c,f,d){function e(a){return a.replace(/(^[ \t\n\r]*)|([ \t\n\r]*$)/g,"")}function m(a,b){if(a)for(var c=0;c<a.length;c++)"click"==
a[c].e&&(a[c].e="clickThrough"),b.push({event:a[c].e,t:a[c].t?a[c].t:1,d:a[c].d,uri:a[c].url,offset:a[c].offset?{offset:h(a[c].offset),type:0}:void 0})}f=f?"&cpm="+f:"";d="&d1="+d;var v=Utils.getAdPosition()?"&fv="+Utils.getAdPosition():"",r=Utils.floatPos?"&stk=[AVC_STK]":"";m(b,a);m(c.trackers,a);b="&cb="+Date.now();c.impressionTrackingPixel&&a.push({event:"impression",uri:e(c.impressionTrackingPixel)+"&ad=[AV_ADDURATION]&vi=[AV_VIEWABILITY]"+f+d+v+r+b});c.trackingPixel&&(f=e(c.trackingPixel),a.push({event:"clickThrough",
uri:f+"click"+d+b}),a.push({event:"firstQuartile",uri:f+"firstQuartile&ad=[AV_ADDURATION]&vi=[AV_VIEWABILITY]"+d+v+r+b}),a.push({event:"midpoint",uri:f+"midpoint&ad=[AV_ADDURATION]&vi=[AV_VIEWABILITY]"+d+v+r+b}),a.push({event:"thirdQuartile",uri:f+"thirdQuartile&ad=[AV_ADDURATION]&vi=[AV_VIEWABILITY]"+d+v+r+b}),a.push({event:"complete",uri:f+"complete&ad=[AV_ADDURATION]&vi=[AV_VIEWABILITY]"+d+v+r+b}),a.push({event:"start",uri:f+"start"+d+v+b}),a.push({event:"pause",uri:f+"pause"+d+v+b}),a.push({event:"resume",
uri:f+"resume"+d+v+b}),a.push({event:"mute",uri:f+"mute"+d+v+b}),a.push({event:"unmute",uri:f+"unmute"+d+v+b}),a.push({event:"close",uri:f+"close"+d+v+b}),a.push({event:"creativeView",uri:f+"creativeView"+d+v+b}),a.push({event:"fullscreen",uri:f+"fullscreen"+d+v+b}),a.push({event:"sec3",uri:f+"sec3&vi=[AV_VIEWABILITY]"+d+v+b}),a.push({event:"sec10",uri:f+"sec10&vi=[AV_VIEWABILITY]"+d+v+b}),c.playerSettings&&a.push({event:"viewableImpression",uri:f+"adViImpression&vit="+(c.playerSettings.vit||2)+"&vi=[AV_VIEWABILITY]"+
d+v+b}));return a};f.prototype.load=function(a,h,c,f,d){var e=this,q=this.config.vast,u=this,D=a.fixedUrl||a.url,p="vast";a.pbbidprice="";a.cac={};!a.playerSettings||1!=a.playerSettings.nc&&"1"!=a.playerSettings.nc||(q.withCredentials=!1);c=c||[];var y=[];if("undefined"===typeof h||null==h||"undefined"===typeof h.js)h={vpaidPriority:"js",swf:!0,js:!0,html5:!0};a.type=a.type.toLowerCase();"vastxml"==a.type&&(D=a.vastxml);"pl"==a.type&&(D=a.fixedTemplate);var C=h.vpaidPriority;a.vpp&&(1==a.vpp?C="js":
2==a.vpp?C="swf":3==a.vpp&&(C="jsomp4"));return r.fetch(D,q,a.clickThroughUrl,a.type,function(a,b){y="object"===typeof b?b.raw:y},a).then(function(f){var r=function(){var a=f.filter("ads[0].creatives[0].mediaFiles",function(a){return("video/mp4"===a.type||"video/webm"===a.type||"video/3gpp"===a.type||"video/x-ms-wmv"===a.type)&&a.uri&&"rtmp"!=a.uri.substring(0,4)}),g=f.filter("ads[0].creatives[0].mediaFiles",function(a){return(a.type===b.JAVASCRIPT||a.type===b.XJAVASCRIPT||a.type===b.TXTJAVASCRIPT)&&
"string"===typeof a.apiFramework&&"VPAID"==a.apiFramework.toUpperCase()}),c=[];h.nljs&&(c=f.filter("ads[0].creatives[0].ads[0].resources",function(a){return mediaFile.type===b.JAVASCRIPT||mediaFile.type===b.XJAVASCRIPT||mediaFile.type===b.TXTJAVASCRIPT}));if(h.js&&"jsomp4"==C&&0<g.length)return p="vpaid",{player:new z(e.container),mediaFiles:g};if(h.html5&&0<a.length)return{player:new x(e.container,f),mediaFiles:a};if(h.js&&0<g.length)return p="vpaid",{player:new z(e.container),mediaFiles:g};if(h.nljs&&
0<c.length)return c[0].uri=c[0].data,{player:new z(e.container),mediaFiles:c};throw TypeError("no valid media");}(),q=f.get("ads[0].creatives[0].parameters"),D=[].concat(f.map("ads[0].impressions",function(a){return{event:"impression",uri:a.uri}}),f.map("ads[0].errors",function(a){return{event:"error",uri:a}}),f.get("ads[0].creatives[0].trackingEvents"),f.map("ads[0].creatives[0].videoClicks.clickTrackings",function(a){return{event:"clickThrough",uri:a}})),y="";"pb"==a.type&&(y=a.pbbidprice||"");
if("s2s"==a.type)try{var k=f.get("ads[0].extensions");if(k&&k.length&&0<k.length)for(var t=0;t<k.length;t++){var g=f.get("ads[0].extensions["+t+"].extension[0].type");y="";if("aniview"==g){var n=f.get("ads[0].extensions["+t+"].extension[0].tag.data.tags[0]");y=f.get("ads[0].extensions["+t+"].extension[0].cpm")||f.get("ads[0].extensions["+t+"].extension[0].tag.data.tags[0].price")||"";if(n&&(a.asid=n.asid,a.priority=n.priority,a.sup=n.sup,a.ac=n.ac,a.tc=n.tc,a.ismp=n.ismp,!a.ac)){var Q=a.sup&&a.avtoken?
Math.round(1E4*(a.sup-a.avtoken)/12321)/1E4:0;a.ac={t:1,c:Q,v:Q}}break}}}catch(M){}y&&(e.bidCpm=y);if(g=a.sup&&a.avtoken?Math.round(1E4*(a.sup-a.avtoken)/12321)/1E4:0)e.floorCpm=g;a.cac=Utils.getAccounting(a.ac,a.pbbidprice,g,y);D=e.mergeTrackers(D,c,a,a.pbbidprice,p);y=r.player;r=r.mediaFiles;g=new v(m);y.reporter=new A(D,e.config.tracking.mapper,a.cac.sCpm,a.cac.pCpm);y.timeouts.loadTimeout=a.loadTimeout||y.timeouts.loadTimeout;D=1==d&&"pl"==a.type&&3==a.platform?1.5:1;y.timeouts.initAdTimeout=
a.initAdTimeout*D||a.tagTimeout;y.timeouts.startAdTimeout=a.startAdTimeout*D||a.tagTimeout;y.tgt=d;g.from(y).to(e);e.__private__.vast=f;e.__private__.player=y;e.emit("AdBid",y,r,q,u,a,p);q=a.cac||{};y.dispatchWaterfallApiEvent("bid",y.asid,{vast:f.raw,bidCpm:parseFloat(q.sCpm),floorCpm:parseFloat(a.tc&&a.tc.mn?q.nFloor:q.sCpm)})}).then(function(){e.__private__.ready=!0;e.emit("ready");return e}).catch(function(b){"function"===typeof f&&f("vasterror",a.asid,{vast:y,message:"object"===typeof b?b.message:
""});e.emit("error",b);throw b;})};f.prototype.startAd=q("startAd");f.prototype.stopAd=q("stopAd");f.prototype.pauseAd=q("pauseAd");f.prototype.resumeAd=q("resumeAd");f.prototype.skipAd=q("skipAd");f.prototype.getAdSkippableState=q("getAdSkippableState");f.prototype.seekAd=q("seekAd");t.exports=f},{"./EventProxy":2,"./PixelReporter":4,"./enums/MIME":9,"./enums/VPAID_EVENTS":10,"./players/FlashVPAID":12,"./players/HTMLVideo":13,"./players/JavaScriptVPAID":14,events:18,lie:26,util:25,vastacular:30,
"./utils/timestamp_to_seconds":42}],6:[function(a,t,k){function e(a){a=""+a;var d=a.split(".").map(parseFloat);this.string=a;this.major=d[0];this.minor=d[1];this.patch=d[2];Object.freeze(this)}e.prototype.toString=function(){return this.string};t.exports=e},{}],7:[function(a,t,k){function e(a,f){f.fired[a]||(f.fired[a]=!0,f.emit(a))}function p(a){d.apply(this,arguments);Infinity===a&&(a=30);this.duration=a;this.seconds=Array.apply([],Array(a)).map(function(){return!1});this.fired=[q.AdVideoStart,
q.AdVideoFirstQuartile,q.AdVideoMidpoint,q.AdVideoThirdQuartile,q.AdVideoComplete].reduce(function(a,c){a[c]=!1;return a},{})}var d=a("events").EventEmitter;k=a("util").inherits;var q=a("./enums/VPAID_EVENTS");k(p,d);p.prototype.tick=function(a){function c(a){return d.currentTime>=p[a-1]?!0:!1}var d=this._getState(),r=Math.round(d.currentTime)-1,p=[1,2,3,4].map(function(a){return 10>this.duration||4==a?Math.floor(this.video.duration/4*a*10)/10:Math.floor(this.duration/4*a)},this);-1<r&&(this.seconds[r]=
!0);c(1)&&e(q.AdVideoFirstQuartile,this);c(2)&&e(q.AdVideoMidpoint,this);c(3)&&e(q.AdVideoThirdQuartile,this);(c(4)||a)&&e(q.AdVideoComplete,this)};t.exports=p},{"./enums/VPAID_EVENTS":10,events:18,util:25}],8:[function(a,t,k){a="abort canplay canplaythrough durationchange emptied encrypted ended error interruptbegin interruptend loadeddata loadedmetadata loadstart mozaudioavailable pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" ");a.forEach(function(a){this[a.toUpperCase()]=
a},a);Object.freeze(a);t.exports=a},{}],9:[function(a,t,k){a={JAVASCRIPT:"application/javascript",XJAVASCRIPT:"application/x-javascript",TXTJAVASCRIPT:"text/javascript",FLASH:"application/x-shockwave-flash"};Object.freeze(a);t.exports=a},{}],10:[function(a,t,k){var e="AdLoaded AdStarted AdStopped AdSkipped AdSkippableStateChange AdSizeChange AdLinearChange AdDurationChange AdExpandedChange AdRemainingTimeChange AdVolumeChange AdImpression AdVideoStart AdVideoFirstQuartile AdVideoMidpoint AdVideoThirdQuartile AdVideoComplete AdClickThru AdInteraction AdUserAcceptInvitation AdUserMinimize AdUserClose AdPaused AdPlaying AdLog AdBid AdError".split(" ");
e.forEach(function(a){e[a]=a});Object.freeze(e);t.exports=e},{}],11:[function(a,t,k){t=a("./window");var e=document.createElement("video"),p=AniviewImagePlayer.createAniviewVideoTag(),d=a("./enums/MIME");k.isDesktop=!/Android|Silk|Mobile|PlayBook/.test(t.navigator.userAgent);k.canPlay=function(a){switch(a){case d.FLASH:break;case d.JAVASCRIPT:case d.XJAVASCRIPT:case d.TXTJAVASCRIPT:return 2;default:var c=p;if(window.Utils&&!window.Utils.isMobile()||window.AV_player&&window.AV_player.config&&window.AV_player.config.nativevideo)c=
e;if(c.canPlayType)switch(c.canPlayType(a)){case "probably":return 2;case "maybe":return 1}}return 0};Object.freeze(k)},{"./enums/MIME":9,"./window":17}],12:[function(a,t,k){function e(a,e){}k=a("./VPAID");var p=a("util").inherits;a("lie");a("../uuid");a("querystring");a("../enums/VPAID_EVENTS");a("../VPAIDVersion");a("VPAID_ERRORS");p(e,k);e.prototype.load=function(a,e,c,f){};e.prototype.start=function(){};t.exports=e},{"../VPAIDVersion":6,"../enums/VPAID_EVENTS":10,"../uuid":16,"./VPAID":15,lie:26,
querystring:23,util:25,VPAID_ERRORS:48}],13:[function(a,t,k){function e(a,b,h){return a.addEventListener(b,h,!1)}function p(a,b,h){return e(a,b,function C(){a.removeEventListener(b,C,!1);return h.apply(this,arguments)})}function d(a,b){function h(){return Error("The <video> has not been loaded.")}return function(){if(!this.video){if(b)return u.reject(h());throw h();}return a.apply(this,arguments)}}function q(a,b){var h=b.width,c=b.height,f=a.map(function(a){return{mediaFile:a,playability:r(a.type),
typePriority:"video/3gpp"===a.type?1:2}}).filter(function(a){return 0<a.playability}).sort(z("-playability","-mediaFile.bitrate"));b=f.map(function(a){return Math.abs(h-(a.mediaFile.width?a.mediaFile.width:300))});(a=f[b.indexOf(Math.min.apply(Math,b))])&&a.mediaFile&&"video/3gpp"===a.mediaFile.type&&(f=f.filter(function(a){return 1<a.typePriority}),b=f.map(function(a){return Math.abs(c-(a.mediaFile.height?a.mediaFile.height:250))}),(b=f[b.indexOf(Math.min.apply(Math,b))])&&(a=b));return!a||1>a.playability?
null:a.mediaFile}function c(a,b){var h=this;this.container=a;this.video=null;this.dispatchWaterfallApiEvent=function(){};this.timeouts={loadTimeout:2500,initAdTimeout:2E4,startAdTimeout:2E4};this.__private__={hasPlayed:!1,vast:b};this.vt="vast";this.clearTimeouts=function(){h.timeouts.startAdTimer&&(clearTimeout(h.timeouts.startAdTimer),h.timeouts.startAdTimer=0);h.timeouts.loadAdTimer&&(clearTimeout(h.timeouts.loadAdTimer),h.timeouts.loadAdTimer=0)}}k=a("events").EventEmitter;var f=a("util").inherits,
u=a("lie"),r=a("../environment").canPlay,z=a("sort-by"),x=a("../enums/VPAID_EVENTS"),b=a("../enums/HTML_MEDIA_EVENTS"),m=a("../HTMLVideoTracker"),v=a("../EventProxy");f(c,k);Object.defineProperties(c.prototype,{adRemainingTime:{get:d(function(){return this.video.duration-this.video.currentTime})},adDuration:{get:d(function(){return this.video.duration})},adVolume:{get:d(function(){return this.video.muted?0:this.video.volume}),set:d(function(a){this.video.volume=a;this.video.muted=0>=a})},adSkippableState:{get:d(function(){return!0})},
adCompanions:{get:d(function(){var a=this.__private__.vast.filter("ads[0].creatives",function(a){return"companions"===a.type});return a&&a[0]&&a[0].companionAds||""})}});c.prototype.load=function(a,c,h,f,d,r,k,z){var y=this,D=h&&h.vast&&h.vast.get("ads[0].creatives[0].videoClicks.clickThrough"),C=!1;D&&"string"==typeof D&&(D=D.trim(),C=2<D.length);return new u(function(h,c){function f(){if(!y.loaded){y.loaded=!0;var a=new m(u);(new v(x)).from(a).to(y);y.video=u;h(y);y.emit(x.AdLoaded);e(u,b.DURATIONCHANGE,
function(){y.emit(x.AdDurationChange)});e(u,b.VOLUMECHANGE,function(){y.emit(x.AdVolumeChange)});e(u,b.TIMEUPDATE,function(){y.emit(x.AdRemainingTimeChange,u.currentTime)});e(u,b.PAUSE,function(){u.ended||y.emit(x.AdPaused)});e(u,b.PLAY,function(){y.__private__.hasPlayed&&y.emit(x.AdPlaying)})}}Utils.vcmgr.clean(r);var d;Utils.isMobile()&&z&&"string"===typeof z.url&&0<z.url.indexOf("rocket10.adspirit.net")&&(d=!0);var u=r?r:AniviewImagePlayer.createAniviewVideoTag(d);y.video=u;var k=q(a,y.container.getBoundingClientRect());
!d&&Utils.isMobile()&&k&&"string"===typeof k.uri&&0<k.uri.indexOf("r.mradx.net")&&(u=r?r:AniviewImagePlayer.createAniviewVideoTag(!0),y.video=u);y.container.style.top="0px";u.asid=y.asid;if(!k)return c(Error("There are no playable <MediaFile>s."));window.AV_player.config.noinlinevideo||(u.setAttribute("webkit-playsinline",!0),u.setAttribute("playsinline",!0));r||(u.muted=!0,u.volume=0);u.preload="auto";u.style.display="none";u.style.visibility="hidden";u.style.width="100%";u.style.height="100%";u.style.objectFit=
"contain";y.loaded=!1;y.timeouts.loadAdTimer=setTimeout(f,y.timeouts.loadTimeout);p(u,b.LOADEDMETADATA,function(){f()});p(u,"encodeerror",function(){y.loaded=!0;var a=u.error;y.emit(x.AdError,x.mediaPlayError);y.clearTimeouts();c(a)});p(u,"error",function(){y.loaded=!0;var a=u.error,b="";a&&a.message&&(b=a.message);y.emit(x.AdError,b);y.clearTimeouts();c(a)});p(u,b.PLAYING,function(){y.loaded=!0;u.style.visibility="visible";y.__private__.hasPlayed=!0;y.emit(x.AdImpression);y.emit(x.AdVideoStart);
y.clearTimeouts()});p(u,b.ENDED,function(){});C&&(d=u,r&&Utils.isiOS()&&(d=document.createElement("div"),d.style.position="absolute",d.style.top="0px",d.style.left="0px",d.style.width="100%",d.style.height="100%",d.style.zIndex="1",y.container.appendChild(d)),Utils.isMobile()||(d.style.cursor="pointer"),e(d,"click",function(){y.emit(x.AdClickThru,D,null,!0)}));r&&(r.isContent=!0);y.container.appendChild(u);u.src=k.uri;u.load()})};c.prototype.startAd=d(function(){var a=this,c=this.video;return this.__private__.hasPlayed?
u.reject(Error("The ad has already been started.")):new u(function(h,f){p(c,b.PLAYING,function(){h(a);a.emit(x.AdStarted)});c.style.display="block";a.timeouts.startAdTimer=setTimeout(function(){a.emit(x.AdError,x.mediaPlayError);a.timeouts.startAdTimer=0;a.loaded=!0;f({})},a.timeouts.startAdTimeout);return c.play()})},!0);c.prototype.start=function(){this.startAdCalled=!0;"function"===typeof this.video.startAd&&this.video.startAd();try{this.video.isContent||(this.adVolume=0)}catch(D){}this.startAd()};
c.prototype.stopAd=d(function(){this.emit(x.AdStopped);return u.resolve(this)},!0);c.prototype.skipAd=d(function(){this.emit(x.AdSkipped);return u.resolve(this)},!0);c.prototype.pauseAd=d(function(){var a=this,c=this.video;return this.video.paused?u.resolve(this):new u(function(h){p(c,b.PAUSE,function(){h(a)});return c.pause()})},!0);c.prototype.resumeAd=d(function(){var a=this,c=this.video;return this.__private__.hasPlayed?this.video.paused?new u(function(h){p(c,b.PLAY,function(){h(a)});return c.play()}):
u.resolve(this):u.reject(Error("The ad has not been started yet."))},!0);c.prototype.resizeAd=d(function(a,b,h){this.video.style.width=""+a+"px";this.video.width=a;this.video.style.height=""+b+"px";this.video.height=b},!0);c.prototype.seekAd=d(function(a){this.video.currentTime=a},!0);t.exports=c},{"../EventProxy":2,"../HTMLVideoTracker":3,"../enums/HTML_MEDIA_EVENTS":8,"../enums/VPAID_EVENTS":10,"../environment":11,events:18,lie:26,"sort-by":28,util:25}],14:[function(a,t,k){function e(){p.apply(this,
arguments);this.stateError=f.vpaidGeneralError;this.dispatchWaterfallApiEvent=function(){};this.frame=null;this.timeouts={loadTimeout:1E4,initAdTimeout:2E4,startAdTimeout:2E4};this.vt="vpaid";this.subscriptions=[];this.impOnOpt=[q.AdVideoStart,q.AdStarted]}k=a("util").inherits;var p=a("./VPAID"),d=a("lie"),q=a("../enums/VPAID_EVENTS");a("../environment");var c=a("../VPAIDVersion"),f=a("VPAID_ERRORS"),u=function(a){function c(h){b[h]=function(){return a[h].apply(a,arguments)}}function f(){a.setAdVolume(0);
setTimeout(function(){a.setAdVolume(0);a.startAd();a.setAdVolume(0)},10)}for(var b=this,d=new window.AVEvtMgr,e="handshakeVersion getAdLinear stopAd getAdVolume setAdVolume resizeAd pauseAd resumeAd expandAd getAdExpanded getAdSkippableState collapseAd skipAd getAdWidth getAdHeight getSkippableRemainingTime getAdRemainingTime getAdDuration getAdCompanions getIcons getAdIcons".split(" "),r=0;r<e.length;r++)c(e[r]);var u=null;this.initAd=function(){u=arguments;setTimeout(function(){d.dispatch("AdLoaded")},
10)};this.startAd=function(){u&&(a.subscribe(f,"AdLoaded"),a.initAd.apply(a,u))};this.subscribe=function(b,c,f){"AdLoaded"==c?d.subscribe(b,c,f):a.subscribe(b,c,f)};this.unsubscribe=function(b,c){"AdLoaded"==c?(d.unsubscribe(b,c),a.unsubscribe(f,"AdLoaded")):a.unsubscribe(b,c)}};k(e,p);e.prototype.load=function(a,e,p,b,m,v,k,t){var h=this,r=this.uri=a[0].uri,C=a[0].bitrate;h.trackingPixel=b;h.tagType=k;var D=!1,z=!1,x=!1;if(t&&t.playerSettings)switch(a=0,t.playerSettings.impOn&&-1<this.impOnOpt.indexOf(t.playerSettings.impOn)&&
(h.impOn=t.playerSettings.impOn),t.playerSettings.vpm&&(a=t.playerSettings.vpm),a){case 2:x=!0;case 1:D=!0}p.opt2&&(x=z=!0);return new d(function(a,b){function d(a,b){function g(){!h.sndEnabled&&!c&&!this.muted&&0<this.volume&&(c=!0,this.volume=0,c=!1)}var c=!1;a.volume=0;if(b)for(b=0;b<n.length;b++)if(n[b].el===a)return;n.push({el:a,listener:g,evt:"volumechange"});a.addEventListener("volumechange",g)}function y(a){if("function"===typeof a.querySelectorAll&&!Utils.isMobile()&&!window.AV_player.config.autosound){a=
a.querySelectorAll("video");for(var b=0;b<a.length;b++)d(a[b],!0)}}function p(a){a.origAppendChild||(a.origAppendChild=a.appendChild,a.appendChild=function(b){b&&("DIV"===b.nodeName&&p(b),"VIDEO"===b.nodeName&&(b.muted=!0,h.secVideoSlot=b,b.setAttribute("webkit-playsinline","true"),b.setAttribute("playsinline","true")));return a.origAppendChild.call(a,b)},a.origInsertBefore=a.insertBefore,a.insertBefore=function(b,g){b&&("DIV"===b.nodeName&&p(b),"VIDEO"===b.nodeName&&(b.muted=!0,h.secVideoSlot=b,
b.setAttribute("webkit-playsinline","true"),b.setAttribute("playsinline","true")));return a.origInsertBefore.call(a,b,g)})}function k(a,b,g,c){function f(a,g){if(b&&b[g]&&b[g].list){for(var f=c.getHostName(a),d=!1,e=0;e<b[g].list.length;e++)if(-1<f.indexOf(b[g].list[e])){d=!0;break}if(d){if("function"===typeof b[g].callback)try{b[g].callback(a,g,h.asid)}catch(pa){}if(b[g].track)try{var m=encodeURIComponent(a);for(e=0;e<b[g].track.length;e++){var v=b[g].track[e].replace("AVC_BLKURL",m);(new Image).src=
v}}catch(pa){}c.writeLog(c.logLevels.defaultLevel,"URL blocked: "+g+":"+a);return!0}if(-1<a.indexOf("/mad_united.js"))return!0}return!1}function e(a){return a&&"SCRIPT"==a.nodeName&&"string"===typeof a.src?f(a.src.toLowerCase(),"script"):!1}function m(){try{this.contentWindow.cav_fl_set||(this.contentWindow.cav_fl_set=!0,this.contentWindow.Element.prototype.scrollIntoView=function(){Utils.writeLog(Utils.logLevels.debug,"scrollIntoView inner vpaid overwritten "+h.asid)},k(this.contentWindow,b))}catch(da){}}
c||(c=Utils);if(b){if(b.script&&b.script.list&&0<b.script.list.length){var v=a.Element.prototype.appendChild,r=a.Element.prototype.insertBefore,u=function(a){try{if(e(a))return null}catch(ra){}return v.apply(this,arguments)},q=function(a,b){try{if(e(a))return null}catch(sa){}return r.apply(this,arguments)};try{a.Element.prototype.appendChild=u,a.Element.prototype.insertBefore=q}catch(da){}}if(!g&&b.vast&&b.vast.list&&0<b.vast.list.length){var y=a.XMLHttpRequest.prototype.open;u=function(a,g,h,c,d){try{this.av_bflagged=
!1,"string"===typeof g&&f(g,"vast")&&(arguments[1]=b.vast.redirUrl||"https://play.aniview.com/block.txt",arguments[0]="GET",this.av_bflagged=!0)}catch(ka){}return y.apply(this,arguments)};var p=a.XMLHttpRequest.prototype.send;try{a.XMLHttpRequest.prototype.open=u,a.XMLHttpRequest.prototype.send=function(){try{this.av_bflagged&&this.withCredentials&&(this.withCredentials=!1)}catch(da){}return p.apply(this,arguments)}}catch(da){}}if(g)return}if(!g){if(window.AV_player.config.customwndopen){var C=a.open;
a.open=function(b){if(arguments&&0<arguments.length&&"string"===typeof arguments[0]){var g="&";-1==arguments[0].indexOf("?")&&(g="?");arguments[0]+=g+"avclickopt=aniview.com"}C.apply(a,arguments)}}var D=a.document.createElement;a.document.createElement=function(b,g){g=D.call(a.document,b,g);"string"===typeof b&&("VIDEO"!=b.toUpperCase()||Utils.isMobile()||window.AV_player.config.autosound||d(g),"IFRAME"==b.toUpperCase()&&(g.addEventListener("load",m),n.push({el:g,listener:m,evt:"load"})));return g}}}
function Q(a,b){if(!window.AV_player.abt){var g=window.AV_player.slotWindow;if(b&&g&&!g.AV_startIframeListener)try{var h=document.createElement("script");h.innerText=k.toString();h.innerText=h.innerText.replace(/(\r\n|\n|\r)/gm,"");h.innerText=h.innerText.replace("function "+k.name,"function AV_startIframeListener");g.document.body.appendChild(h);var c=JSON.parse(JSON.stringify(b));g.AV_startIframeListener(g,c,!0,Utils)}catch(ba){}k(a,b)}}function G(){try{if("pl"==t.type&&window.av_sdk.get(t.platform)){var m=
window.av_sdk.get(t.platform);B=new window[m](A.contentWindow,t.contentId)}else B=A.contentWindow.getVPAIDAd();window.AV_player.config.hideconsole&&"object"===typeof A.contentWindow.console&&(A.contentWindow.console.log=function(){})}catch(K){if("function"===typeof this.onerror)this.onerror();return}x&&(B=new u(B));if(Utils.isMobile()&&-1<r.trim().toLowerCase().indexOf("b.measuread.com/tl.js")&&(A.style.display="none",B=new u(B),Utils.isAndroid())){var v=E.addEventListener;E.addEventListener=function(a,
b){if("click"==a&&"function"===typeof b){var g=b.toString().indexOf(".style.background");-1<g&&20>g&&setTimeout(function(){"function"===typeof E.click&&E.click()},10)}v.apply(E,arguments)}}m=Utils.getSlotSize(E);var n=h.vpaidVersion=new c(B.handshakeVersion("2.0"));clearTimeout(h.timeouts.loadTimer);h.timeouts.loadTimer=0;if(2<n.major)return b(Error("VPAID version "+n+" is not supported."));A.contentWindow.addEventListener("resize",function(){if(!window.AV_player.isFullScreen){var a=Utils.getSlotSize(E);
h.resizeAd(a.width,a.height,"normal")}},!1);q.forEach(function(a){var b=function(){try{Utils.writeLog(Utils.logLevels.debug,"JSVpaid event "+a+":"+h.asid);for(var b=Array(arguments.length),g=arguments.length;g--;)b[g]=arguments[g];if(a==q.AdUserClose)return h.emit.apply(h,[q.AdSkipped].concat(b));if(h.impOn){if("AdImpression"==a)return;a==h.impOn&&h.emit.apply(h,[q.AdImpression].concat(b))}return h.emit.apply(h,[a].concat(b))}catch(qa){}};h.subscriptions.push({event:a,func:b});return B.subscribe(b,
a)});h.once(q.AdLoaded,function(){h.fireTrackingPixel(h.trackingPixel+q.AdLoaded+"&ti="+(Date.now()-h.timeouts.initAdTime),!1,!0,q.AdLoaded,Date.now()-h.timeouts.initAdTime);h.dispatchWaterfallApiEvent(q.AdLoaded,h.asid);h.timeouts.startAdTime=Date.now();h.frame&&(h.slot.style.width="100%",h.slot.style.height="100%");!window.AV_player.config.noifsnd||Utils.isMobile()||window.AV_player.config.autosound||y(h.slot);A.style.opacity="1";h.api=B;clearTimeout(h.timeouts.initAdTimer);h.timeouts.initAdTimer=
0;a(h);if(0==r.trim().indexOf("https://b.measuread.com"))try{h.startAdCalled||(0==window.AV_player.config.autoplay&&(setTimeout(function(){h.startAdCalled||h.pauseAd();h.adVolume=0},10),setTimeout(function(){h.startAdCalled||h.pauseAd()},250),setTimeout(function(){h.startAdCalled||h.pauseAd()},1E3)),h.pauseAd(),h.adVolume=0)}catch(K){}});if(z)try{var k=window.atob("ZnVuY3Rpb24gaW5pdFBhcnNlKCl7dmFyIG9yaWdQYXJzZT13aW5kb3cuSlNPTi5wYXJzZTt3aW5kb3cuSlNPTi5wYXJzZT1mdW5jdGlvbigpe3ZhciByZXNKc29uPW9yaWdQYXJzZS5hcHBseSh3aW5kb3cuSlNPTixhcmd1bWVudHMpO3RyeXtpZihyZXNKc29uJiZyZXNKc29uLnNpdGUmJnJlc0pzb24uc2l0ZS5idHBzKSByZXNKc29uLnNpdGUuYnRwcz1mYWxzZTt9Y2F0Y2goZXhwKXt9OyByZXR1cm4gcmVzSnNvbjt9fQ=="),
D=document.createElement("script");D.innerText=k;h.frame.contentWindow.document.body.appendChild(D);h.frame.contentWindow.initParse()}catch(K){h.frame.contentWindow.debuggeron=!0}h.once(q.AdError,function(a){h.stateError!=f.noError&&h.fireTrackingPixel(h.trackingPixel+h.stateError,!1,!1,h.stateError);h.dispatchWaterfallApiEvent(h.stateError,h.asid,{msg:a});h.cleanup(Error(a))});h.once(q.AdStarted,function(a){h.adStarted=!0});h.once(q.AdImpression,function(a){h.adImpDelay=!0});h.once(q.AdStopped,h.cleanup);
k={slot:E,videoSlot:g,videoSlotCanAutoPlay:!0};-1<r.indexOf(".adap.tv")&&window.navigator&&window.navigator.userAgent.toLowerCase().match(/(ipad|iphone|ipod)/g)&&(k.clickSlot=E);-1<r.indexOf(".adap.tv")&&window.navigator&&window.navigator.userAgent.toLowerCase().match(/(android)/g)&&(k.clickSlot=E,k.slot=null);if(-1<r.indexOf(".videologygroup.com/admanager/sbs/vpaidjs")&&Utils.isMobile()){if("function"===typeof B.setAdVolume){var ba=B.setAdVolume;B.setAdVolume=function(a){0==a&&(a=1E-10);ba.call(B,
a)}}A.style.display="none";A.contentWindow.sbh5api&&"function"===typeof A.contentWindow.sbh5api.validateVideoSlot&&(A.contentWindow.sbh5api.validateVideoSlot=function(){return!0})}-1<r.indexOf(".stickyadstv.com/mustang")&&(k.slot=null,""!=k.videoSlot.src&&(k.videoSlot.src=""),k.poster=!0,h.once(q.AdImpression,function(a){h.stickyImpression=!0}),g.parentNode.removeChild(g),A.contentWindow.document.body.appendChild(g),Utils.isMobile()&&(k.maxDelta=1E6));-1<r.indexOf("acdn.adnxs.com")&&(Utils.isiOS()&&
(k.videoSlot.av_opt_adnxs=!0),A.style.display="none");(ja||!Utils.isMobile()&&!window.AV_player.config.autosound||window.AV_player.config.customwndopen||window.AV_player.config.antihjck)&&Q(A.contentWindow,ja);!window.AV_player.config.noifsnd||window.AV_player.config.autosound||"58a5addb28a0612d3529bc5e"==window.AV_player.config.publisherid||window.AV_player.abt||(p(E),Utils.isMobile()||(h.on(q.AdVideoStart,function(){y(E)}),h.once(q.AdImpression,function(){setTimeout(function(){h.stopSRScan()},3E3);
y(E)})));window.AV_player.config.autosound||d(g);h.timeouts.initAdTimer=setTimeout(function(){h.stateError=f.noError;h.fireTrackingPixel(h.trackingPixel+f.vpaidInitAdTimeout,!1,!1,f.vpaidInitAdTimeout);Utils.writeLog(Utils.logLevels.debug,"JSVpaid initAd timeout:"+h.asid);h.dispatchWaterfallApiEvent(f.vpaidInitAdTimeout,h.asid);h.emit(q.AdError,f.vpaidInitAdTimeout)},h.timeouts.initAdTimeout);h.stateError=f.vpaidInitAdError;Utils.writeLog(Utils.logLevels.debug,"JSVpaid command initAd: "+h.asid);h.timeouts.initAdTime=
Date.now();h.fireTrackingPixel(h.trackingPixel+"initAd",!0,!1,"initAd");E.parentNode.origAppendChild=E.parentNode.appendChild;E.parentNode.appendChild=function(a){return a===E?E:E.parentNode.origAppendChild.call(E.parentNode,a)};Utils.vcmgr.clean(k.videoSlot);h.ima&&(k.imaWindow=window,k.imaLang=window.AV_player.config.imalang,k.imaAutoplay=window.AV_player.config.imaautoplay,k.imaMuted=window.AV_player.config.imamuted,k.imaiOSSkip=window.AV_player.config.imaiosskip,k.imaVpaidMode=window.AV_player.config.imavpaidmode,
k.imaplayer=window.pl.config.imaplayer,k.imanltimeout=window.pl.config.imanltimeout);window.AV_player.config.usevslot&&window.AV_player.config.videoslot&&(k.videoSlot=window.AV_player.config.videoslot,window.AV_player.config.slot&&(k.slot=window.AV_player.config.slot),window.AV_player.playerSlot&&(window.AV_player.playerSlot.style.display="none"));try{B.initAd(m.width,m.height,"normal",C,{AdParameters:e},k),h.dispatchWaterfallApiEvent("initAd",h.asid)}catch(K){h.stateError=f.noError,h.fireTrackingPixel(h.trackingPixel+
f.vpaidInitAdError,!1,!1,f.vpaidInitAdError),Utils.writeLog(Utils.logLevels.debug,"JSVpaid initAd exception:"+h.asid),h.dispatchWaterfallApiEvent(f.vpaidInitAdError,h.asid),h.emit(q.AdError,f.vpaidInitAdError)}try{if(z&&h.frame.contentWindow.topWindowWithAccess&&h.frame.contentWindow.topWindowWithAccess.lkqd&&h.frame.contentWindow.topWindowWithAccess.lkqd.instances&&0<h.frame.contentWindow.topWindowWithAccess.lkqd.instances.length){var G=h.frame.contentWindow.topWindowWithAccess.lkqd.instances;for(m=
0;m<G.length;m++)G[m].stop=Date.now()}}catch(K){}}var B,A=document.createElement("iframe"),J=document.createElement("script"),E=m||document.createElement("div"),S=!1;if(Utils.isMobile()){var O=r.indexOf(".sascdn.com/");-1<O&&20>O&&(S=!0);O=r.indexOf("//connect.facebook.net");-1<O&&20>O&&(S=!0);"string"===typeof t.url&&0<t.url.indexOf("rocket10.adspirit.net")&&(S=!0)}v&&v.src&&v.removeAttribute&&v.removeAttribute("src");var g=v||AniviewImagePlayer.createAniviewVideoTag(S),n=[];h.vids=n;E.style.width=
"100%";E.style.height="100%";h.slot=E;h.video=g;g.asid=h.asid;Utils.isMobile()||window.AV_player.config.autosound||(g.muted=!0,g.volume=0);"function"===typeof E.scrollIntoView&&(E.scrollIntoView=function(){},g.scrollIntoView=function(){},A.scrollIntoView=function(){});h.stopSRScan=function(){h.sndInterval&&(clearInterval(h.sndInterval),h.sndInterval=0)};var ja=null;window.AV_player.waterfall&&window.AV_player.waterfall.data&&window.AV_player.waterfall.data.block&&(ja=window.AV_player.waterfall.data.block);
h.cleanup=function(a){if(h.frame)try{for(var g=0;g<n.length;g++)n[g].el.removeEventListener(n[g].evt,n[g].listener);n=[];A.contentWindow.Element.prototype.scrollIntoView=A.contentWindow.Element.prototype.scrollIntoViewOrig}catch(w){}h.cleanupSubscriptions();cnf.loopvideo||(h.api=null);h.cleanTimers();h.stopSRScan();a&&b(a)};h.cleanupSubscriptions=function(){try{B&&h.subscriptions.forEach(function(a){B.unsubscribe(a.func,a.event)})}catch(T){}h.subscriptions=[]};A.src="about:blank";D&&(A.src="javascript:false");
A.style.width="100%";A.style.height="100%";A.style.display="block";A.style.opacity="0";A.style.position="absolute";A.style.top="0px";A.style.border="none";A.scrolling="no";A.setAttribute("allow","autoplay");window.AV_player.config.noinlinevideo||(g.setAttribute("webkit-playsinline","true"),g.setAttribute("playsinline","true"));g.style.display="block";g.style.width="100%";g.style.height="100%";try{g.style.setProperty&&g.style.setProperty("height","100%","important")}catch(T){}g.style.objectFit="contain";
g.style.position="absolute";g.style.top="0px";m?A.style.display="none":(h.container.style.top="",h.container.appendChild(E),D?h.container.appendChild(g):E.appendChild(g));!t||"pl"!=t.type||3!=t.platform&&6!=t.platform||(h.ima=!0,A.style.display="none");D&&(A.style.display="block");h.frame=A;Utils.writeLog(Utils.logLevels.debug,"JSVpaid command loadIframe: "+h.asid);4<r.indexOf("//r.mradx.net/")||D?h.container.appendChild(A):E.appendChild(A);A.contentWindow.document.open().write('<body onload="window.avCallback();"><style>iframe {border-width: 0;}</style></body>');
A.contentWindow.avCallback=function(){Utils.handleIntervention(A.contentWindow,function(){h.fireTrackingPixel(h.trackingPixel+f.vpaidGeneralError,!1,!1,f.vpaidGeneralError);Utils.writeLog(Utils.logLevels.debug,"JSVpaid intervention Error:"+h.asid);h.dispatchWaterfallApiEvent(f.vpaidGeneralError,h.asid);h.emit(q.AdError,f.vpaidGeneralError)});J.src=r;J.onload=G;J.onerror=function(){h.fireTrackingPixel(h.trackingPixel+f.vpaidLoadError,!1,!1,f.vpaidLoadError);Utils.writeLog(Utils.logLevels.debug,"JSVpaid load Error:"+
h.asid);h.dispatchWaterfallApiEvent(f.vpaidLoadError,h.asid);h.emit(q.AdError,f.vpaidLoadError)};Utils.writeLog(Utils.logLevels.debug,"JSVpaid command loadScript: "+h.asid);A.contentWindow.Element.prototype.scrollIntoViewOrig=A.contentWindow.Element.prototype.scrollIntoView;A.contentWindow.Element.prototype.scrollIntoView=function(){Utils.writeLog(Utils.logLevels.debug,"scrollIntoView overwritten "+h.asid)};D&&A.contentWindow.document.body.appendChild(E);"pl"==t.type&&window.av_sdk.get(t.platform)?
setTimeout(G,10):A.contentWindow.document.body.appendChild(J);A.contentWindow.document.body.style.margin="0";Utils.ampStubFix(A.contentWindow)};A.contentWindow.document.close();var M=0;A.contentDocument.body.addEventListener("click",function(){if(2!=M){M=1;Utils.writeLog(Utils.logLevels.debug,"Iframe clicked:"+h.asid);var a=document.createEvent("HTMLEvents");a.initEvent("click",!0,!0);g.dispatchEvent(a)}});A.contentWindow.addEventListener("click",function(){if(1!=M){M=2;Utils.writeLog(Utils.logLevels.debug,
"Iframe clicked:"+h.asid);var a=document.createEvent("HTMLEvents");a.initEvent("click",!0,!0);g.dispatchEvent(a)}});h.timeouts.loadTimer=setTimeout(function(){h.stateError=f.noError;h.fireTrackingPixel(h.trackingPixel+f.vpaidLoadTimeout,!1,!1,f.vpaidLoadTimeout);Utils.writeLog(Utils.logLevels.debug,"JSVpaid load timeout:"+h.asid);h.dispatchWaterfallApiEvent(f.vpaidLoadTimeout,h.asid);h.emit(q.AdError,f.vpaidLoadTimeout)},h.timeouts.loadTimeout)})};e.prototype.start=function(){var a=this;a.startAdCalled=
!0;a.stateError=f.vpaidStartAdError;var c=a.impOn||q.AdImpression;if(a.stickyImpression)c=q.AdVideoStart;else if(a.adStarted||a.adImpDelay)c=q.AdPlaying;a.once(c,function(){a.fireTrackingPixel(a.trackingPixel+q.AdImpression+"&ti="+(Date.now()-a.timeouts.startAdTime),!1,!0,q.AdImpression,Date.now()-a.timeouts.startAdTime);clearTimeout(a.timeouts.startAdTimer);a.timeouts.startAdTimer=0;a.stateError=f.vpaidPlayError;a.sndInterval&&(clearInterval(a.sndInterval),a.sndInterval=0);try{if(a.video&&(a.ima||
""==a.video.src||""==a.video.getAttribute("src"))&&2<a.slot.children.length&&(a.video.style.zIndex="-1",a.frame.style.zIndex="-1"),a.slot){for(var c=a.slot.getElementsByTagName("iframe"),b=0;b<c.length&&c[b];b++){var d=c[b].getAttribute("src");"string"===typeof d&&"<img"==d.substring(0,4)&&(c[b].src="about:blank",c[b].style.display="none")}for(b=0;b<a.vids.length;b++)a.vids[b]&&a.vids[b].el&&"IFRAME"===a.vids[b].el.nodeName&&(d=a.vids[b].el.getAttribute("src"),"string"===typeof d&&"<img"==d.substring(0,
4)&&(a.vids[b].el.src="about:blank",a.vids[b].el.style.display="none"))}}catch(v){}});a.timeouts.startAdTimer=setTimeout(function(){a.stateError=f.noError;a.fireTrackingPixel(a.trackingPixel+f.vpaidStartAdTimeout,!1,!1,f.vpaidStartAdTimeout);Utils.writeLog(Utils.logLevels.debug,"JSVpaid startAd timeout:"+a.asid);a.dispatchWaterfallApiEvent(f.vpaidStartAdTimeout,a.asid);a.stopAd();a.emit(q.AdError,f.vpaidStartAdTimeout)},a.timeouts.startAdTimeout);a.video.addEventListener("encodeerror",function(){"googima"!=
a.tagType&&a.emit(q.AdError,f.mediaPlayError)},!1);Utils.writeLog(Utils.logLevels.debug,"JSVpaid command startAd: "+a.asid);a.timeouts.startAdTime=Date.now();a.fireTrackingPixel(a.trackingPixel+"startAd",!0,!1,"startAd");try{window.AV_player.config.autosound||(a.adVolume=0)}catch(x){}Utils.isMobile()||window.AV_player.config.autosound||a.sndEnabled||window.AV_player.config.sndblkmode&&!(4<window.AV_player.config.sndblkmode)||window.AV_player.abt||(a.sndInterval=setInterval(function(){try{a.sndEnabled?
a.stopSRScan():a.adVolume=0}catch(x){}},150));"function"===typeof a.video.startAd&&a.video.startAd();c=a.adStarted||a.adImpDelay;a.adStarted||a.startAd();c&&(a.resumeAd(),a.emit("AdDelayed"));a.dispatchWaterfallApiEvent("startAd",a.asid)};e.prototype.setAdVolumeExt=function(a){this.video.muted=!(0<a);this.secVideoSlot&&(this.secVideoSlot.muted=!(0<a))};t.exports=e},{"../VPAIDVersion":6,"../enums/VPAID_EVENTS":10,"../environment":11,"./VPAID":15,lie:26,util:25,VPAID_ERRORS:48}],15:[function(a,t,k){function e(a,
f){return function(){function c(){"function"===typeof k[a+"Ext"]&&k[a+"Ext"].apply(k,d);return e[a].apply(e,d)}var d=arguments,e=this.api,k=this;if(!f){if(!e)throw Error("Ad has not been loaded.");return c()}return new q(function(a,d){if(!e)return d(Error("Ad has not been loaded."));k.once(f,function(){a(k)});return c()})}}function p(a){this.container=a;this.vpaidVersion=this.api=null;this.fireVpaidEvents=window.AV_player.config.tmf.vpaid}k=a("util").inherits;var d=a("events").EventEmitter,q=a("lie");
a=a("../enums/VPAID_EVENTS");k(p,d);Object.defineProperties(p.prototype,{adLinear:{get:e("getAdLinear")},adWidth:{get:e("getAdWidth")},adHeight:{get:e("getAdHeight")},adExpanded:{get:e("getAdExpanded")},adSkippableState:{get:e("getAdSkippableState")},adRemainingTime:{get:e("getAdRemainingTime")},adDuration:{get:e("getAdDuration")},adVolume:{get:e("getAdVolume"),set:e("setAdVolume")},adCompanions:{get:e("getAdCompanions")},adIcons:{get:e("getAdIcons")}});p.prototype.cleanTimers=function(){this.timeouts.loadTimer&&
clearTimeout(this.timeouts.loadTimer);this.timeouts.initAdTimer&&clearTimeout(this.timeouts.initAdTimer);this.timeouts.startAdTimer&&clearTimeout(this.timeouts.startAdTimer);this.timeouts.startAdTimer=this.timeouts.initAdTimer=this.timeouts.loadTimer=0};p.prototype.load=function(){throw Error("VPAID subclass must implement load() method.");};p.prototype.resizeAd=e("resizeAd",a.AdSizeChange);p.prototype.startAd=e("startAd",a.AdStarted);p.prototype.stopAd=e("stopAd",a.AdStopped);p.prototype.pauseAd=
e("pauseAd",a.AdPaused);p.prototype.resumeAd=e("resumeAd",a.AdPlaying);p.prototype.expandAd=e("expandAd",a.AdExpandedChange);p.prototype.collapseAd=e("collapseAd",a.AdExpandedChange);p.prototype.skipAd=e("skipAd",a.AdSkipped);p.prototype.seekAd=function(a){return!1};p.prototype.fireTrackingPixel=function(a,f,d,e,q){(this.fireVpaidEvents||d)&&50<a.length&&(d="",f&&(d="&vi="+Utils.getViewabilityPerc()),window.AV_player.config.postevt?this.asTrackingInfo&&this.asTrackingInfo.base&&this.asTrackingInfo.params&&
(a="",q&&(a="&ti="+q),Utils.bufferTrackingPixel("vpaid",this.asTrackingInfo.base,this.asTrackingInfo.params+"&e="+e+a+d+"&d1=vpaid",!1)):(new Image).src=a+d+"&d1=vpaid&cb="+Date.now())};t.exports=p},{"../enums/VPAID_EVENTS":10,events:18,lie:26,util:25}],16:[function(a,t,k){t.exports=function(a){for(var e="";a--;)e+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(62*Math.random()));return e}},{}],17:[function(a,t,k){t.exports=window},{}],18:[function(a,t,k){function e(){this._events=
this._events||{};this._maxListeners=this._maxListeners||void 0}function p(a){return"function"===typeof a}function d(a){return"object"===typeof a&&null!==a}t.exports=e;e.EventEmitter=e;e.prototype._events=void 0;e.prototype._maxListeners=void 0;e.defaultMaxListeners=50;e.prototype.setMaxListeners=function(a){if("number"!==typeof a||0>a||isNaN(a))throw TypeError("n must be a positive number");this._maxListeners=a;return this};e.prototype.emit=function(a){var c;this._events||(this._events={});if("error"===
a&&(!this._events.error||d(this._events.error)&&!this._events.error.length)){var f=arguments[1];if(f instanceof Error)throw f;throw TypeError('Uncaught, unspecified "error" event.');}var e=this._events[a];if(void 0===e)return!1;if(p(e))switch(arguments.length){case 1:e.call(this);break;case 2:e.call(this,arguments[1]);break;case 3:e.call(this,arguments[1],arguments[2]);break;default:f=arguments.length;var r=Array(f-1);for(c=1;c<f;c++)r[c-1]=arguments[c];e.apply(this,r)}else if(d(e)){f=arguments.length;
r=Array(f-1);for(c=1;c<f;c++)r[c-1]=arguments[c];e=e.slice();f=e.length;for(c=0;c<f;c++)e[c].apply(this,r)}return!0};e.prototype.addListener=function(a,c){if(!p(c))throw TypeError("listener must be a function");this._events||(this._events={});this._events.newListener&&this.emit("newListener",a,p(c.listener)?c.listener:c);this._events[a]?d(this._events[a])?this._events[a].push(c):this._events[a]=[this._events[a],c]:this._events[a]=c;d(this._events[a])&&!this._events[a].warned&&(c=void 0!==this._maxListeners?
this._maxListeners:e.defaultMaxListeners)&&0<c&&this._events[a].length>c&&(this._events[a].warned=!0,console.log("warning: EventEmitter maxListeners passed %d listeners added. ",this._events[a].length));return this};e.prototype.on=e.prototype.addListener;e.prototype.once=function(a,c){function f(){this.removeListener(a,f);d||(d=!0,c.apply(this,arguments))}if(!p(c))throw TypeError("listener must be a function");var d=!1;f.listener=c;this.on(a,f);return this};e.prototype.removeListener=function(a,c){if(!p(c))throw TypeError("listener must be a function");
if(!this._events||!this._events[a])return this;var f=this._events[a];var e=f.length;var r=-1;if(f===c||p(f.listener)&&f.listener===c)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,c);else if(d(f)){for(;0<e--;)if(f[e]===c||f[e].listener&&f[e].listener===c){r=e;break}if(0>r)return this;1===f.length?(f.length=0,delete this._events[a]):f.splice(r,1);this._events.removeListener&&this.emit("removeListener",a,c)}return this};e.prototype.removeAllListeners=function(a){if(!this._events)return this;
if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(c in this._events)"removeListener"!==c&&this.removeAllListeners(c);this.removeAllListeners("removeListener");this._events={};return this}var c=this._events[a];if(p(c))this.removeListener(a,c);else for(;c.length;)this.removeListener(a,c[c.length-1]);delete this._events[a];return this};e.prototype.listeners=function(a){return this._events&&this._events[a]?
p(this._events[a])?[this._events[a]]:this._events[a].slice():[]};e.listenerCount=function(a,c){return a._events&&a._events[c]?p(a._events[c])?1:a._events[c].length:0}},{}],19:[function(a,t,k){t.exports="function"===typeof Object.create?function(a,k){a.super_=k;a.prototype=Object.create(k.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:function(a,k){a.super_=k;var d=function(){};d.prototype=k.prototype;a.prototype=new d;a.prototype.constructor=a}},{}],20:[function(a,t,
k){function e(){f=!1;u.length?c=u.concat(c):r=-1;c.length&&p()}function p(){if(!f){var a=setTimeout(e);f=!0;for(var d=c.length;d;){u=c;for(c=[];++r<d;)u&&u[r].run();r=-1;d=c.length}u=null;f=!1;clearTimeout(a)}}function d(a,c){this.fun=a;this.array=c}function q(){}a=t.exports={};var c=[],f=!1,u,r=-1;a.nextTick=function(a){var e=Array(arguments.length-1);if(1<arguments.length)for(var b=1;b<arguments.length;b++)e[b-1]=arguments[b];c.push(new d(a,e));1!==c.length||f||setTimeout(p,0)};d.prototype.run=
function(){this.fun.apply(null,this.array)};a.title="browser";a.browser=!0;a.env={};a.argv=[];a.version="";a.versions={};a.on=q;a.addListener=q;a.once=q;a.off=q;a.removeListener=q;a.removeAllListeners=q;a.emit=q;a.binding=function(a){throw Error("process.binding is not supported");};a.cwd=function(){return"/"};a.chdir=function(a){throw Error("process.chdir is not supported");};a.umask=function(){return 0}},{}],21:[function(a,t,k){t.exports=function(a,d,k,c){k=k||"=";var f={};if("string"!==typeof a||
0===a.length)return f;var u=/\+/g;a=a.split(d||"&");d=1E3;c&&"number"===typeof c.maxKeys&&(d=c.maxKeys);c=a.length;0<d&&c>d&&(c=d);for(d=0;d<c;++d){var r=a[d].replace(u,"%20"),q=r.indexOf(k);if(0<=q){var p=r.substr(0,q);r=r.substr(q+1)}else p=r,r="";p=decodeURIComponent(p);r=decodeURIComponent(r);Object.prototype.hasOwnProperty.call(f,p)?e(f[p])?f[p].push(r):f[p]=[f[p],r]:f[p]=r}return f};var e=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}},{}],22:[function(a,
t,k){function e(a,d){if(a.map)return a.map(d);for(var c=[],f=0;f<a.length;f++)c.push(d(a[f],f));return c}var p=function(a){switch(typeof a){case "string":return a;case "boolean":return a?"true":"false";case "number":return isFinite(a)?a:"";default:return""}};t.exports=function(a,f,u,r){f=f||"&";u=u||"=";null===a&&(a=void 0);return"object"===typeof a?e(q(a),function(c){var r=encodeURIComponent(p(c))+u;return d(a[c])?e(a[c],function(a){return r+encodeURIComponent(p(a))}).join(f):r+encodeURIComponent(p(a[c]))}).join(f):
r?encodeURIComponent(p(r))+u+encodeURIComponent(p(a)):""};var d=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},q=Object.keys||function(a){var c=[],d;for(d in a)Object.prototype.hasOwnProperty.call(a,d)&&c.push(d);return c}},{}],23:[function(a,t,k){k.decode=k.parse=a("./decode");k.encode=k.stringify=a("./encode")},{"./decode":21,"./encode":22}],24:[function(a,t,k){t.exports=function(a){return a&&"object"===typeof a&&"function"===typeof a.copy&&"function"===typeof a.fill&&
"function"===typeof a.readUInt8}},{}],25:[function(a,t,k){(function(e,p){function d(a,b){var h={seen:[],stylize:c};3<=arguments.length&&(h.depth=arguments[2]);4<=arguments.length&&(h.colors=arguments[3]);D(b)?h.showHidden=b:b&&k._extend(h,b);y(h.showHidden)&&(h.showHidden=!1);y(h.depth)&&(h.depth=2);y(h.colors)&&(h.colors=!1);y(h.customInspect)&&(h.customInspect=!0);h.colors&&(h.stylize=q);return u(h,a,h.depth)}function q(a,b){return(b=d.styles[b])?"\u001b["+d.colors[b][0]+"m"+a+"\u001b["+d.colors[b][1]+
"m":a}function c(a,b){return a}function f(a){var b={};a.forEach(function(a,h){b[a]=!0});return b}function u(a,c,d){if(a.customInspect&&c&&J(c.inspect)&&c.inspect!==k.inspect&&(!c.constructor||c.constructor.prototype!==c)){var e=c.inspect(d,a);h(e)||(e=u(a,e,d));return e}if(e=r(a,c))return e;var y=Object.keys(c),q=f(y);a.showHidden&&(y=Object.getOwnPropertyNames(c));if(G(c)&&(0<=y.indexOf("message")||0<=y.indexOf("description")))return t(c);if(0===y.length){if(J(c))return a.stylize("[Function"+(c.name?
": "+c.name:"")+"]","special");if(C(c))return a.stylize(RegExp.prototype.toString.call(c),"regexp");if(B(c))return a.stylize(Date.prototype.toString.call(c),"date");if(G(c))return t(c)}e="";var p=!1,g=["{","}"];v(c)&&(p=!0,g=["[","]"]);J(c)&&(e=" [Function"+(c.name?": "+c.name:"")+"]");C(c)&&(e=" "+RegExp.prototype.toString.call(c));B(c)&&(e=" "+Date.prototype.toUTCString.call(c));G(c)&&(e=" "+t(c));if(0===y.length&&(!p||0==c.length))return g[0]+e+g[1];if(0>d)return C(c)?a.stylize(RegExp.prototype.toString.call(c),
"regexp"):a.stylize("[Object]","special");a.seen.push(c);y=p?x(a,c,d,q,y):y.map(function(g){return b(a,c,d,q,g,p)});a.seen.pop();return m(y,e,g)}function r(a,b){if(y(b))return a.stylize("undefined","undefined");if(h(b))return b="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'",a.stylize(b,"string");if(A(b))return a.stylize(""+b,"number");if(D(b))return a.stylize(""+b,"boolean");if(null===b)return a.stylize("null","null")}function t(a){return"["+Error.prototype.toString.call(a)+
"]"}function x(a,h,c,d,f){for(var e=[],m=0,g=h.length;m<g;++m)Object.prototype.hasOwnProperty.call(h,String(m))?e.push(b(a,h,c,d,String(m),!0)):e.push("");f.forEach(function(g){g.match(/^\d+$/)||e.push(b(a,h,c,d,g,!0))});return e}function b(a,b,h,c,d,f){var e,g;b=Object.getOwnPropertyDescriptor(b,d)||{value:b[d]};b.get?g=b.set?a.stylize("[Getter/Setter]","special"):a.stylize("[Getter]","special"):b.set&&(g=a.stylize("[Setter]","special"));Object.prototype.hasOwnProperty.call(c,d)||(e="["+d+"]");g||
(0>a.seen.indexOf(b.value)?(g=null===h?u(a,b.value,null):u(a,b.value,h-1),-1<g.indexOf("\n")&&(g=f?g.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):"\n"+g.split("\n").map(function(a){return"   "+a}).join("\n"))):g=a.stylize("[Circular]","special"));if(y(e)){if(f&&d.match(/^\d+$/))return g;e=JSON.stringify(""+d);e.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(e=e.substr(1,e.length-2),e=a.stylize(e,"name")):(e=e.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),e=a.stylize(e,
"string"))}return e+": "+g}function m(a,b,h){var c=0;return 60<a.reduce(function(a,b){c++;0<=b.indexOf("\n")&&c++;return a+b.replace(/\u001b\[\d\d?m/g,"").length+1},0)?h[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+h[1]:h[0]+b+" "+a.join(", ")+" "+h[1]}function v(a){return Array.isArray(a)}function D(a){return"boolean"===typeof a}function A(a){return"number"===typeof a}function h(a){return"string"===typeof a}function y(a){return void 0===a}function C(a){return Q(a)&&"[object RegExp]"===Object.prototype.toString.call(a)}
function Q(a){return"object"===typeof a&&null!==a}function B(a){return Q(a)&&"[object Date]"===Object.prototype.toString.call(a)}function G(a){return Q(a)&&("[object Error]"===Object.prototype.toString.call(a)||a instanceof Error)}function J(a){return"function"===typeof a}function E(a){return 10>a?"0"+a.toString(10):a.toString(10)}function I(){var a=new Date,b=[E(a.getHours()),E(a.getMinutes()),E(a.getSeconds())].join(":");return[a.getDate(),P[a.getMonth()],b].join(" ")}var F=/%[sdj%]/g;k.format=
function(a){if(!h(a)){for(var b=[],c=0;c<arguments.length;c++)b.push(d(arguments[c]));return b.join(" ")}c=1;var f=arguments,e=f.length;b=String(a).replace(F,function(a){if("%%"===a)return"%";if(c>=e)return a;switch(a){case "%s":return String(f[c++]);case "%d":return Number(f[c++]);case "%j":try{return JSON.stringify(f[c++])}catch(g){return"[Circular]"}default:return a}});for(var m=f[c];c<e;m=f[++c])b=null!==m&&Q(m)?b+(" "+d(m)):b+(" "+m);return b};k.deprecate=function(a,b){if(y(p.process))return function(){return k.deprecate(a,
b).apply(this,arguments)};if(!0===e.noDeprecation)return a;var h=!1;return function(){if(!h){if(e.throwDeprecation)throw Error(b);e.traceDeprecation?console.trace(b):console.error(b);h=!0}return a.apply(this,arguments)}};var Y={},L;k.debuglog=function(a){y(L)&&(L=e.env.NODE_DEBUG||"");a=a.toUpperCase();if(!Y[a])if((new RegExp("\\b"+a+"\\b","i")).test(L)){var b=e.pid;Y[a]=function(){var h=k.format.apply(k,arguments);console.error("%s %d: %s",a,b,h)}}else Y[a]=function(){};return Y[a]};k.inspect=d;
d.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};d.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"};k.isArray=v;k.isBoolean=D;k.isNull=function(a){return null===a};k.isNullOrUndefined=function(a){return null==a};k.isNumber=A;k.isString=h;k.isSymbol=function(a){return"symbol"===
typeof a};k.isUndefined=y;k.isRegExp=C;k.isObject=Q;k.isDate=B;k.isError=G;k.isFunction=J;k.isPrimitive=function(a){return null===a||"boolean"===typeof a||"number"===typeof a||"string"===typeof a||"symbol"===typeof a||"undefined"===typeof a};k.isBuffer=a("./support/isBuffer");var P="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");k.log=function(){console.log("%s - %s",I(),k.format.apply(k,arguments))};k.inherits=a("inherits");k._extend=function(a,b){if(!b||!Q(b))return a;for(var h=Object.keys(b),
c=h.length;c--;)a[h[c]]=b[h[c]];return a}}).call(this,a("_process"),"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./support/isBuffer":24,_process:20,inherits:19}],26:[function(a,t,k){function e(){}function p(a){if("function"!==typeof a)throw new TypeError("resolver must be a function");this.state=m;this.queue=[];this.outcome=void 0;a!==e&&f(this,a)}function d(a,b,c){this.promise=a;"function"===typeof b&&(this.onFulfilled=b,this.callFulfilled=
this.otherCallFulfilled);"function"===typeof c&&(this.onRejected=c,this.callRejected=this.otherCallRejected)}function q(a,b,c){r(function(){try{var h=b(c)}catch(y){return z.reject(a,y)}h===a?z.reject(a,new TypeError("Cannot resolve promise with itself")):z.resolve(a,h)})}function c(a){var b=a&&a.then;if(a&&"object"===typeof a&&"function"===typeof b)return function(){b.apply(a,arguments)}}function f(a,b){function c(b){d||(d=!0,z.reject(a,b))}function h(b){d||(d=!0,z.resolve(a,b))}var d=!1,f=u(function(){b(h,
c)});"error"===f.status&&c(f.value)}function u(a,b){var c={};try{c.value=a(b),c.status="success"}catch(h){c.status="error",c.value=h}return c}var r=a("immediate"),z={},x=["REJECTED"],b=["FULFILLED"],m=["PENDING"];t.exports=k=p;p.prototype["catch"]=function(a){return this.then(null,a)};p.prototype.then=function(a,c){if("function"!==typeof a&&this.state===b||"function"!==typeof c&&this.state===x)return this;var f=new this.constructor(e);this.state!==m?q(f,this.state===b?a:c,this.outcome):this.queue.push(new d(f,
a,c));return f};d.prototype.callFulfilled=function(a){z.resolve(this.promise,a)};d.prototype.otherCallFulfilled=function(a){q(this.promise,this.onFulfilled,a)};d.prototype.callRejected=function(a){z.reject(this.promise,a)};d.prototype.otherCallRejected=function(a){q(this.promise,this.onRejected,a)};z.resolve=function(a,d){var e=u(c,d);if("error"===e.status)return z.reject(a,e.value);if(e=e.value)f(a,e);else{a.state=b;a.outcome=d;e=-1;for(var h=a.queue.length;++e<h;)a.queue[e].callFulfilled(d)}return a};
z.reject=function(a,b){a.state=x;a.outcome=b;for(var c=-1,h=a.queue.length;++c<h;)a.queue[c].callRejected(b);return a};k.resolve=function(a){return a instanceof this?a:z.resolve(new this(e),a)};k.reject=function(a){var b=new this(e);return z.reject(b,a)};k.all=function(a){function b(a,b){c.resolve(a).then(function(a){f[b]=a;++m!==h||d||(d=!0,z.resolve(r,f))},function(a){d||(d=!0,z.reject(r,a))})}var c=this;if("[object Array]"!==Object.prototype.toString.call(a))return this.reject(new TypeError("must be an array"));
var h=a.length,d=!1;if(!h)return this.resolve([]);for(var f=Array(h),m=0,v=-1,r=new this(e);++v<h;)b(a[v],v);return r};k.race=function(a){function b(a){c.resolve(a).then(function(a){d||(d=!0,z.resolve(m,a))},function(a){d||(d=!0,z.reject(m,a))})}var c=this;if("[object Array]"!==Object.prototype.toString.call(a))return this.reject(new TypeError("must be an array"));var h=a.length,d=!1;if(!h)return this.resolve([]);for(var f=-1,m=new this(e);++f<h;)b(a[f]);return m}},{immediate:27}],27:[function(a,
t,k){(function(a){function e(){r=!0;for(var a,b,c=z.length;c;){b=z;z=[];for(a=-1;++a<c;)b[a]();c=z.length}r=!1}var d=a.MutationObserver||a.WebKitMutationObserver;if(d){var k=0;d=new d(e);var c=a.document.createTextNode("");d.observe(c,{characterData:!0});var f=function(){c.data=k=++k%2}}else if(a.setImmediate||"undefined"===typeof a.MessageChannel)f="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var c=a.document.createElement("script");c.onreadystatechange=function(){e();
c.onreadystatechange=null;c.parentNode.removeChild(c);c=null};a.document.documentElement.appendChild(c)}:function(){setTimeout(e,0)};else{var u=new a.MessageChannel;u.port1.onmessage=e;f=function(){u.port2.postMessage(0)}}var r,z=[];t.exports=function(a){1!==z.push(a)||r||f()}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],28:[function(a,t,k){var e=a("object-path");var p=function(a){var d=1;"-"===a[0]&&(d=-1,a=a.substr(1));
return function(c,f){var k;e.get(c,a)<e.get(f,a)&&(k=-1);e.get(c,a)>e.get(f,a)&&(k=1);e.get(c,a)===e.get(f,a)&&(k=0);return k*d}};t.exports=function(){var a=arguments;return function(d,c){for(var f=a.length,e=0,r=0;0===e&&r<f;)e=p(a[r])(d,c),r++;return e}}},{"object-path":29}],29:[function(a,t,k){(function(a,k){"object"===typeof t&&"object"===typeof t.exports?t.exports=k():a.objectPath=k()})(this,function(){function a(a){if(!a)return!0;if(!q(a)||0!==a.length)for(var b in a)if(t.call(a,b))return!1;
return!0}function k(a){return"number"===typeof a||"[object Number]"===r.call(a)}function d(a){return"string"===typeof a||"[object String]"===r.call(a)}function q(a){return"object"===typeof a&&"number"===typeof a.length&&"[object Array]"===r.call(a)}function c(a){var b=parseInt(a);return b.toString()===a?b:a}function f(b,e,v,r){k(e)&&(e=[e]);if(a(e))return b;if(d(e))return f(b,e.split("."),v,r);var m=c(e[0]);if(1===e.length)return e=b[m],void 0!==e&&r||(b[m]=v),e;void 0===b[m]&&(k(m)?b[m]=[]:b[m]=
{});return f(b[m],e.slice(1),v,r)}function u(b,f){k(f)&&(f=[f]);if(!a(b)){if(a(f))return b;if(d(f))return u(b,f.split("."));var e=c(f[0]),m=b[e];if(1===f.length)void 0!==m&&(q(b)?b.splice(e,1):delete b[e]);else if(void 0!==b[e])return u(b[e],f.slice(1));return b}}var r=Object.prototype.toString,t=Object.prototype.hasOwnProperty,x={ensureExists:function(a,c,d){return f(a,c,d,!0)},set:function(a,c,d,e){return f(a,c,d,e)},insert:function(a,c,d,f){var b=x.get(a,c);f=~~f;q(b)||(b=[],x.set(a,c,b));b.splice(f,
0,d)},empty:function(b,c){if(a(c))return b;if(!a(b)){var f,e;if(!(f=x.get(b,c)))return b;if(d(f))return x.set(b,c,"");if("boolean"===typeof f||"[object Boolean]"===r.call(f))return x.set(b,c,!1);if(k(f))return x.set(b,c,0);if(q(f))f.length=0;else if("object"===typeof f&&"[object Object]"===r.call(f))for(e in f)t.call(f,e)&&delete f[e];else return x.set(b,c,null)}},push:function(a,c){var b=x.get(a,c);q(b)||(b=[],x.set(a,c,b));b.push.apply(b,Array.prototype.slice.call(arguments,2))},coalesce:function(a,
c,f){for(var b,d=0,h=c.length;d<h;d++)if(void 0!==(b=x.get(a,c[d])))return b;return f},get:function(b,f,e){k(f)&&(f=[f]);if(a(f))return b;if(a(b))return e;if(d(f))return x.get(b,f.split("."),e);var m=c(f[0]);return 1===f.length?void 0===b[m]?e:b[m]:x.get(b[m],f.slice(1),e)},del:function(a,c){return u(a,c)}};return x})},{}],30:[function(a,t,k){k.VAST=a("./lib/VAST")},{"./lib/VAST":31}],31:[function(a,t,k){function e(){}function p(a){c(a,this,!0);this.raw=[];this.ads.forEach(function(a){f({system:{version:null},
errors:[]},a);a.creatives.forEach(function(a){f({id:null,sequence:null,adID:null},a);m[a.type](a)});b[a.type](a)});this.__private__={wrappers:[],inlines:[]}}var d=a("lie"),q=a("superagent"),c=a("./utils/copy"),f=a("./utils/defaults"),u=a("./utils/extend"),r=a("./utils/nodeify_promise"),z=Array.prototype.push,x=a("./xml_from_vast"),b={inline:function(a){f({description:null,survey:null},a)},wrapper:function(){}},m={linear:function(a){f({trackingEvents:[],parameters:null,videoClicks:null,skipOffset:-1},
a);(a.mediaFiles||[]).forEach(function(a){f({id:null,bitrate:null,scalable:null,maintainAspectRatio:null,apiFramework:null},a)})},companions:function(a){a.companions.forEach(function(a){f({expandedWidth:null,expandedHeight:null,apiFramework:null,trackingEvents:[],clickThrough:null,altText:null,parameters:null},a)})},nonLinear:function(a){f({trackingEvents:[]},a);a.ads.forEach(function(a){f({id:null,expandedWidth:null,expandedHeight:null,scalable:null,maintainAspectRatio:null,minSuggestedDuration:null,
apiFramework:null,clickThrough:null,parameters:null},a)})}};Object.defineProperties(p.prototype,{wrappers:{get:function(){var a=this.__private__.wrappers;a.length=0;z.apply(a,this.filter("ads",function(a){return"wrapper"===a.type}));return a}},inlines:{get:function(){var a=this.__private__.inlines;a.length=0;z.apply(a,this.filter("ads",function(a){return"inline"===a.type}));return a}}});p.prototype.get=function(a){return((a||"").match(/[^\[\]\.]+/g)||[]).reduce(function(a,b){return(a||void 0)&&a[b]},
this)};p.prototype.set=function(a,b){function c(a,b){switch(a.input.charAt(b)){case ".":return Object;case "[":return Array;case "]":return c(a,b+1);default:return null}}var h=function(){for(var b=/[^\[\]\.]+/g,h=[],f;f=b.exec(a);)h.push({token:f[0],type:c(f,f.index+f[0].length)});return h}(),f=h.pop();h=h.reduce(function(a,b){return a[b.token]||(a[b.token]=new b.type)},this);if(!a)throw Error("prop must be specified.");return h[f.token]=b};p.prototype.map=function(a,b){a=this.get(a)||[];var c=a.length,
h=[];if(!(a instanceof Array))return h;for(var f=0;f<c;f++)h.push(b.call(this,a[f],f,a));return h};p.prototype.filter=function(a,b){a=this.get(a)||[];var c=a.length,h=[];if(!(a instanceof Array))return h;for(var f=0;f<c;f++)b.call(this,a[f],f,a)&&h.push(a[f]);return h};p.prototype.find=function(a,b){a=this.get(a)||[];var c=a.length;if(a instanceof Array)for(var h=0;h<c;h++)if(b.call(this,a[h],h,a))return a[h]};p.prototype.toPOJO=function(){var a=JSON.parse(JSON.stringify(this));delete a.__private__;
return a};p.prototype.copy=function(){return new this.constructor(this.toPOJO())};p.prototype.resolveWrappers=function(a,b){function c(a,b){function c(a){return function(b){return b.type===a}}var h=function(a){return{linear:a.filter(c("linear")),companions:a.filter(c("companions")),nonLinear:a.filter(c("nonLinear"))}}(a.creatives);f(a.impressions,b.impressions);f(a.errors,b.errors);f(a.extensions,b.extensions);b.creatives.forEach(function(a){f(h[a.type].shift()||{},a)});z.apply(b.creatives,"wrapper"!==
b.type?[]:["linear","companions","nonLinear"].reduce(function(a,b){return a.concat(h[b])},[]));return b}var h=isNaN(a)?Infinity:a,e="function"===typeof a?a:b,m=this.constructor,k=this,v=this;return 0===h?d.reject(Error("Too many redirects were made.")):r(d.all(this.map("wrappers",function(a){return d.resolve(q.get(a.vastAdTagURI)).then(function(b){v.raw.push(b.text);return{wrapper:a,response:m.pojoFromXML(b.text).ads}})})).then(function(a){var b=a.map(function(a){return a.wrapper}),h=a.map(function(a){return a.response});
a=new m(u(k.toPOJO(),{ads:k.map("ads",function(a){var f=b.indexOf(a),d=b[f];return(f=h[f])?f.map(c.bind(null,d)):[a]}).reduce(function(a,b){return a.concat(b)})}));a.raw=k.raw;return a}).then(function(a){return 0<a.get("wrappers.length")?a.resolveWrappers(h-1,e):a}),function(a,b){b||(b=v);e(a,b)})};p.prototype.toXML=function(){var a=this.validate();if(!a.valid)throw Error("VAST is invalid: "+a.reasons.join(", "));return x(this)};p.prototype.validate=function(){function a(a){h.get(a)||f.push(a+" is required")}
function b(a){0<h.get(a+".length")||f.push(a+" must contain at least one value")}function c(c,h){h.exists.map(c).forEach(a);h.atLeastOne.map(c).forEach(b)}var h=this,f=[],d={inline:function(a){var b={linear:function(a){c(a,{exists:["duration"],atLeastOne:["mediaFiles"]})},companions:function(a){h.get(a("companions")).forEach(function(b,h){c(function(b){return a("companions["+h+"]."+b)},{exists:[],atLeastOne:["resources"]})})},nonLinear:function(a){h.get(a("ads")).forEach(function(b,h){c(function(b){return a("ads["+
h+"]."+b)},{exists:[],atLeastOne:["resources"]})})}};c(a,{exists:["title"],atLeastOne:["creatives"]});h.get(a("creatives")).forEach(function(h,f){function d(b){return a("creatives["+f+"]."+b)}c(d,{exists:["type"],atLeastOne:[]});(b[h.type]||e)(d)})},wrapper:function(a){c(a,{exists:["vastAdTagURI"],atLeastOne:[]})}};c(function(a){return a},{exists:[],atLeastOne:["ads"]});this.get("ads").forEach(function(a,b){function h(a){return"ads["+b+"]."+a}c(h,{exists:["type","system.name"],atLeastOne:["impressions"]});
(d[a.type]||e)(h)});return{valid:0===f.length,reasons:0===f.length?null:f}};p.pojoFromXML=a("./pojo_from_xml");p.fetch=function(a,b,c,h,f,e){var m="object"===typeof b?b||{}:{},k=0;e&&e.playerSettings&&(e.playerSettings.cbtic=e.playerSettings.btic||0,k=e.playerSettings.bti||0);var u=this;if("video"==h||"vastxml"==h||"pl"==h)return b="","video"==h?b='<VAST version="2.0"><Ad id="aniview"><InLine><AdSystem>aniview</AdSystem><AdTitle>aniview</AdTitle><Creatives><Creative><Linear><Duration></Duration><VideoClicks><ClickThrough id="aniview"><![CDATA['+
c.trim()+']]\x3e</ClickThrough></VideoClicks><MediaFiles><MediaFile height="360" width="480" bitrate="527" type="video/mp4" delivery="progressive"><![CDATA['+a+"]]\x3e</MediaFile></MediaFiles></Linear></Creative></Creatives></InLine></Ad></VAST>":"pl"==h?(b=window.AV_player.config.basejsurl+"sdk/"+e.platform+".js",b='<VAST version="2.0"><Ad id="aniview"><InLine><AdSystem>aniview</AdSystem><AdTitle>aniview</AdTitle><Creatives><Creative><Linear><Duration></Duration><AdParameters><![CDATA['+decodeURIComponent(a)+
']]\x3e</AdParameters><MediaFiles><MediaFile height="360" width="480" type="application/javascript" apiFramework="VPAID"><![CDATA['+b+"]]\x3e</MediaFile></MediaFiles></Linear></Creative></Creatives></InLine></Ad></VAST>"):b=a,a=new u(u.pojoFromXML(b)),a.raw.push(b),m.resolveWrappers?a.resolveWrappers(m.maxRedirects,f):a;if("pb"==h)return a=q.prebid(function(a){try{var b=new AV_PrebidBase(e.platform),c=e.ac&&e.ac.fp?e.ac.fp:0;if(b.av_async){var h=!1;b.av.getRequest(e.fixedTemplate,e.schain,function(f){if(!h){var d=
(f=b.av.getVastResponse("",f,c))&&f.vast?f.vast:"<VAST/>";f&&0<f.cpm&&e.playerSettings&&(e.playerSettings.cbtic=k*f.cpm);e.pbbidprice=f.cpm||0;a(d);h=!0}});setTimeout(function(){h||(a("<VAST/>"),h=!0)},3E3)}else{var u=b.av.getRequest(e.fixedTemplate,e.schain);"object"==typeof u&&"function"===typeof u.push&&0<u.length&&(u=u[0]);if(!u||"string"!==typeof u.url||6>u.url.trim().length)throw"prebid error "+e.platform;var y=u.url;if("GET"===u.method){u.avParams&&(y=y+"?"+u.avParams);var v=q.get(y).set(m.headers||
{});u.options&&!1===u.options.withCredentials&&(v._withCredentials=!1)}else v=q.post(y,u.data).set("Content-Type","text/plain"),u.requestContentType&&(v.unset("Content-Type"),v.set({"Content-Type":"text/plain"}));return r(d.resolve(v).then(function(h){var f=(h=b.av.getVastResponse(h.text,u,c))&&h.vast?h.vast:"<VAST/>";h&&0<h.cpm&&e.playerSettings&&(e.playerSettings.cbtic=k*h.cpm);e.pbbidprice=h.cpm||0;a(f);Utils.firePrebidPixels(b.av.getUserSyncs())}).catch(function(){a("<VAST/>");Utils.firePrebidPixels(b.av.getUserSyncs())}),
f)}}catch(V){a("<VAST/>")}},function(){}),r(d.resolve(a).then(function(a){var b=new u(u.pojoFromXML(a.text,h));b.raw.push(a.text);return m.resolveWrappers?b.resolveWrappers(m.maxRedirects,f):b}),f);a=q.get(a).set(m.headers||{});"s2s"==h&&a.timeout(1600);b.withCredentials||(a._withCredentials=!1);return r(d.resolve(a).then(function(a){var b=new u(u.pojoFromXML(a.text,h));b.raw.push(a.text);return m.resolveWrappers?b.resolveWrappers(m.maxRedirects,f):b}),f)};t.exports=p},{"./pojo_from_xml":32,"./utils/copy":34,
"./utils/defaults":35,"./utils/extend":36,"./utils/nodeify_promise":37,"./xml_from_vast":44,lie:26,superagent:45}],32:[function(a,t,k){function e(a){return a[0]||{attributes:{}}}function p(a){return a.find("StaticResource,IFrameResource,HTMLResource").map(function(a){return{type:a.tag.replace(/Resource$/,"").toLowerCase(),creativeType:a.attributes.creativeType,data:a.value}})}function d(a){function b(a){return isNaN(a)?0:1*a}if(a)try{if(-1<a.indexOf("%")){var f=a.split("%");return{offset:b(f[0]),
type:1}}return{offset:b(c(a)),type:0}}catch(A){}}var q=a("./utils/parse_xml"),c=a("./utils/timestamp_to_seconds"),f=a("./utils/string_to_boolean"),u=a("./utils/extend"),r=a("./utils/trim_object"),z=a("./utils/numberify"),x={linear:function(a){var b=e(a.find("Duration")),m=a.find("Tracking"),r=e(a.find("AdParameters")),h=a.find("VideoClicks")[0],k=a.find("MediaFile");a=e(a.find("Linear"));return{type:"linear",skipoffset:d(a.attributes.skipoffset)||void 0,duration:c(b.value)||void 0,trackingEvents:m.map(function(a){return{event:a.attributes.event,
uri:a.value,offset:d(a.attributes.offset)}}),parameters:r.value,videoClicks:h&&function(){var a=e(h.find("ClickThrough")),b=h.find("ClickTracking"),c=h.find("CustomClick");return{clickThrough:a.value,clickTrackings:b.map(function(a){return a.value}),customClicks:c.map(function(a){return{id:a.attributes.id,uri:a.value}})}}(),mediaFiles:k.map(function(a){var b=a.attributes;return{id:b.id,delivery:b.delivery,type:b.type,uri:a.value,bitrate:z(b.bitrate),width:z(b.width),height:z(b.height),scalable:f(b.scalable),
maintainAspectRatio:f(b.maintainAspectRatio),apiFramework:b.apiFramework}})}},companions:function(a){var b=a.find("Companion");a=b&&b.length?a.getString("CompanionAds"):"";return{type:"companions",companions:b.map(function(a){var b=a.find("Tracking"),c=e(a.find("CompanionClickThrough")),f=e(a.find("AltText")),d=e(a.find("AdParameters"));return{id:a.attributes.id,width:z(a.attributes.width),height:z(a.attributes.height),expandedWidth:z(a.attributes.expandedWidth),expandedHeight:z(a.attributes.expandedHeight),
apiFramework:a.attributes.apiFramework,resources:p(a),trackingEvents:b.map(function(a){return{event:a.attributes.event,uri:a.value}}),clickThrough:c.value,altText:f.value,parameters:d.value}}),companionAds:a}},nonLinear:function(a){var b=a.find("NonLinear");a=a.find("Tracking");return{type:"nonLinear",ads:b.map(function(a){var b=e(a.find("NonLinearClickThrough")),h=e(a.find("AdParameters"));return{id:a.attributes.id,width:z(a.attributes.width),height:z(a.attributes.height),expandedWidth:z(a.attributes.expandedWidth),
expandedHeight:z(a.attributes.expandedHeight),scalable:f(a.attributes.scalable),maintainAspectRatio:f(a.attributes.maintainAspectRatio),minSuggestedDuration:c(a.attributes.minSuggestedDuration)||void 0,apiFramework:a.attributes.apiFramework,resources:p(a),clickThrough:b.value,parameters:h.value}}),trackingEvents:a.map(function(a){return{event:a.attributes.event,uri:a.value}})}}},b={inline:function(a){var b=e(a.find("AdTitle")),c=e(a.find("Description"));a=e(a.find("Survey"));return{type:"inline",
title:b.value,description:c.value,survey:a.value}},wrapper:function(a){return{type:"wrapper",vastAdTagURI:e(a.find("VASTAdTagURI")).value}}};t.exports=function(a,c){a=q(a,c);return r({version:e(a("VAST")).attributes.version,ads:a("Ad").map(function(a){var c=e(a.find("Wrapper,InLine")).tag.toLowerCase(),h=e(a.find("AdSystem")),f=a.find("Error"),d=a.find("Impression"),m=a.find("Creative"),r=a.find("Extensions");return u({id:a.attributes.id,system:{name:h.value,version:h.attributes.version},errors:f.map(function(a){return a.value}),
impressions:d.map(function(a){return{uri:a.value,id:a.attributes.id}}),creatives:m.map(function(a){var b=function(){switch(e(a.find("Linear,CompanionAds,NonLinearAds")).tag){case "Linear":return"linear";case "CompanionAds":return"companions";case "NonLinearAds":return"nonLinear";default:return null}}();if(null!=b)return u({id:a.attributes.id,sequence:z(a.attributes.sequence),adID:a.attributes.AdID},x[b](a))}),extensions:r.map(function(a){try{return{extension:a.children().map(function(a){if("string"===
typeof a.attributes.type&&"aniview"==a.attributes.type.toLowerCase()){var b={type:"aniview"};if("CPM"!=a.children()[0].tag)try{b.tag=JSON.parse(a.children()[0].value)}catch(I){}else b.cpm=a.children()[0].value;return b}})}}catch(J){}return null})},b[c](a))})},!0)}},{"./utils/extend":36,"./utils/numberify":38,"./utils/parse_xml":39,"./utils/string_to_boolean":41,"./utils/timestamp_to_seconds":42,"./utils/trim_object":43}],33:[function(a,t,k){function e(a){return null!==a&&void 0!==a}function p(a){return void 0!==
a?String(a).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""}function d(a){for(var c="";a--;)c+=" ";return c}function q(a){return(void 0!==a?function(a){for(var c=[],f=/]]\x3e/g,b=0,d,e;d=f.exec(a);)e=d.index+2,c.push(d.input.substring(b,e)),b=e;c.push(a.substring(b,a.length));return c}(String(a)):[""]).reduce(function(a,c){return a+"<![CDATA["+c+"]]\x3e"},"")}function c(a){return a.cdata?q(a.value):p(a.value)}function f(a,k,q){var r=
a.tag,b=a.attributes||{},m=Object.keys(b),u=a.value,t=0<(a.children||[]).length;m=m.every(function(a){return e(b[a])})&&0<m.length;u=e(u)||t||m;m=d(k);var z="<"+r+Object.keys(b).reduce(function(a,c){return q&&!e(b[c])?a:a+" "+c+'="'+p(b[c])+'"'},"")+">";r="</"+r+">";return!q||u||a.required?t?[m+z].concat(a.children.reduce(function(a,b){return a.concat(f(b,k+4,q))},[]),[m+r]):[m+z+c(a)+r]:[]}t.exports=function(a,c){return['<?xml version="1.0" encoding="UTF-8"?>'].concat(f(a,0,c)).join("\n")}},{}],
34:[function(a,t,k){function e(a,f,e){return Object.keys(a).reduce(function(c,f){c[f]=e?d(a[f],null,!0):a[f];return c},f||{})}function p(a,f,e){f=f||[];q.apply(f,e?a.map(function(a){return d(a,null,!0)}):a);return f}function d(a,f,d){var c=("object"===typeof f||null)&&f;f="boolean"===typeof f?f:d;return Object(a)!==a?a:a instanceof Array?p(a,c,f):e(a,c,f)}var q=Array.prototype.push;t.exports=d},{}],35:[function(a,t,k){function e(a){return Object(a)===a}function p(a){return a instanceof Array}var d=
Array.prototype.push;t.exports=function c(a,k){return[a,k].every(p)?(d.apply(k,a.filter(function(a){return 0>k.indexOf(a)})),k):Object.keys(a).reduce(function(f,d){[a[d],f[d]].every(e)&&c(a[d],f[d]);d in f||(f[d]=a[d]);return f},k)}},{}],36:[function(a,t,k){t.exports=function(){return Array.prototype.slice.call(arguments).reduce(function(a,k){return Object.keys(k||{}).reduce(function(a,e){a[e]=k[e];return a},a)},{})}},{}],37:[function(a,t,k){t.exports=function(a,k){if("function"!==typeof k)return a;
a.then(function(a){k(null,a)},function(a){k(a)});return a}},{}],38:[function(a,t,k){t.exports=function(a){if(/string|number|boolean/.test(typeof a))return isNaN(a)?void 0:Number(a)}},{}],39:[function(a,t,k){function e(a){return{tag:a.tagName,value:0<a.childElementCount?null:a.textContent,attributes:q.call(a.attributes,function(a,c){a[c.name]=c.value;return a},{}),find:function(c){return p.call(a.querySelectorAll(c),e)},children:function(){return d.call(a.childNodes,function(a){return a instanceof
Element}).map(e)},getString:function(c){try{var f=a.querySelector(c);if(f)return(new XMLSerializer).serializeToString(f)}catch(z){}return""}}}var p=Array.prototype.map,d=Array.prototype.filter,q=Array.prototype.reduce,c=new DOMParser;t.exports=function(a,d){var f=c.parseFromString(a,"application/xml");try{if(f&&f.children){var k=f.getElementsByTagName("parsererror");k&&0<k.length&&(a=a.replace(/[^A-Za-z 0-9 \.,\?""!@#\$%\^&\*\(\)-_=\+;:<>\/\\\|\}\{\[\]`~]*/g,""),f=c.parseFromString(a,"application/xml"),
"s2s"==d&&(k=f.getElementsByTagName("parsererror"))&&0<k.length&&(1<a.indexOf("<ClickThrough>")&&-1==a.indexOf("]]\x3e</ClickThrough>")&&(a=a.replace("</ClickThrough>","]]\x3e</ClickThrough>"),f=c.parseFromString(a,"application/xml")),1<a.indexOf("<AdParameters><?xml")&&(a=a.replace("<AdParameters><?xml","<AdParameters><![CDATA[<?xml"),a=a.replace("fig></AdParameters>","fig>]]\x3e </AdParameters>"),f=c.parseFromString(a,"application/xml"))))}}catch(x){}return function(a){return p.call(f.querySelectorAll(a),
e)}}},{}],40:[function(a,t,k){function e(a){return(9<a?"":"0")+a.toString()}t.exports=function(a){return Number(a)!==a?null:[Math.floor(a/60/60),Math.floor(a/60%60),Math.floor(a%60%60)].map(e).join(":")}},{}],41:[function(a,t,k){t.exports=function(a){switch((a||"").toLowerCase()){case "true":return!0;case "false":return!1}}},{}],42:[function(a,t,k){t.exports=function(a){return(a||"").split(":").reverse().slice(0,3).reverse().reduce(function(a,d){return 60*a+(isNaN(1*d)?0:1*d)},0)}},{}],43:[function(a,
t,k){t.exports=function p(a,k){return Object(a)!==a?a:Object.keys(a).reduce(function(c,f){k&&a[f]instanceof Array?c[f]=a[f].filter(function(a){return void 0!==a}).map(function(a){return p(a,!0)}):k&&a[f]instanceof Object?c[f]=p(a[f],!0):void 0!==a[f]&&(c[f]=a[f]);return c},{})}},{}],44:[function(a,t,k){function e(a){return{tag:"TrackingEvents",children:a.map(function(a){return{tag:"Tracking",attributes:{event:a.event},value:a.uri,cdata:!0}})}}function p(a){return a.map(function(a){a:{switch(a.type){case "static":var c=
"StaticResource";break a;case "iframe":c="IFrameResource";break a;case "html":c="HTMLResource";break a}c=void 0}return{tag:c,attributes:{creativeType:a.creativeType},value:a.data,cdata:!0}})}function d(a){return{tag:"AdParameters",value:a.parameters}}var q=a("./utils/seconds_to_timestamp"),c=a("./utils/compile_xml"),f={linear:function(a){return{tag:"Linear",children:[{tag:"Duration",value:q(a.duration)},e(a.trackingEvents),d(a)].concat(a.videoClicks?[{tag:"VideoClicks",children:[{tag:"ClickThrough",
value:a.videoClicks.clickThrough,cdata:!0}].concat(a.videoClicks.clickTrackings.map(function(a){return{tag:"ClickTracking",value:a,cdata:!0}}),a.videoClicks.customClicks.map(function(a){return{tag:"CustomClick",attributes:{id:a.id},value:a.uri,cdata:!0}}))}]:[],[{tag:"MediaFiles",children:a.mediaFiles.map(function(a){return{tag:"MediaFile",attributes:{id:a.id,width:a.width,height:a.height,bitrate:a.bitrate,type:a.type,delivery:a.delivery,scalable:a.scalable,maintainAspectRatio:a.maintainAspectRatio,
apiFramework:a.apiFramework},value:a.uri,cdata:!0}})}])}},companions:function(a){return{tag:"CompanionAds",children:a.companions.map(function(a){return{tag:"Companion",attributes:{id:a.id,width:a.width,height:a.height,expandedWidth:a.expandedWidth,expandedHeight:a.expandedHeight,apiFramework:a.apiFramework},children:p(a.resources).concat([e(a.trackingEvents),{tag:"CompanionClickThrough",value:a.clickThrough,cdata:!0},{tag:"AltText",value:a.altText},d(a)])}})}},nonLinear:function(a){return{tag:"NonLinearAds",
children:a.ads.map(function(a){return{tag:"NonLinear",attributes:{id:a.id,width:a.width,height:a.height,expandedWidth:a.expandedWidth,expandedHeight:a.expandedHeight,scalable:a.scalable,maintainAspectRatio:a.maintainAspectRatio,minSuggestedDuration:q(a.minSuggestedDuration),apiFramework:a.apiFramework},children:p(a.resources).concat([{tag:"NonLinearClickThrough",value:a.clickThrough,cdata:!0},d(a)])}}).concat([e(a.trackingEvents)])}}};t.exports=function(a){return c({tag:"VAST",attributes:{version:a.get("version")},
children:a.map("ads",function(a){var c={id:a.id};a:{switch(a.type){case "inline":var d="InLine";break a;case "wrapper":d="Wrapper";break a}d=void 0}return{tag:"Ad",attributes:c,children:[{tag:d,children:[{tag:"AdSystem",attributes:{version:a.system.version},value:a.system.name},{tag:"AdTitle",value:a.title},{tag:"Description",value:a.description},{tag:"Survey",value:a.survey,cdata:!0},{tag:"VASTAdTagURI",value:a.vastAdTagURI,cdata:!0}].concat(a.errors.map(function(a){return{tag:"Error",value:a,cdata:!0}}),
a.impressions.map(function(a){return{tag:"Impression",value:a.uri,cdata:!0,attributes:{id:a.id}}}),[{tag:"Creatives",children:a.creatives.map(function(a){return{tag:"Creative",attributes:{id:a.id,sequence:a.sequence,AdID:a.adID},children:[f[a.type](a)]}}),required:!0}])}]}})},!0)}},{"./utils/compile_xml":33,"./utils/seconds_to_timestamp":40}],45:[function(a,t,k){function e(){}function p(a){switch({}.toString.call(a)){case "[object File]":case "[object Blob]":case "[object FormData]":return!0;default:return!1}}
function d(){var a=this;this.readyState=this.status=0;this.responseText=this.utl=this.method="";this.aborted=!1;this.open=function(b,c){a.url=c};this.send=function(){if(!a.aborted){var b=window.AV_player.config.getvast(a.url);setTimeout(function(){a.responseText=b;a.readyState=4;a.status=200;a.onload()},10)}};this.abort=function(){a.aborted=!0}}function q(a){if(a!==Object(a))return a;var b=[],h;for(h in a)null!=a[h]&&c(b,h,a[h]);return b.join("&")}function c(a,b,f){if(Array.isArray(f))return f.forEach(function(h){c(a,
b,h)});a.push(encodeURIComponent(b)+"="+encodeURIComponent(f))}function f(a){var b={};a=a.split("&");for(var c,h=0,f=a.length;h<f;++h)c=a[h],c=c.split("="),b[decodeURIComponent(c[0])]=decodeURIComponent(c[1]);return b}function u(a){return v(a.split(/ *; */),function(a,b){var c=b.split(/ *= */);b=c.shift();c=c.shift();b&&c&&(a[b]=c);return a},{})}function r(a,b){this.req=a;this.xhr=this.req.xhr;this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||"undefined"===
typeof this.xhr.responseType?this.xhr.responseText:null;this.statusText=this.req.xhr.statusText;if("function"==typeof this.xhr.getAllResponseHeaders){a=this.xhr.getAllResponseHeaders().split(/\r?\n/);b={};a.pop();for(var c=0,h=a.length;c<h;++c){var f=a[c];var d=f.indexOf(":");var e=f.slice(0,d).toLowerCase();d=A(f.slice(d+1));b[e]=d}this.header=this.headers=b}else this.statusText="OK",this.header={};this.setStatusProperties("undefined"===typeof this.xhr.status?200:this.xhr.status);this.header["content-type"]=
"function"==typeof this.xhr.getResponseHeader?this.xhr.getResponseHeader("content-type"):this.xhr.contentType;this.setHeaderProperties(this.header);this.body="HEAD"!=this.req.method?this.parseBody(this.text?this.text:this.xhr.response):null}function z(a,b){var c=this;m.call(this);this._query=this._query||[];this.method=a;this.url=b;this._withCredentials=!0;this.header={};this._header={};this.on("end",function(){var a=null,b=null;try{b=new r(c)}catch(J){return a=Error("Parser is unable to parse the response"),
a.parse=!0,a.original=J,a.rawResponse=c.xhr&&c.xhr.responseText?c.xhr.responseText:null,c.callback(a)}c.emit("response",b);if(a||200<=b.status&&300>b.status)return c.callback(a,b);var h=Error(b.statusText||"Unsuccessful HTTP response");h.original=a;h.response=b;h.status=b.status;c.callback(h,b)})}function x(a,b){return"function"==typeof a?new z(a,b):"function"==typeof b?(new z("GET",a)).end(b):1==arguments.length?new z("GET",a):new z(a,b)}function b(a,b){a=x("DELETE",a);b&&a.end(b);return a}var m=
a("emitter"),v=a("reduce");var D="undefined"!==typeof window?window:"undefined"!==typeof self?self:this;x.getXHR=function(){if("function"===typeof window.AV_player.config.getvast)return new d;var a=new ((Utils.getTopWnd()||window).XMLHttpRequest);return"withCredentials"in a?a:"undefined"!=typeof XDomainRequest?new XDomainRequest:null};var A="".trim?function(a){return a.trim()}:function(a){return a.replace(/(^\s*|\s*$)/g,"")};x.serializeObject=q;x.parseString=f;x.types={html:"text/html",json:"application/json",
xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"};x.serialize={"application/x-www-form-urlencoded":q,"application/json":JSON.stringify};x.parse={"application/x-www-form-urlencoded":f,"application/json":JSON.parse};r.prototype.get=function(a){return this.header[a.toLowerCase()]};r.prototype.setHeaderProperties=function(a){a=this.header["content-type"]||"";this.type=a.split(/ *; */).shift();
a=u(a);for(var b in a)this[b]=a[b]};r.prototype.parseBody=function(a){var b=x.parse[this.type];return b&&a&&(a.length||a instanceof Object)?b(a):null};r.prototype.setStatusProperties=function(a){1223===a&&(a=204);var b=a/100|0;this.status=this.statusCode=a;this.statusType=b;this.info=1==b;this.ok=2==b;this.clientError=4==b;this.serverError=5==b;this.error=4==b||5==b?this.toError():!1;this.accepted=202==a;this.noContent=204==a;this.badRequest=400==a;this.unauthorized=401==a;this.notAcceptable=406==
a;this.notFound=404==a;this.forbidden=403==a};r.prototype.toError=function(){var a=this.req,b=a.method;a=a.url;var c=Error("cannot "+b+" "+a+" ("+this.status+")");c.status=this.status;c.method=b;c.url=a;return c};x.Response=r;m(z.prototype);z.prototype.use=function(a){a(this);return this};z.prototype.timeout=function(a){this._timeout=a;return this};z.prototype.clearTimeout=function(){this._timeout=0;clearTimeout(this._timer);return this};z.prototype.abort=function(){if(!this.aborted)return this.aborted=
!0,this.xhr.abort(),this.clearTimeout(),this.emit("end"),this};z.prototype.set=function(a,b){if(a===Object(a)){for(var c in a)this.set(c,a[c]);return this}this._header[a.toLowerCase()]=b;this.header[a]=b;return this};z.prototype.unset=function(a){delete this._header[a.toLowerCase()];delete this.header[a];return this};z.prototype.getHeader=function(a){return this._header[a.toLowerCase()]};z.prototype.type=function(a){this.set("Content-Type",x.types[a]||a);return this};z.prototype.parse=function(a){this._parser=
a;return this};z.prototype.accept=function(a){this.set("Accept",x.types[a]||a);return this};z.prototype.auth=function(a,b){a=btoa(a+":"+b);this.set("Authorization","Basic "+a);return this};z.prototype.query=function(a){"string"!=typeof a&&(a=q(a));a&&this._query.push(a);return this};z.prototype.field=function(a,b){this._formData||(this._formData=new D.FormData);this._formData.append(a,b);return this};z.prototype.attach=function(a,b,c){this._formData||(this._formData=new D.FormData);this._formData.append(a,
b,c||b.name);return this};z.prototype.send=function(a){var b=a===Object(a),c=this.getHeader("Content-Type"),f;if(f=b)f=this._data,f=f===Object(f);if(f)for(var d in a)this._data[d]=a[d];else"string"==typeof a?(c||this.type("form"),c=this.getHeader("Content-Type"),this._data="application/x-www-form-urlencoded"==c?this._data?this._data+"&"+a:a:(this._data||"")+a):this._data=a;if(!b||p(a))return this;c||this.type("json");return this};z.prototype.callback=function(a,b){var c=this._callback;this.clearTimeout();
c(a,b)};z.prototype.crossDomainError=function(){var a=Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");a.crossDomain=!0;a.status=this.status;a.method=this.method;a.url=this.url;this.callback(a)};z.prototype.timeoutError=function(){var a=this._timeout,b=Error("timeout of "+a+"ms exceeded");b.timeout=a;this.callback(b)};z.prototype.withCredentials=function(){this._withCredentials=!0;
return this};z.prototype.end=function(a){var b=this,c=this.xhr=x.getXHR(),f=this._query.join("&"),d=this._timeout||7E3,h=this._formData||this._data;if("function"===typeof this.method)b._callback=a||e,this.method(function(a){b.xhr={responseText:a,status:200,readyState:4};b.emit("end")});else{if(this.url){if(this.url&&-1<this.url.indexOf("ssp.lkqd.net")){if(window.lastLCall&&300>Date.now()-window.lastLCall){setTimeout(function(){b.end(a)},300);return}window.lastLCall=Date.now()}this._callback=a||e;
"undefined"!==typeof c.onreadystatechange?c.onreadystatechange=function(){if(4==c.readyState){try{var a=c.status}catch(F){a=0}if(0==a){if(b.timedout)return b.timeoutError();if(b.aborted)return;if(b._withCredentials){b._withCredentials=!1;setTimeout(function(){b.end.call(b,b._callback)},10);return}return b.crossDomainError()}b.emit("end")}}:(c.onprogress=function(){},c.ontimeout=function(){},c.onload=function(){b.emit("end")});var m=function(a){0<a.total&&(a.percent=a.loaded/a.total*100);a.direction=
"download";b.emit("progress",a)};this.hasListeners("progress")&&(c.onprogress=m);try{c.upload&&this.hasListeners("progress")&&(c.upload.onprogress=m)}catch(I){}d&&!this._timer&&(this._timer=setTimeout(function(){b.timedout=!0;b.abort()},d));f&&(f=x.serializeObject(f),this.url+=~this.url.indexOf("?")?"&"+f:"?"+f);c.open(this.method,this.url,!0);this._withCredentials&&(c.withCredentials=!0);"GET"==this.method||"HEAD"==this.method||"string"==typeof h||p(h)||(f=this.getHeader("Content-Type"),d=this._parser||
x.serialize[f?f.split(";")[0]:""],!d&&/[\/+]json\b/.test(f)&&(d=x.serialize["application/json"]),d&&(h=d(h)));for(var k in this.header)null!=this.header[k]&&c.setRequestHeader(k,this.header[k]);this.emit("request",this);c.send("undefined"!==typeof h?h:null);return this}b.abort()}};z.prototype.then=function(a,b){return this.end(function(c,f){c?b(c):a(f)})};x.Request=z;x.get=function(a,b,c){a=x("GET",a);"function"==typeof b&&(c=b,b=null);b&&a.query(b);c&&a.end(c);return a};x.prebid=function(a,b){return x(a,
b)};x.head=function(a,b,c){a=x("HEAD",a);"function"==typeof b&&(c=b,b=null);b&&a.send(b);c&&a.end(c);return a};x.del=b;x["delete"]=b;x.patch=function(a,b,c){a=x("PATCH",a);"function"==typeof b&&(c=b,b=null);b&&a.send(b);c&&a.end(c);return a};x.post=function(a,b,c){a=x("POST",a);"function"==typeof b&&(c=b,b=null);b&&a.send(b);c&&a.end(c);return a};x.put=function(a,b,c){a=x("PUT",a);"function"==typeof b&&(c=b,b=null);b&&a.send(b);c&&a.end(c);return a};t.exports=x},{emitter:46,reduce:47}],46:[function(a,
t,k){function e(a){if(a){for(var d in e.prototype)a[d]=e.prototype[d];return a}}t.exports=e;e.prototype.on=e.prototype.addEventListener=function(a,d){this._callbacks=this._callbacks||{};(this._callbacks["$"+a]=this._callbacks["$"+a]||[]).push(d);return this};e.prototype.once=function(a,d){function e(){this.off(a,e);d.apply(this,arguments)}e.fn=d;this.on(a,e);return this};e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(a,d){this._callbacks=
this._callbacks||{};if(0==arguments.length)return this._callbacks={},this;var e=this._callbacks["$"+a];if(!e)return this;if(1==arguments.length)return delete this._callbacks["$"+a],this;for(var c,f=0;f<e.length;f++)if(c=e[f],c===d||c.fn===d){e.splice(f,1);break}return this};e.prototype.emit=function(a){this._callbacks=this._callbacks||{};var d=[].slice.call(arguments,1),e=this._callbacks["$"+a];if(e){e=e.slice(0);for(var c=0,f=e.length;c<f;++c)e[c].apply(this,d)}return this};e.prototype.listeners=
function(a){this._callbacks=this._callbacks||{};return this._callbacks["$"+a]||[]};e.prototype.hasListeners=function(a){return!!this.listeners(a).length}},{}],47:[function(a,t,k){t.exports=function(a,k,d){for(var e=0,c=a.length,f=3==arguments.length?d:a[e++];e<c;)f=k.call(null,f,a[e],++e,a);return f}},{}],48:[function(a,t,k){var e="noError mediaPlayError mediaTimeout vpaidGeneralError vpaidLoadError vpaidLoadTimeout vpaidInitAdError vpaidInitAdTimeout vpaidStartAdError vpaidStartAdTimeout vpaidPlayError mediaJsonError".split(" ");
e.forEach(function(a){e[a]=a});Object.freeze(e);t.exports=e},{}],49:[function(a,t,k){function e(a,c,d,e,k,b){var f=document.createElement("script"),q=[];c={adData:{ids:c,duration:d,url:k},dispatchEvent:function(a){this.sendEvent?(q&&(q.push(a),a=q,q=!1),this.sendEvent(a)):q&&q.push(a)},clientCallback:b};d="_moatApi"+Math.floor(1E8*Math.random());try{var t=a.ownerDocument;var u=t.defaultView||t.parentWindow}catch(h){t=document,u=window}u[d]=c;f.type="text/javascript";a&&a.insertBefore(f,a.childNodes[0]||
null);f.src="https://z.moatads.com/"+e+"/moatvideo.js#"+d;return c}function p(a,d,e){"AdVolumeChange"===e&&c===d.adVolume||a.dispatchEvent({type:e,adVolume:d.adVolume})}function d(a,c){function f(b){d||(k=e(c.container,c.ids,a.adDuration,c.partnerCode,c.url),q.forEach(function(b){a.on(b,function(){p(k,a,b)})}),p(k,a,b));d=!0}var d=!1,k;a.once("AdImpression",function(){f("AdImpression")});a.once("AdVideoStart",function(){f("AdVideoStart")})}var q="AdImpression AdVideoStart AdVideoFirstQuartile AdVideoMidpoint AdVideoThirdQuartile AdVideoComplete AdClickThru AdStopped AdPaused AdPlaying AdVolumeChange".split(" "),
c;t.exports=function(a,c){c&&0<c.length&&c.forEach(function(c){try{c=Object.assign({},c),c.ids=c.ids||{level1:cnf.publisherid,level2:cnf.channelid,level3:a.asid,level4:a.asid,slicer1:"",slicer2:""},c.container=a.container,d(a,c)}catch(z){}})}},{}]},{},[1])(1)});(function(l){l.av_sdk={sdks:{},register:function(a,l){this.sdks[a]=l},get:function(a){return this.sdks[a]}}})(window);
(function(l){l.AV_PrebidBase=function(a){var t=this.av={avid:a,ver:AV_biddersFactory.getVer(a)},k=this,e=AV_biddersFactory.specs[a];this.avGetFloor=function(){};this.getUserSyncs=function(){};if(e)for(var p in e)e.hasOwnProperty(p)&&(this[p]=e[p]);this.av.prepBid=function(a,e,c,f){a.uuid=t.getUuid();var d=a.bids;d.forEach(function(d){d.sizes=a.sizes;d.mediaTypes=a.mediaTypes;d.bidId||(d.bidId=t.getUuid());d.transactionId||(d.transactionId=t.getUuid());e&&(d.schain=e);d.adUnitCode=f.code||"video";
d.auctionId=f.auctionId;d.bidderRequestId=f.bidderRequestId;l.AV_biddersFactory.utils.deepAccess(a,"mediaTypes.video.playerSize")||(a.mediaTypes||(a.mediaTypes={}),"object"!==typeof a.mediaTypes||a.mediaTypes.video||(a.mediaTypes.video={}),"object"!==typeof a.mediaTypes.video||a.mediaTypes.video.playerSize||(a.mediaTypes.video.playerSize=[AV_player.config.width,AV_player.config.height]));pl.pbuserid&&AV_biddersFactory.getUserId(t.avid,d,pl.pbuserid,c)});return d};this.av.getRequest=function(a,e,c){"string"===
typeof a&&(a=decodeURIComponent(a),a=JSON.parse(a),cnf&&cnf.ctinfo&&cnf.ctinfo.cparam1&&(a=Utils.setIrisTv(cnf.ctinfo.cparam1,"pb",t.avid,a)));var f={bidderCode:a.bids[0].bidder,auctionId:t.getUuid(),bidderRequestId:t.getUuid(),bids:a.bids,refererInfo:Utils.getPrebidRefInfo()},d=Utils.getCurrentConsent();0!=pl.gdpr&&d&&d.gdpr&&d.gdpr.gdprApplies&&d.gdpr.consentData&&(f.gdprConsent={gdprApplies:d.gdpr.gdprApplies,consentString:d.gdpr.consentData,vendorData:{hasGlobalScope:d.gdpr.hasGlobalScope}});
d&&d.usp&&(f.uspConsent=d.usp);this.aniviewFloor=k.avGetFloor(a);a=k.buildRequests(t.prepBid(a,e,f.gdprConsent,f),f,function(a){k.av_async&&c(a)});if(!k.av_async)return a&&"function"===typeof a.push&&a[0]&&(a=a[0]),a&&a.data&&("object"===typeof a.data&&"POST"===a.method&&(a.data=JSON.stringify(a.data)),"string"===typeof a.data&&(a.data=a.data.replace("$prebid.version$",k.av.ver)),"GET"===a.method&&("object"===typeof a.data&&(a.avParams=l.AV_biddersFactory.utils.parseQueryStringParameters(a.data)||
""),"string"===typeof a.data&&(a.avParams=a.data))),a};this.av.getUuid=function(){return Date.now().toString()};this.av.replacePrice=function(a,e){if("string"===typeof a)return a.replace(/\$\{AUCTION_PRICE\}/g,e)};this.av.validateCpm=function(a,e,c){return e+c>=a};this.av.getVastResponse=function(a,e,c){try{try{var f=JSON.parse(a)}catch(z){f=a}a={body:f,headers:{get:function(){}}};this.responseData=f;var d=k.interpretResponse(a,e);d&&!d.push&&(d.vastXml||d.vastUrl)&&(d=[d]);if(d&&d[0]){e="";var l=
d[0].cpm||0;"59918a0e073ef4782e4e347f"!==cnf.networkid&&"55b78633181f4603178b4568"!==cnf.networkid&&30!=k.av.avid&&31!=k.av.avid&&14!=k.av.avid||this.validateCpm(c,l,pl.softfloor||0)||(d[0]={});!d[0].vastXml||d[0].vastUrl&&!AV_biddersFactory.preferVastXml(k.av.avid)?d[0].vastUrl&&(this.replacePrice(d[0].vastUrl,l),c="",d[0].vastImpUrl&&(c="<Impression><![CDATA["+d[0].vastImpUrl+"]]\x3e</Impression>"),e='<?xml version="1.0" encoding="UTF-8"?><VAST version="2.0"><Ad><Wrapper><AdSystem></AdSystem><VASTAdTagURI><![CDATA['+
d[0].vastUrl+"]]\x3e</VASTAdTagURI>"+c+"</Wrapper></Ad></VAST>"):e=this.replacePrice(d[0].vastXml,l);return 0<this.aniviewFloor&&l<this.aniviewFloor?{}:{vast:e,cpm:l}}}catch(z){}return{}};this.av.getUserSyncs=function(){var e;try{if(!l.AV_biddersFactory.syncs[a.toString()]){l.AV_biddersFactory.syncs[a.toString()]=!0;var t={iframeEnabled:!0,pixelEnabled:!0};if("function"===typeof k.getUserSyncs){var c=Utils.getCurrentConsent();c&&c.gdpr&&c.gdpr.gdprApplies&&c.gdpr.consentData&&(e={gdprApplies:c.gdpr.gdprApplies,
consentString:c.gdpr.consentData,vendorData:{hasGlobalScope:c.gdpr.hasGlobalScope}});if(c&&c.usp)var f=c.usp;var p=k.getUserSyncs(t,[{body:this.responseData}],e,f);p&&!p.push&&(p=[p]);return p}}}catch(r){}};this.av.getUserIds=function(a){}};l.AV_biddersFactory={bidderIds:{openx:"1",appnexus:"2",rubicon:"3",pubmatic:"4",freewheel:"5",smartadserver:"7",tremor:"8",spotx2:"10",beachfront:"11",rubicon2:"12",rhythmone:"13",oneVideo:"14",adsdataav:"15",synacormedia:"16",loopme:"17",ix:"18",a9:"19",xaxis:"20",
pulsepoint:"21",ucfunnel:"22",emx_digital:"23",sonobi:"24",improvedigital:"25",lkqd:"26",adman:"27",gumgum:"28",unruly:"30",onetag:"31",yieldlab:"32",undertone:"34",conversant:"100",ironsource:"101"},syncs:{},specs:{},vers:{},idSpecs:{},idMap:{},idConfig:{},dbAccess:!0,preferVastXml:function(a){return 1==Utils.getABT(l.AV_player)?!0:-1<[11,26].indexOf(a)},register:function(a,l,k,e){a=this.bidderIds[a];this.specs[a]=l;this.vers[a]=k||"3.1.0";this.idMap[a]=e},getSpec:function(a){return this.specs[a]},
getVer:function(a){return this.vers[a]},registerId:function(a,l,k,e){e&&e.storage&&a&&a.name&&(this.idSpecs[a.name]={spec:a,conf:e,source:l,name:k,req:!1,resp:null})},getIdSpec:function(a){return this.idSpecs[a]},setIdResp:function(a,l){this.idSpecs[a]&&(this.idSpecs[a].resp=l)},getAdapterIds:function(a){return this.specId[a]},getUserId:function(a,l,k,e){var t;if(this.dbAccess){var d=this;if(this.idMap[a])for(var q=0;q<this.idMap[a].length&&this.dbAccess;q++)try{var c=this.idMap[a][q],f=this.idSpecs[c];
if(f&&f.conf&&(f.conf.params||k[c])){f.resp||(t=Utils.getStorage(f.spec.name,!0,f.conf.storage.expires,f.conf.storage.refreshInSeconds))&&t.data&&(f.resp=t.data);if(f.resp){l.userId=l.userId||{};l.userIdAsEids=l.userIdAsEids||[];var u=f.spec.decode(f.resp);Object.assign(l.userId,u);u&&u[f.name]&&l.userIdAsEids.push({source:f.source,uids:[{atype:1,id:u[f.name]}]})}f.resp&&(!t||!t.expired&&!t.refresh)||f.req||(f.req=!0,f.spec.getId(f.conf.params||k[c],e,f.resp).callback(function(a){if(a){this.resp=
a;try{Utils.setStorage(this.spec.name,a,this.conf.storage.expires)}catch(z){d.dbAccess=!1}}}.bind(f)))}}catch(r){this.dbAccess=!1}}},VIDEO:"video",NATIVE:"native",BANNER:"banner",STATUS:{GOOD:1,NO_BID:2},utils:{scripts:{},loadScript:function(a,l){this.scripts[a]&&this.scripts[a].loaded&&l();if(this.scripts[a])this.scripts[a].callbacks.push(l);else{this.scripts[a]={};this.scripts[a].callbacks=[l];l=document.createElement("script");l.src=a;var k=this;l.onload=function(){k.scripts[a].loaded=!0;k.scripts[a].callbacks.forEach(function(a){a()});
k.scripts[a].callbacks=[]};var e=document.getElementsByTagName("head");(e=e.length?e:document.getElementsByTagName("body"))&&0<e.length&&e[0]&&e[0].appendChild(l)}},isArray:function(a){return"object"===typeof a&&a.push},isPlainObject:function(a){return"object"===typeof a&&!a.push},isStr:function(a){return"string"===typeof a},isBoolean:function(a){return"boolean"===typeof a},isNumber:function(a){return"number"===typeof a},isInteger:function(a){return Number.isInteger?Number.isInteger(a):"number"===
typeof a&&isFinite(a)&&Math.floor(a)===a},isEmpty:function(a){if(!a)return!0;if(this.isArray(a)||this.isStr(a))return!(0<a.length);for(var l in a)if(hasOwnProperty.call(a,l))return!1;return!0},isFn:function(a){return"function"===typeof a},deepAccess:function(a,l){if(a){l=String(l).split(".");for(var k=0;k<l.length;k++)if(void 0===(a=a[l[k]]))return;return a}},logError:function(){},logWarn:function(){},inIframe:function(){return l!==top},getTopWindowUrl:function(){return Utils.getTrueDomain()},getTopWindowReferrer:function(){return Utils.getTrueDomain()},
_map:function(a,l){if(this.isEmpty(a))return[];if(this.isFn(a.map))return a.map(l);var k=[];this._each(a,function(e,t){k.push(l(e,t,a))});return k},_each:function(a,l){if(!this.isEmpty(a)){if(this.isFn(a.forEach))return a.forEach(l,this);var k=0,e=a.length;if(0<e)for(;k<e;k++)l(a[k],k,a);else for(k in a)hasOwnProperty.call(a,k)&&l.call(this,a[k],k)}},parseQueryStringParameters:function(a){var l="",k;for(k in a)a.hasOwnProperty(k)&&(l+=k+"="+encodeURIComponent(a[k])+"&");return l},getTopWindowLocation:function(){var a=
Utils.getTrueDomain(),l=Utils.getHostName(a);return{protocol:Utils.getProtocol(),href:a,host:l,hostname:l}},deepClone:function(a){return a},convertTypes:function(a,l){Object.keys(a).forEach(function(k){l[k]&&(exports.isFn(a[k])?l[k]=a[k](l[k]):l[k]=tryConvertType(a[k],l[k]),isNaN(l[k])&&delete l.key)});return l},count:0,getIncrementalInteger:function(){this.count++;return this.count},getUniqueIdentifierStr:function(){return this.getIncrementalInteger()+Math.random().toString(16).substr(2)},getValue:function(a,
l){return a[l]},parseSizesInput:function(a){var l=[];if("object"===typeof a){var k=a.length;1===k?"object"===typeof a[0]&&l.push(""+a[0][0]+"x"+a[0][1]):2===k&&l.push(""+a[0]+"x"+a[1])}return l},parseGPTSingleSizeArray:function(a){if(this.isArray(a)&&2===a.length&&!isNaN(a[0])&&!isNaN(a[1]))return a[0]+"x"+a[1]},getBidIdParameter:function(a,l){return l&&l[a]?l[a]:""},getDNT:function(){return"1"===navigator.doNotTrack||"1"===l.doNotTrack||"1"===navigator.msDoNotTrack||"yes"===navigator.doNotTrack},
generateUUID:function(a){return a?(a^l.AV_biddersFactory.utils._getRandomData()>>a/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,l.AV_biddersFactory.utils.generateUUID)},_getRandomData:function(){return l&&l.crypto&&l.crypto.getRandomValues?crypto.getRandomValues(new Uint8Array(1))[0]%16:16*Math.random()},transformBidderParamKeywords:function(a,t){t=void 0===t?"keywords":t;var k=[];l.AV_biddersFactory.utils._each(a,function(a,p){if(l.AV_biddersFactory.utils.isArray(a)){var e=
[];l.AV_biddersFactory.utils._each(a,function(a){((a=l.AV_biddersFactory.utils.getValueString(t+"."+p,a))||""===a)&&e.push(a)});a=e}else if(a=l.AV_biddersFactory.utils.getValueString(t+"."+p,a),l.AV_biddersFactory.utils.isStr(a))a=[a];else return;k.push({key:p,value:a})});return k},getValueString:function(a,t,k){if(void 0===t||null===t)return k;if(l.AV_biddersFactory.utils.isStr(t))return t;if(l.AV_biddersFactory.utils.isNumber(t))return t.toString()},getCookie:function(a){return(a=l.document.cookie.match("(^|;)\\s*"+
a+"\\s*=\\s*([^;]*)\\s*(;|$)"))?decodeURIComponent(a[2]):null},getAdUnitSizes:function(a){if(a){var l=[];a.mediaTypes&&a.mediaTypes.banner&&Array.isArray(a.mediaTypes.banner.sizes)?(a=a.mediaTypes.banner.sizes,Array.isArray(a[0])?l=a:l.push(a)):Array.isArray(a.sizes)&&(Array.isArray(a.sizes[0])?l=a.sizes:l.push(a.sizes));return l}},deepSetValue:function(a,l,k){try{l.split&&(l=l.split("."));for(var e,p=0,d=l.length;p<d;++p)e=a[l[p]],a=a[l[p]]=p===d-1?k:null!=e?e:!~l[p+1].indexOf(".")&&-1<+l[p+1]?[]:
{}}catch(q){}},convertCamelToUnderscore:function(a){return a.replace(/(?:^|\.?)([A-Z])/g,function(a,k){return"_"+k.toLowerCase()}).replace(/^_/,"")},timestamp:function(){return(new Date).getTime()},contains:function(a,l){if(this.isEmpty(a))return!1;if(this.isFn(a.indexOf))return-1!==a.indexOf(l);for(var k=a.length;k--;)if(a[k]===l)return!0;return!1}},config:{priceGranularity:"medium",bidderTimeout:2E3,"currency.adServerCurrency":"USD",userSync:{syncEnabled:!0,filterSettings:{iframe:{bidders:"*",filter:"include"},
image:{bidders:"*",filter:"include"}},syncsPerBidder:5,syncDelay:3E3,auctionDelay:0},getConfig:function(a){return"pageUrl"===a?Utils.getTrueDomain():this[a]}},includes:function(a,l){if(a&&0<a.length&&a.push)return"function"===typeof a.includes?a.includes(l):-1<a.indexOf(l)},find:function(a,l){return a.find(l)},parseQS:function(a){return a?a.replace(/^\?/,"").split("&").reduce(function(a,k){var e=$jscomp.makeIterator(k.split("="));k=e.next().value;e=e.next().value;/\[\]$/.test(k)?(k=k.replace("[]",
""),a[k]=a[k]||[],a[k].push(e)):a[k]=e||"";return a},{}):{}},parse:function(a,t){var k=document.createElement("a");k.href=t&&"noDecodeWholeURL"in t&&t.noDecodeWholeURL?a:decodeURIComponent(a);a=t&&"decodeSearchAsString"in t&&t.decodeSearchAsString;return{href:k.href,protocol:(k.protocol||"").replace(/:$/,""),hostname:k.hostname,port:+k.port,pathname:k.pathname.replace(/^(?!\/)/,"/"),search:a?k.search:l.AV_biddersFactory.parseQS(k.search||""),hash:(k.hash||"").replace(/^#/,""),host:k.host||l.location.host}},
Renderer:{install:function(){return{setRender:function(){},setEventHandlers:function(){}}}},userSync:{registerSync:function(){},canBidderRegisterSync:function(){}},adaptermanager:{registerBidAdapter:function(a,t,k){l.AV_biddersFactory.register(t,a)}},Adapter:function(){return{}},bidmanager:{registerDefaultBidderSetting:function(){},addBidResponse:function(a,l){}},bidfactory:{createBid:function(){return{}}},ajax:function(a,l,k,e){e=e||{};Utils.request(e.method||(k?"POST":"GET"),a,k,!!e.withCredentials,
{onload:function(a){var e=l?"function"===typeof l?l:l.success:null;e&&e(a.responseText)},onerror:l?l.error:null})},storage:{cookiesAreEnabled:function(){return Utils.checkCookies()},getDataFromLocalStorage:function(a){return l.localStorage.getItem(a)}}}})(window);
(function(l){function a(a){var b=a.value;r.isArray(b)&&0<b.length&&""===a.value[0]&&delete a.value}function t(a,b){var c=[];if(15<a.tags.length){var f=r.deepClone(a);r.chunk(a.tags,15).forEach(function(a){f.tags=a;a=JSON.stringify(f);c.push({method:"POST",url:"https://ib.adnxs.com/ut/v3/prebid",data:a,bidderRequest:b})})}else c={method:"POST",url:"https://ib.adnxs.com/ut/v3/prebid",data:JSON.stringify(a),bidderRequest:b};return c}function k(c){var f={};f.sizes=e(c.sizes);f.primary_size=f.sizes[0];
f.ad_types=[];f.uuid=c.bidId;c.params.placementId?f.id=parseInt(c.params.placementId,10):f.code=c.params.invCode;f.allow_smaller_sizes=c.params.allowSmallerSizes||!1;f.use_pmt_rule=c.params.usePaymentRule||!1;f.prebid=!0;f.disable_psa=!0;c.params.reserve&&(f.reserve=c.params.reserve);c.params.position&&(f.position={above:1,below:2}[c.params.position]||0);c.params.trafficSourceCode&&(f.traffic_source_code=c.params.trafficSourceCode);c.params.privateSizes&&(f.private_sizes=e(c.params.privateSizes));
c.params.supplyType&&(f.supply_type=c.params.supplyType);c.params.pubClick&&(f.pubclick=c.params.pubClick);c.params.extInvCode&&(f.ext_inv_code=c.params.extInvCode);c.params.externalImpId&&(f.external_imp_id=c.params.externalImpId);if(!r.isEmpty(c.params.keywords)){var d=r.transformBidderParamKeywords(c.params.keywords);0<d.length&&d.forEach(a);f.keywords=d}d=r.deepAccess(c,"mediaTypes.video");var h=r.deepAccess(c,"mediaTypes.video.context");("video"===c.mediaType||d)&&f.ad_types.push("video");if("video"===
c.mediaType||d&&"outstream"!==h)f.require_asset_url=!0;c.params.video&&(f.video={},Object.keys(c.params.video).filter(function(a){return z(b,a)}).forEach(function(a){return f.video[a]=c.params.video[a]}));return f}function e(a){var b=[],c={};if(r.isArray(a)&&2===a.length&&!r.isArray(a[0]))c.width=parseInt(a[0],10),c.height=parseInt(a[1],10),b.push(c);else if("object"===typeof a)for(var f=0;f<a.length;f++){var e=a[f];c={};c.width=parseInt(e[0],10);c.height=parseInt(e[1],10);b.push(c)}return b}function p(a){return!!a.params.user}
function d(a){return!!parseInt(a.params.member,10)}function q(a){if(a.params)return!!a.params.app}function c(a){return a.params&&a.params.app?!!a.params.app.id:!!a.params.app}function f(a){return!!a.debug}function u(a){return a&&a.ads&&a.ads.length&&x(a.ads,function(a){return a.rtb})}var r=l.AV_biddersFactory.utils,z=l.AV_biddersFactory.includes,x=l.AV_biddersFactory.find,b="id mimes minduration maxduration startdelay skippable playback_method frameworks".split(" "),m="age externalUid segments gender dnt language".split(" "),
v=["geo","device_id"],D=["enabled","dongle","member_id","debug_timeout"],A={code:"appnexus",supportedMediaTypes:["video"],isBidRequestValid:function(a){return!!(a.params.placementId||a.params.member&&a.params.invCode)},buildRequests:function(a,b){var e=a.map(k),h=x(a,p),l={};h&&Object.keys(h.params.user).filter(function(a){return z(m,a)}).forEach(function(a){return l[a]=h.params.user[a]});var u=x(a,q);if(u&&u.params&&u.params.app){var y={};Object.keys(u.params.app).filter(function(a){return z(v,a)}).forEach(function(a){return y[a]=
u.params.app[a]})}var A=x(a,c),I;A&&A.params&&u.params.app&&u.params.app.id&&(I={appid:A.params.app.id});var F={},Y={},L=r.getCookie("apn_prebid_debug")||null;if(L)try{F=JSON.parse(L)}catch(V){}else(L=x(a,f))&&L.debug&&(F=L.debug);F&&F.enabled&&Object.keys(F).filter(function(a){return z(D,a)}).forEach(function(a){Y[a]=F[a]});L=(L=x(a,d))?parseInt(L.params.member,10):0;var P=a[0].schain;e={tags:[].concat($jscomp.arrayFromIterable(e)),user:l,sdk:{source:"pbjs",version:"3.2.0"},schain:P};0<L&&(e.member_id=
L);u&&(e.device=y);A&&(e.app=I);Y.enabled&&(e.debug=Y);b&&b.gdprConsent&&(e.gdpr_consent={consent_string:b.gdprConsent.consentString,consent_required:b.gdprConsent.gdprApplies});b&&b.uspConsent&&(e.us_privacy=b.uspConsent);b&&b.refererInfo&&(e.referrer_detection={rd_ref:encodeURIComponent(b.refererInfo.referer),rd_top:b.refererInfo.reachedTop,rd_ifs:b.refererInfo.numIframes,rd_stk:b.refererInfo.stack?b.refererInfo.stack.map(function(a){return encodeURIComponent(a)}).join(","):void 0});if(a=r.deepAccess(a[0],
"userId.criteortus.appnexus.userid"))A=[],A.push({provider:"criteo",user_id:a}),e.tpuids=A;return t(e,b)},interpretResponse:function(a,b){var c=this;b=b.bidderRequest;a=a.body;var f=[];if(!a||a.error)return f;a.tags&&a.tags.forEach(function(a){var e=u(a);if(e&&0!==e.cpm&&z(c.supportedMediaTypes,e.ad_type)){var d=b,h={requestId:a.uuid,cpm:e.cpm,creativeId:e.creative_id,dealId:e.deal_id,currency:"USD",netRevenue:!0,ttl:300,appnexus:{}};e.advertiser_id&&(h.meta=Object.assign({},h.meta,{advertiserId:e.advertiser_id}));
if(e.rtb.video&&(Object.assign(h,{width:e.rtb.video.player_width,height:e.rtb.video.player_height,vastImpUrl:e.notify_url,ttl:3600}),d.bids))switch(r.deepAccess(d.bids[0],"mediaTypes.video.context")){case "outstream":h.adResponse=a;h.adResponse.ad=h.adResponse.ads[0];h.adResponse.ad.video=h.adResponse.ad.rtb.video;h.vastXml=e.rtb.video.content;!h.vastXml&&e.rtb.video.asset_url&&(h.vastUrl=e.notify_url+"&redir="+encodeURIComponent(e.rtb.video.asset_url));break;case "instream":h.vastUrl=e.notify_url+
"&redir="+encodeURIComponent(e.rtb.video.asset_url)}a="video"===e.ad_type?"video":void 0;h.mediaType=a;f.push(h)}});return f},getUserSyncs:function(a){if(a.iframeEnabled)return[{type:"iframe",url:"https://acdn.adnxs.com/ib/static/usersync/v3/async_usersync.html"}]}};l.AV_biddersFactory.register("appnexus",A,void 0,["unifiedId"]);l.AV_biddersFactory.register("xaxis",A,void 0,["unifiedId"])})(window);
(function(l){function a(a){var b=l;var c=document;if(a){try{b=l.top,c=l.top.document}catch(h){return}a=c.documentElement;var f=c.body;c=b.innerWidth||a.clientWidth||f.clientWidth;b=b.innerHeight||a.clientHeight||f.clientHeight}else a=c.documentElement,c=b.innerWidth||a.clientWidth,b=b.innerHeight||a.clientHeight;return c+"x"+b}function t(a){return a.reduce(function(a,b){u.deepAccess(b,"mediaTypes.video")||b.mediaType===r?a[0].push(b):a[1].push(b);return a},[[],[]])}function k(b,c){var d=u.inIframe();
d={ju:f.getConfig("pageUrl")||u.getTopWindowUrl(),jr:u.getTopWindowReferrer(),ch:document.charSet||document.characterSet,res:screen.width+"x"+screen.height+"x"+screen.colorDepth,ifr:d,tz:(new Date).getTimezoneOffset(),tws:a(d),be:1,bc:b[0].params.bc||"hb_pb_3.0.1",dddid:u._map(b,function(a){return a.transactionId}).join(","),nocache:(new Date).getTime()};if(c.gdprConsent){var m=c.gdprConsent;void 0!==m.consentString&&(d.gdpr_consent=m.consentString);void 0!==m.gdprApplies&&(d.gdpr=m.gdprApplies?1:
0);"iab"===f.getConfig("consentManagement.cmpApi")&&(d.x_gdpr_f=1)}c&&c.uspConsent&&(d.us_privacy=c.uspConsent);u.deepAccess(b[0],"crumbs.pubcid")&&u.deepSetValue(b[0],"userId.pubcid",u.deepAccess(b[0],"crumbs.pubcid"));d=e(d,b[0].userId);b[0].schain&&(d.schain=p(b[0].schain));return d}function e(a,c){u._each(c,function(c,f){b.hasOwnProperty(f)&&(a[b[f]]=c)});return a}function p(a){return a.ver+","+a.complete+"!"+d(a.nodes)}function d(a){var b="asi sid hp rid name domain".split(" ");return a.map(function(a){return b.map(function(b){return a[b]||
""}).join(",")}).join("!")}function q(a,b){b=c(a,b);return{method:"GET",url:b.ph?"https://u.openx.net/v/1.0/avjp":"https://"+a.params.delDomain+"/v/1.0/avjp",data:b,payload:{bid:a,startTime:new Date}}}function c(a,b){var c=k([a],b),f=u.deepAccess(a,"params.video")||{};b=u.deepAccess(a,"mediaTypes.video.context");var e=u.deepAccess(a,"mediaTypes.video.playerSize");if(u.isArray(a.sizes)&&2===a.sizes.length&&!u.isArray(a.sizes[0])){var d=parseInt(a.sizes[0],10);var m=parseInt(a.sizes[1],10)}else u.isArray(a.sizes)&&
u.isArray(a.sizes[0])&&2===a.sizes[0].length?(d=parseInt(a.sizes[0][0],10),m=parseInt(a.sizes[0][1],10)):u.isArray(e)&&2===e.length&&(d=parseInt(e[0],10),m=parseInt(e[1],10));Object.keys(f).forEach(function(a){"openrtb"===a?(f[a].w=d||f[a].w,f[a].v=m||f[a].v,c[a]=JSON.stringify(f[a])):a in c||"url"===a||(c[a]=f[a])});c.auid=a.params.unit;c.vwd=d||f.vwd;c.vht=m||f.vht;"outstream"===b&&(c.vos="101");f.mimes&&(c.vmimes=f.mimes);return c}var f=l.AV_biddersFactory.config,u=l.AV_biddersFactory.utils,r=
l.AV_biddersFactory.VIDEO,z=l.AV_biddersFactory.BANNER,x=l.AV_biddersFactory.parse,b={idl_env:"lre",pubcid:"pubcid",tdid:"ttduuid",id5id:"id5id"};l.AV_biddersFactory.register("openx",{code:"openx",supportedMediaTypes:[r],isBidRequestValid:function(a){return!0},buildRequests:function(a,b){if(0===a.length)return[];var c=[];a=$jscomp.makeIterator(t(a));var f=a.next().value;0<a.next().value.length&&c.push(void 0);0<f.length&&f.forEach(function(a){c.push(q(a,b))});return c},interpretResponse:function(a,
b){a=a.body;if((/avjp$/.test(b.url)?r:z)===r){b=b.payload.bid;var c=[];if(void 0!==a&&""!==a.vastUrl&&""!==a.pub_rev){var f=x(a.vastUrl).search||{},e={};e.requestId=b.bidId;e.bidderCode="openx";e.ttl=300;e.netRevenue=!0;e.currency=a.currency;e.cpm=Number(a.pub_rev)/1E3;e.width=a.width;e.height=a.height;e.creativeId=a.adid;e.vastUrl=a.vastUrl;e.mediaType=r;a.ph=f.ph;a.colo=f.colo;a.ts=f.ts;c.push(e)}a=c}else a=void 0;return a},getUserSyncs:function(a,b,c,f){if(a.iframeEnabled||a.pixelEnabled)return a=
a.iframeEnabled?"iframe":"image",(b=u.deepAccess(b,"0.body.ads.pixels")||u.deepAccess(b,"0.body.pixels"))||(b=[],c&&(b.push("gdpr="+(c.gdprApplies?1:0)),b.push("gdpr_consent="+encodeURIComponent(c.consentString||""))),f&&b.push("us_privacy="+encodeURIComponent(f)),b="https://u.openx.net/w/1.0/pd"+(0<b.length?"?"+b.join("&"):"")),[{type:a,url:b}]},avGetFloor:function(a){try{return a.bids[0].params.customFloor}catch(v){}},transformBidParams:function(a,b){return u.convertTypes({unit:"string",customFloor:"number"},
a)}},void 0,["id5Id","unifiedId"])})(window);$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbolIterator();var _typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(l){return typeof l}:function(l){$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();return l&&"function"===typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l};
(function(l){function a(a){var b=document.createElement("a");b.href=a;return b.hostname}function t(a,b){if(f.isStr(b))switch(a){case "pmzoneid":return b.split(",").slice(0,50).map(function(a){return a.trim()}).join();case "kadfloor":return parseFloat(b)||void 0;case "lat":return parseFloat(b)||void 0;case "lon":return parseFloat(b)||void 0;case "yob":return parseInt(b)||void 0;default:return b}}function k(a){var b={};b.pageURL=f.getTopWindowUrl();b.refURL=a&&a.referer?a.referer:"";return b}function e(a){return{id:""+
(new Date).getTime(),at:1,cur:["USD"],imp:[],site:{page:a.pageURL,ref:a.refURL,publisher:{}},device:{ua:navigator.userAgent,js:1,dnt:"yes"==navigator.doNotTrack||"1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack?1:0,h:screen.height,w:screen.width,language:navigator.language},user:{},ext:{}}}function p(a,b,c,e){f.isStr(b)&&a.push({source:c,uids:[{id:b,atype:e}]})}function d(a,b){var c=[];var e=(e=l.DigiTrust&&(r.getConfig("digiTrustId")||l.DigiTrust.getUser({member:"nFIn8aLzbd"})))&&e.success&&
e.identity||null;e=!e||e.privacy&&e.privacy.optout?null:e;null!==e&&c.push({source:"digitru.st",uids:[{id:e.id||"",atype:1,ext:{keyv:parseInt(e.keyv)||0}}]});(b=b[0])&&b.userId&&(p(c,f.deepAccess(b,"userId.pubcid"),"pubcid.org",1),p(c,f.deepAccess(b,"userId.digitrustid.data.id"),"digitru.st",1),p(c,f.deepAccess(b,"userId.id5id"),"id5-sync.com",1),p(c,f.deepAccess(b,"userId.criteoId"),"criteo.com",1),p(c,f.deepAccess(b,"userId.idl_env"),"liveramp.com",1),p(c,f.deepAccess(b,"userId.lipb.lipbid"),"liveintent.com",
1),p(c,f.deepAccess(b,"userId.parrableid"),"parrable.com",1),p(c,f.deepAccess(b,"userId.britepoolid"),"britepool.com",1));0<c.length&&(a.user.eids=c)}function q(a,b){b=b.filter(function(a){return"string"===typeof a?!0:!1}).map(function(a){return a.trim()}).filter(function(a,b,c){if(3<a.length)return c.indexOf(a)===b});0<b.length&&(a.bcat=b)}function c(a,b,c){var e="";0<b.length&&c[0].params.hasOwnProperty("dctr")&&(e=c[0].params.dctr,f.isStr(e)&&0<e.length&&(b=e.split("|"),e="",b.forEach(function(a){e+=
0<a.length?a.trim()+"|":""}),b=e.length,"|"===e.substring(b,b-1)&&(e=e.substring(0,b-1)),a.site.ext={key_val:e.trim()}))}var f=l.AV_biddersFactory.utils,u=l.AV_biddersFactory.VIDEO,r=l.AV_biddersFactory.config,z={kadpageurl:"",gender:"",yob:"",lat:"",lon:"",wiid:"",profId:"",verId:""},x="number",b="string",m="boolean",v="array",D={mimes:v,minduration:x,maxduration:x,startdelay:x,playbackmethod:v,api:v,protocols:v,w:x,h:x,battr:v,linearity:x,placement:x,minbitrate:x,maxbitrate:x},A={1:"PMP",5:"PREF",
6:"PMPG"},h=0;l.AV_biddersFactory.register("pubmatic",{code:"pubmatic",supportedMediaTypes:[l.AV_biddersFactory.BANNER,u],isBidRequestValid:function(a){return!0},buildRequests:function(p,r){if(r&&r.refererInfo)var y=r.refererInfo;var A=k(y),C=e(A),J="",E=[],I,F=[];p.forEach(function(a){I=f.deepClone(a);I.params.adSlot=I.params.adSlot||"";a=I;a.params.adUnit="";a.params.adUnitIndex="0";a.params.width=0;a.params.height=0;var c=a.params;var e=a.params.adSlot;e=f.isStr(e)?e.replace(/^\s+/g,"").replace(/\s+$/g,
""):"";c.adSlot=e;c=a.params.adSlot;e=c.split(":");c=e[0];2==e.length&&(a.params.adUnitIndex=e[1]);e=c.split("@");a.params.adUnit=e[0];1<e.length&&(e=e[1].split("x"),2==e.length&&(a.params.width=parseInt(e[0],10),a.params.height=parseInt(e[1],10)));if(I.params.hasOwnProperty("video")){A.pubId=A.pubId||I.params.publisherId;a=I.params;c=A;c.kadpageurl||(c.kadpageurl=c.pageURL);for(h in z)if(z.hasOwnProperty(h)&&(e=a[h])){var d=z[h];"object"===typeof d&&(e=d.f(e,c));f.isStr(e)&&(c[h]=e)}A=c;A.transactionId=
I.transactionId;""===J?J=I.params.currency||void 0:I.params.hasOwnProperty("currency");I.params.currency=J;I.params.hasOwnProperty("dctr")&&f.isStr(I.params.dctr)&&E.push(I.params.dctr);I.params.hasOwnProperty("bcat")&&f.isArray(I.params.bcat)&&(F=F.concat(I.params.bcat));var h=I;a="";c={id:h.bidId,tagid:h.params.adUnit||void 0,bidfloor:t("kadfloor",h.params.kadfloor),secure:1,ext:{pmZoneId:t("pmzoneid",h.params.pmzoneid)},bidfloorcur:h.params.currency?t("currency",h.params.currency):"USD"};if(h.params.hasOwnProperty("video")){if(h.hasOwnProperty("mediaTypes"))for(a in h.mediaTypes)switch(a){case u:e=
void 0;var k=h,l=k.params.video;if(void 0!==l){d={};for(e in D)if(l.hasOwnProperty(e)){var q=d,p=e;var r=void 0;var g=l[e];switch(D[e]){case m:r=f.isBoolean;break;case x:r=f.isNumber;break;case b:r=f.isStr;break;case v:r=f.isArray}r=r(g)?g:void 0;q[p]=r}f.isArray(k.mediaTypes.video.playerSize[0])?(d.w=parseInt(k.mediaTypes.video.playerSize[0][0],10),d.h=parseInt(k.mediaTypes.video.playerSize[0][1],10)):f.isNumber(k.mediaTypes.video.playerSize[0])&&(d.w=parseInt(k.mediaTypes.video.playerSize[0],10),
d.h=parseInt(k.mediaTypes.video.playerSize[1],10));k.params.video.hasOwnProperty("skippable")&&(d.ext={video_skippable:k.params.video.skippable?1:0})}else d=void 0;e=d;void 0!==e&&(c.video=e)}h=c}else h=void 0;h&&C.imp.push(h)}});if(0!=C.imp.length)return C.site.publisher.id=A.pubId.trim(),h=A.pubId.trim(),C.ext.wrapper={},C.ext.wrapper.profile=parseInt(A.profId)||void 0,C.ext.wrapper.version=parseInt(A.verId)||void 0,C.ext.wrapper.wiid=A.wiid||void 0,C.ext.wrapper.wv="prebid_prebid_2.34.0",C.ext.wrapper.transactionId=
A.transactionId,C.ext.wrapper.wp="pbjs",C.user.gender=A.gender?A.gender.trim():void 0,C.user.geo={},C.user.geo.lat=t("lat",A.lat),C.user.geo.lon=t("lon",A.lon),C.user.yob=t("yob",A.yob),C.device.geo=C.user.geo,C.site.page=A.kadpageurl.trim()||C.site.page.trim(),C.site.domain=a(C.site.page),f.deepSetValue(C,"source.tid",A.transactionId),-1!==l.location.href.indexOf("pubmaticTest=true")&&(C.test=1),p[0].schain&&f.deepSetValue(C,"source.ext.schain",p[0].schain),r&&r.gdprConsent&&(f.deepSetValue(C,"user.ext.consent",
r.gdprConsent.consentString),f.deepSetValue(C,"regs.ext.gdpr",r.gdprConsent.gdprApplies?1:0)),r&&r.uspConsent&&f.deepSetValue(C,"regs.ext.us_privacy",r.uspConsent),c(C,E,p),d(C,p),q(C,F),{method:"POST",url:"https://hbopenbid.pubmatic.com/translator?source=prebid-client",data:JSON.stringify(C)}},interpretResponse:function(a,b){var c=[],e="USD";try{a.body&&a.body.seatbid&&f.isArray(a.body.seatbid)&&(e=a.body.cur||e,a.body.seatbid.forEach(function(a){a.bid&&f.isArray(a.bid)&&a.bid.forEach(function(a){var d=
{requestId:a.impid,cpm:(parseFloat(a.price)||0).toFixed(2),width:a.w,height:a.h,creativeId:a.crid||a.id,dealId:a.dealid,currency:e,netRevenue:!1,ttl:300,referrer:f.getTopWindowUrl(),ad:a.adm},h=JSON.parse(b.data);h.imp&&0<h.imp.length&&h.imp.forEach(function(b){a.impid===b.id&&b.hasOwnProperty("video")&&(d.mediaType="video",d.width=a.hasOwnProperty("w")?a.w:b.video.w,d.height=a.hasOwnProperty("h")?a.h:b.video.h,d.vastXml=a.adm)});a.ext&&a.ext.deal_channel&&(d.dealChannel=A[a.ext.deal_channel]||null);
d.meta={};a.ext&&a.ext.dspid&&(d.meta.networkId=a.ext.dspid);a.ext&&a.ext.advid&&(d.meta.buyerId=a.ext.advid);a.adomain&&0<a.adomain.length&&(d.meta.clickUrl=a.adomain[0]);c.push(d)})}))}catch(G){}return c},getUserSyncs:function(a,b,c,f){b="https://ads.pubmatic.com/AdServer/js/showad.js#PIX&kdntuid=1&p="+h;c&&(b+="&gdpr="+(c.gdprApplies?1:0),b+="&gdpr_consent="+encodeURIComponent(c.consentString||""));f&&(b+="&us_privacy="+encodeURIComponent(f));if(a.iframeEnabled)return[{type:"iframe",url:b}]},transformBidParams:function(a,
b){return f.convertTypes({publisherId:"string",adSlot:"string"},a)}},void 0,["id5Id","unifiedId"])})(window);
(function(l){var a=l.AV_biddersFactory.utils,t={consented_providers:"3 7 11 12 15 20 22 35 43 46 48 55 57 61 62 66 70 80 83 85 86 89 93 108 122 124 125 126 131 134 135 136 143 144 147 149 153 154 159 161 162 165 167 171 178 184 188 192 195 196 202 209 211 218 221 228 229 230 236 239 241 253 255 259 266 271 272 274 286 291 294 303 308 310 311 313 314 316 317 322 323 327 336 338 340 348 350 358 359 363 367 370 371 384 385 389 393 394 397 398 407 414 415 424 429 430 432 436 438 440 442 443 445 448 449 453 459 479 482 486 491 492 494 495 503 505 510 522 523 528 537 540 550 559 560 568 571 574 575 576 584 585 587 588 590 591 592 595 609 621 624 723 725 733 737 776 780 782 787 797 798 802 803 814 817 820 821 827 829 839 853 864 867 874 899 904 922 926 931 932 933 938 955 973 976 979 981 985 987 991 1003 1024 1025 1027 1028 1029 1033 1034 1040 1047 1048 1051 1052 1053 1054 1062 1063 1067 1072 1085 1092 1095 1097 1099 1100 1107 1126 1127 1143 1149 1152 1162 1166 1167 1170 1171 1172 1188 1192 1199 1201 1204 1205 1211 1212 1215 1220 1225 1226 1227 1230 1232 1236 1241 1248 1250 1252 1268 1275 1276 1284 1286 1298 1301 1307 1312 1313 1317 1329 1336 1344 1345 1356 1362 1365 1375 1403 1409 1411 1415 1416 1419 1423 1440 1442 1449 1451 1455 1456 1468 1496 1503 1509 1512 1514 1517 1520 1525 1540 1547 1548 1555 1558 1570 1575 1577 1579 1583 1584 1591 1598 1603 1608 1613 1616 1626 1631 1633 1638 1642 1648 1651 1652 1653 1660 1665 1667 1669 1671 1674 1677 1678 1682 1684 1697 1703 1705 1716 1720 1721 1722 1725 1732 1733 1735 1739 1741 1745 1750 1753 1760 1765 1769 1776 1780 1782 1786 1791 1794 1799 1800 1801 1810 1827 1831 1832 1834 1837 1840 1843 1844 1845 1858 1859 1863 1866 1870 1872 1875 1878 1880 1882 1883 1889 1892 1896 1898 1899 1902 1905 1911 1922 1928 1929 1934 1942 1943 1944 1945 1958 1960 1962 1963 1964 1967 1968 1978 1985 1986 1987 1998 2003 2007 2012 2013 2027 2035 2038 2039 2044 2047 2052 2056 2059 2062 2064 2068 2070 2072 2078 2079 2084 2088 2090 2095 2100 2103 2107 2109 2113 2115 2121 2127 2130 2133 2137 2140 2141 2145 2147 2150 2156 2166 2170 2171 2176 2177 2179 2183 2186 2192 2198 2202 2205 2214 2216 2219 2220 2222 2223 2224 2225 2227 2228 2234 2238 2247 2251 2253 2262 2264 2271 2276 2278 2279 2282 2290 2292 2295 2299 2305 2306 2310 2311 2312 2315 2320 2325 2328 2331 2334 2335 2336 2337 2343 2346 2354 2357 2358 2359 2366 2370 2373 2376 2377 2380 2382 2387 2389 2392 2394 2400 2403 2405 2406 2407 2410 2411 2413 2414 2415 2416 2418 2422 2425 2427 2435 2437 2440 2441 2447 2453 2459 2461 2462 2464 2467 2468 2472 2477 2481 2484 2486 2492 2493 2496 2497 2498 2499 2504 2506 2510 2511 2512 2517 2526 2527 2531 2532 2534 2542 2544 2552 2555 2559 2563 2564 2567 2568 2569 2571 2572 2573 2575 2577 2579 2583 2584 2586 2589 2595 2596 2597 2601 2604 2605 2609 2610 2612 2614 2621 2622 2624 2628 2629 2632 2634 2636 2639 2643 2645 2646 2647 2649 2650 2651 2652 2656 2657 2658 2660 2661 2662 2663 2664 2669 2670 2673 2676 2677 2678 2681 2682 2684 2685 2686 2689 2690 2691 2695 2698 2699 2702 2704 2705 2706 2707 2709 2710 2713 2714 2727 2729 2739 2758 2765 2766 2767 2768 2770 2771 2772 2776 2777 2778 2779 2780 2783 2784 2786 2787 2791 2792 2793 2797 2798 2801 2802 2803 2805 2808 2809 2810 2811 2812 2813 2814 2817 2818 2824 2826 2827 2829 2830 2831 2832 2834 2836 2838 2840 2842 2843 2844 2850 2851 2852 2854 2858 2860 2862 2864 2865 2866 2867 2868 2869 2871".split(" ")};l.AV_biddersFactory.register("spotx2",
{code:"spotx2",aliases:["spotx"],supportedMediaTypes:["video"],buildRequests:function(k,e){var l=e.refererInfo.referer,d=!!l.match(/^https:/);return k.map(function(k){var c=a.getBidIdParameter("channel_id",k.params),f=null,p=a.deepAccess(k,"mediaTypes.video.playerSize"),r=p[0];p=p[1];var q=d||(a.getBidIdParameter("secure",k.params)?1:0),x={sdk_name:"Prebid 1+",versionOrtb:"2.3"};""!==a.getBidIdParameter("hide_skin",k.params)&&(x.hide_skin=a.getBidIdParameter("hide_skin",k.params));""!==a.getBidIdParameter("ad_volume",
k.params)&&(x.ad_volume=a.getBidIdParameter("ad_volume",k.params));""!==a.getBidIdParameter("ad_unit",k.params)&&(x.ad_unit=a.getBidIdParameter("ad_unit",k.params));""!==a.getBidIdParameter("outstream_options",k.params)&&(x.outstream_options=a.getBidIdParameter("outstream_options",k.params));""!==a.getBidIdParameter("outstream_function",k.params)&&(x.outstream_function=a.getBidIdParameter("outstream_function",k.params));""!==a.getBidIdParameter("ad_mute",k.params)&&(x.ad_mute=a.getBidIdParameter("ad_mute",
k.params));""!==a.getBidIdParameter("custom",k.params)&&(x.custom=a.getBidIdParameter("custom",k.params));if(""!==a.getBidIdParameter("pre_market_bids",k.params)&&a.isArray(a.getBidIdParameter("pre_market_bids",k.params))){var b=a.getBidIdParameter("pre_market_bids",k.params);x.pre_market_bids=[];for(var m in b){var v=b[m],D="";v.vast_url?D='<?xml version="1.0" encoding="utf-8"?><VAST version="2.0"><Ad><Wrapper><VASTAdTagURI>'+v.vast_url+"</VASTAdTagURI></Wrapper></Ad></VAST>":v.vast_string&&(D=v.vast_string);
x.pre_market_bids.push({id:v.deal_id,seatbid:[{bid:[{impid:Date.now(),dealid:v.deal_id,price:v.price,adm:D}]}],cur:v.currency,ext:{event_log:[{}]}})}}m=a.getBidIdParameter("mimes",k.params)||["application/javascript","video/mp4","video/webm"];r={id:k.bidId,secure:q,video:{w:r,h:p,ext:x,mimes:m}};""!==a.getBidIdParameter("price_floor",k.params)&&(r.bidfloor=a.getBidIdParameter("price_floor",k.params));""!==a.getBidIdParameter("start_delay",k.params)&&(r.video.startdelay=0+!!a.getBidIdParameter("start_delay",
k.params));k.crumbs&&k.crumbs.pubcid&&(f=k.crumbs.pubcid);p=navigator.language?"language":"userLanguage";p={h:screen.height,w:screen.width,dnt:a.getDNT()?1:0,language:navigator[p].split("-")[0],make:navigator.vendor?navigator.vendor:"",ua:navigator.userAgent};r={id:c,imp:r,site:{id:"",page:l,content:"content"},device:p,ext:{wrap_response:1}};a.getBidIdParameter("number_of_ads",k.params)&&(r.ext.number_of_ads=a.getBidIdParameter("number_of_ads",k.params));p={};1===a.getBidIdParameter("spotx_all_google_consent",
k.params)&&(p.consented_providers_settings=t);e&&e.gdprConsent&&(p.consent=e.gdprConsent.consentString,"undefined"!==typeof e.gdprConsent.gdprApplies&&a.deepSetValue(r,"regs.ext.gdpr",e.gdprConsent.gdprApplies?1:0));e&&e.uspConsent&&a.deepSetValue(r,"regs.ext.us_privacy",e.uspConsent);k&&k.userId&&k.userId.id5id&&(p.eids=p.eids||[],p.eids.push({source:"id5-sync.com",uids:[{id:k.userId.id5id}]}));f&&(p.fpc=f);k&&k.schain&&(r.source={ext:{schain:k.schain}});k&&k.userId&&k.userId.tdid&&(p.eids=p.eids||
[],p.eids.push({source:"adserver.org",uids:[{id:k.userId.tdid,ext:{rtiPartner:"TDID"}}]}));a.isEmpty(p)||(r.user={ext:p});return{method:"POST",url:"https://search.spotxchange.com/openrtb/2.3/dados/"+c,data:r,bidRequest:e}})},interpretResponse:function(k,e){var l=[],d=k.body;d&&a.isArray(d.seatbid)&&a._each(d.seatbid,function(k){a._each(k.bid,function(c){var f={},k;for(k in e.bidRequest.bids)c.impid==e.bidRequest.bids[k].bidId&&(f=e.bidRequest.bids[k]);a._each(f.params.pre_market_bids,function(a){a.deal_id==
c.id&&(c.price=a.price,d.cur=a.currency)});l.push({requestId:f.bidId,currency:d.cur||"USD",cpm:c.price,creativeId:c.crid||"",ttl:360,netRevenue:!0,channel_id:d.id,cache_key:c.ext.cache_key,vastUrl:"https://search.spotxchange.com/ad/vast.html?key="+c.ext.cache_key,videoCacheKey:c.ext.cache_key,mediaType:"video",width:c.w,height:c.h})})});return l}},"3.5.0",["id5Id","unifiedId"])})(window);
(function(l){function a(a,c){var b=q.getConfig("pageUrl");a.params.referrer?b=a.params.referrer:b||(b=c.refererInfo.referer);return a.params.secure?b.replace(/^http:/i,"https:"):b}function t(a,c){var b=a.params;if("video"===c)return c=[],b.video&&b.video.playerWidth&&b.video.playerHeight?c=[b.video.playerWidth,b.video.playerHeight]:Array.isArray(d.deepAccess(a,"mediaTypes.video.playerSize"))&&1===a.mediaTypes.video.playerSize.length?c=a.mediaTypes.video.playerSize[0]:Array.isArray(a.sizes)&&0<a.sizes.length&&
Array.isArray(a.sizes[0])&&1<a.sizes[0].length&&(c=a.sizes[0]),c}function k(c,f,b){c&&("object"===typeof q.getConfig("app")?c.app=q.getConfig("app"):c.site={page:a(f,b)},"object"===typeof q.getConfig("device")&&(c.device=q.getConfig("device")),f.params.video.language&&["site","device"].forEach(function(a){c[a]&&(c[a].content=Object.assign({language:f.params.video.language},c[a].content))}))}function e(a,c){c="object"!==typeof d.deepAccess(a,"params.video")?!1:"undefined"!==typeof d.deepAccess(a,"mediaTypes.video");
if(c)return-1===["outstream","instream"].indexOf(d.deepAccess(a,"mediaTypes.video.context"))||2>t(a,"video").length?void 0:"video"}function p(a){var c=!1,b=["asi","sid","hp"];return a.nodes?c=a.nodes.reduce(function(a,c){return a?b.every(function(a){return c[a]}):a},!0):c}var d=l.AV_biddersFactory.utils,q=l.AV_biddersFactory.config,c=!1,f={FASTLANE:{id:"dt.id",keyv:"dt.keyv",pref:"dt.pref"},PREBID_SERVER:{id:"id",keyv:"keyv"}},u={1:"468x60",2:"728x90",5:"120x90",8:"120x600",9:"160x600",10:"300x600",
13:"200x200",14:"250x250",15:"300x250",16:"336x280",17:"240x400",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",39:"750x100",40:"750x200",41:"750x300",42:"2x4",43:"320x50",44:"300x50",48:"300x300",53:"1024x768",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",64:"580x500",65:"640x480",66:"930x600",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",94:"970x310",
96:"970x210",101:"480x320",102:"768x1024",103:"480x280",105:"250x800",108:"320x240",113:"1000x300",117:"320x100",125:"800x250",126:"200x600",144:"980x600",145:"980x150",152:"1000x250",156:"640x320",159:"320x250",179:"250x600",195:"600x300",198:"640x360",199:"640x200",213:"1030x590",214:"980x360",221:"1x1",229:"320x180",232:"580x400",234:"6x6",251:"2x2",257:"400x600",264:"970x1000",265:"1920x1080",274:"1800x200",278:"320x500",288:"640x380"};d._each(u,function(a,c){return u[a]=c});var r={code:"rubicon2",
aliases:["rubicon"],supportedMediaTypes:["video"],isBidRequestValid:function(a){return!0},buildRequests:function(a,c){return a.filter(function(a){return"video"===e(a)}).map(function(a){a.startTime=(new Date).getTime();var b={id:a.transactionId,test:q.getConfig("debug")?1:0,cur:["USD"],source:{tid:a.transactionId},tmax:q.getConfig("TTL")||1E3,imp:[{exp:300,id:a.adUnitCode,secure:1,ext:{rubicon:a.params},video:d.deepAccess(a,"mediaTypes.video")||{}}],ext:{prebid:{cache:{vastxml:{returnCreative:!1}},
targeting:{includewinners:!0,includebidderkeys:!1,pricegranularity:{ranges:{low:[{max:5,increment:.5}],medium:[{max:20,increment:.1}],high:[{max:20,increment:.01}],auto:[{max:5,increment:.05},{min:5,max:10,increment:.1},{min:10,max:20,increment:.5}],dense:[{max:3,increment:.01},{min:3,max:8,increment:.05},{min:8,max:20,increment:.5}],custom:q.getConfig("customPriceBucket")&&q.getConfig("customPriceBucket").buckets}[q.getConfig("priceGranularity")]}}}}},e=parseFloat(d.deepAccess(a,"params.floor"));
isNaN(e)||(b.imp[0].bidfloor=e);e=b.imp[0].ext.rubicon.video;var r=parseInt(d.deepAccess(a,"params.video.size_id"));r=isNaN(r)?"outstream"===d.deepAccess(a,"mediaTypes.video.context")?203:201:r;e.size_id=r;k(b,a,c);"object"===typeof b.imp[0].video&&void 0===b.imp[0].video.skip&&(b.imp[0].video.skip=a.params.video.skip);"object"===typeof b.imp[0].video&&void 0===b.imp[0].video.skipafter&&(b.imp[0].video.skipafter=a.params.video.skipdelay);"object"===typeof b.imp[0].video&&void 0===b.imp[0].video.pos&&
("atf"===a.params.position?b.imp[0].video.pos=1:"btf"===a.params.position&&(b.imp[0].video.pos=3));e=t(a,"video");b.imp[0].video.w=e[0];b.imp[0].video.h=e[1];r=a;r=void 0===r?{}:r;if(f.PREBID_SERVER)if(e=f.PREBID_SERVER,r=d.deepAccess(r,"userId.digitrustid.data"),r||(r=(r=l.DigiTrust&&(q.getConfig("digiTrustId")||l.DigiTrust.getUser({member:"T9QSFKPDN9"})))&&r.success&&r.identity||null),!r||r.privacy&&r.privacy.optout)e=null;else{var u={};r=(u[e.id]=r.id,u[e.keyv]=r.keyv,u);e.pref&&(r[e.pref]=0);
e=r}else e=null;e&&d.deepSetValue(b,"user.ext.digitrust",e);if(c.gdprConsent){var h;"boolean"===typeof c.gdprConsent.gdprApplies&&(h=c.gdprConsent.gdprApplies?1:0);d.deepSetValue(b,"regs.ext.gdpr",h);d.deepSetValue(b,"user.ext.consent",c.gdprConsent.consentString)}c.uspConsent&&d.deepSetValue(b,"regs.ext.us_privacy",c.uspConsent);a.userId&&"object"===typeof a.userId&&(a.userId.tdid||a.userId.pubcid)&&(d.deepSetValue(b,"user.ext.eids",[]),a.userId.tdid&&b.user.ext.eids.push({source:"adserver.org",
uids:[{id:a.userId.tdid,ext:{rtiPartner:"TDID"}}]}),a.userId.pubcid&&b.user.ext.eids.push({source:"pubcommon",uids:[{id:a.userId.pubcid}]}));a.schain&&p(a.schain)&&d.deepSetValue(b,"source.ext.schain",a.schain);return{method:"POST",url:"https://prebid-server.rubiconproject.com/openrtb2/auction",data:b,bidRequest:a}})},serializeSupplyChain:function(a){return p(a)?a.ver+","+a.complete+"!"+r.serializeSupplyChainNodes(a.nodes):""},serializeSupplyChainNodes:function(a){var c="asi sid hp rid name domain".split(" ");
return a.map(function(a){return c.map(function(b){return encodeURIComponent(a[b]||"")}).join(",")}).join("!")},interpretResponse:function(a,c){var b=c.bidRequest;a=a.body;if(!a||"object"!==typeof a)return[];if(a.seatbid){c=d.deepAccess(a,"ext.errors.rubicon");Array.isArray(c);var f=[];a.seatbid.forEach(function(c){(c.bid||[]).forEach(function(e){var k={requestId:b.bidId,currency:a.cur||"USD",creativeId:e.crid,cpm:e.price||0,bidderCode:c.seat,ttl:300,netRevenue:q.getConfig("rubicon.netRevenue")||!1,
width:e.w||d.deepAccess(b,"mediaTypes.video.w")||d.deepAccess(b,"params.video.playerWidth"),height:e.h||d.deepAccess(b,"mediaTypes.video.h")||d.deepAccess(b,"params.video.playerHeight")};e.id&&(k.seatBidId=e.id);e.dealid&&(k.dealId=e.dealid);var h=d.deepAccess(a,"ext.responsetimemillis.rubicon");b&&h&&(b.serverResponseTimeMs=h);"video"===d.deepAccess(e,"ext.prebid.type")&&(k.mediaType="video",(h=d.deepAccess(e,"ext.prebid.targeting"))&&"object"===typeof h&&(k.adserverTargeting=h),e.ext.prebid.cache&&
"object"===typeof e.ext.prebid.cache.vastXml&&e.ext.prebid.cache.vastXml.cacheId&&e.ext.prebid.cache.vastXml.url?(k.videoCacheKey=e.ext.prebid.cache.vastXml.cacheId,k.vastUrl=e.ext.prebid.cache.vastXml.url):h&&h.hb_uuid&&h.hb_cache_host&&h.hb_cache_path&&(k.videoCacheKey=h.hb_uuid,k.vastUrl="https://"+h.hb_cache_host+h.hb_cache_path+"?uuid="+h.hb_uuid),e.adm&&(k.vastXml=e.adm),e.nurl&&(k.vastUrl=e.nurl),!k.vastUrl&&e.nurl&&(k.vastUrl=e.nurl));f.push(k)})});return f}c=a.ads;"object"!==typeof b||Array.isArray(b)||
"video"!==e(b)||"object"!==typeof c||(c=c[b.adUnitCode]);return!Array.isArray(c)||1>c.length?[]:c.reduce(function(a,c,e){if("ok"!==c.status)return a;if((e=Array.isArray(b)?b[e]:b)&&"object"===typeof e){var f={requestId:e.bidId,currency:"USD",creativeId:c.creative_id||(c.network||"")+"-"+(c.advertiser||""),cpm:c.cpm||0,dealId:c.deal,ttl:300,netRevenue:q.getConfig("rubicon.netRevenue")||!1,rubicon:{advertiserId:c.advertiser,networkId:c.network},meta:{advertiserId:c.advertiser,networkId:c.network}};
c.creative_type&&(f.mediaType=c.creative_type);if("video"===c.creative_type)f.width=e.params.video.playerWidth,f.height=e.params.video.playerHeight,f.vastUrl=c.creative_depot_url,f.impression_id=c.impression_id,f.videoCacheKey=c.impression_id;else{f.ad="<html>\n            <head><script type='text/javascript'>inDapIF=true;\x3c/script></head>\n            <body style='margin : 0; padding: 0;'>\n            \x3c!-- Rubicon Project Ad Tag --\x3e\n            <div data-rp-impression-id='"+c.impression_id+
"'>\n            <script type='text/javascript'>"+c.script+"\x3c/script>\n            </div>\n            </body>\n            </html>";var d=$jscomp.makeIterator(u[c.size_id].split("x").map(function(a){return Number(a)}));f.width=d.next().value;f.height=d.next().value}f.rubiconTargeting=(Array.isArray(c.targeting)?c.targeting:[]).reduce(function(a,b){a[b.key]=b.values[0];return a},{rpfl_elemid:e.adUnitCode});a.push(f)}return a},[]).sort(function(a,b){return(b.cpm||0)-(a.cpm||0)})},getUserSyncs:function(a,
e,b,f){if(!c&&a.iframeEnabled)return a="",b&&"string"===typeof b.consentString&&(a="boolean"===typeof b.gdprApplies?a+"?gdpr=".concat(Number(b.gdprApplies),"&gdpr_consent=").concat(b.consentString):a+"?gdpr_consent=".concat(b.consentString)),f&&(a+=(a?"&":"?")+"us_privacy="+encodeURIComponent(f)),c=!0,{type:"iframe",url:"https://eus.rubiconproject.com/usync.html"+a}},transformBidParams:function(a,c){return d.convertTypes({accountId:"number",siteId:"number",zoneId:"number"},a)}};l.AV_biddersFactory.register("rubicon2",
r,"3.7.0",["unifiedId"])})(window);
(function(l){var a=l.AV_biddersFactory.utils,t={code:"oneVideo",VERSION:"3.0.0",ENDPOINT:"https://ads.adaptv.advertising.com/rtb/openrtb?ext_id=",SYNC_ENDPOINT1:"https://cm.g.doubleclick.net/pixel?google_nid=adaptv_dbm&google_cm&google_sc",SYNC_ENDPOINT2:"https://pr-bh.ybp.yahoo.com/sync/adaptv_ortb/{combo_uid}",SYNC_ENDPOINT3:"https://match.adsrvr.org/track/cmf/generic?ttd_pid=adaptv&ttd_tpi=1",supportedMediaTypes:["video"],isBidRequestValid:function(a){return!0},buildRequests:function(k,e){var l=
e?e.gdprConsent:null;return k.map(function(d){var k=t.ENDPOINT+d.params.pubId,c=a.getTopWindowLocation();c=d.params.site&&d.params.site.page?d.params.site.page:c.href;var f=d.params.site&&d.params.site.referrer?d.params.site.referrer:e.refererInfo.referer;c={id:a.generateUUID(),at:2,cur:d.cur||"USD",imp:[{id:"1",secure:"https:"===document.location.protocol,bidfloor:d.params.bidfloor,ext:{hb:1,prebidver:"$prebid.version$",adapterver:t.VERSION}}],site:{page:c,ref:f},device:{ua:navigator.userAgent,js:1},
tmax:200};if(void 0===d.params.video.display||1!==d.params.video.display)c.imp[0].video={mimes:d.params.video.mimes,w:d.params.video.playerWidth,h:d.params.video.playerHeight,pos:d.params.video.position},d.params.video.maxbitrate&&(c.imp[0].video.maxbitrate=d.params.video.maxbitrate),d.params.video.maxduration&&(c.imp[0].video.maxduration=d.params.video.maxduration),d.params.video.minduration&&(c.imp[0].video.minduration=d.params.video.minduration),d.params.video.api&&(c.imp[0].video.api=d.params.video.api),
d.params.video.delivery&&(c.imp[0].video.delivery=d.params.video.delivery),d.params.video.position&&(c.imp[0].video.pos=d.params.video.position),d.params.video.playbackmethod&&(c.imp[0].video.playbackmethod=d.params.video.playbackmethod),d.params.video.placement&&(c.imp[0].video.placement=d.params.video.placement),d.params.video.rewarded&&(c.imp[0].ext.rewarded=d.params.video.rewarded),c.imp[0].video.linearity=1,c.imp[0].video.protocols=d.params.video.protocols||[2,5];d.params.video.inventoryid&&
(c.imp[0].ext.inventoryid=d.params.video.inventoryid);d.schain&&(c.source={ext:{schain:d.schain}});d.params.site&&d.params.site.id&&(c.site.id=d.params.site.id);if(l&&l.gdprApplies||e&&e.uspConsent)c.regs={ext:{}},l&&l.gdprApplies&&(c.regs.ext.gdpr=1),l&&l.consentString&&(c.user={ext:{consent:l.consentString}}),e&&e.uspConsent&&(c.regs.ext.us_privacy=e.uspConsent);return{method:"POST",url:k,data:c,bidRequest:d}})},interpretResponse:function(k,e){e=e.bidRequest;try{k=k.body;var l=k.seatbid[0].bid[0]}catch(c){k=
null}if(!k||!l||!l.adm&&!l.nurl||!l.price)return[];var d=a.parseSizesInput(e.sizes);var q=$jscomp.makeIterator(d.length?d[0].split("x"):[]);d=q.next().value;q=q.next().value;d=parseInt(d,10)||void 0;q=parseInt(q,10)||void 0;k={requestId:e.bidId,bidderCode:t.code,cpm:l.price,adId:l.adid,creativeId:l.crid,width:d,height:q,mediaType:"video",currency:k.cur,ttl:100,netRevenue:!0,adUnitCode:e.adUnitCode};l.nurl?k.vastUrl=l.nurl:l.adm&&(k.vastXml=l.adm);return k},getUserSyncs:function(a,e,l){l=void 0===
l?{}:l;e=l.gdprApplies;l=void 0===l.consentString?"":l.consentString;if(a.pixelEnabled)return[{type:"image",url:t.SYNC_ENDPOINT1},{type:"image",url:t.SYNC_ENDPOINT2},{type:"image",url:"https://sync-tm.everesttech.net/upi/pid/m7y5t93k?gdpr="+(e?1:0)+"&gdpr_consent="+l+"&redir=https%3A%2F%2Fpixel.advertising.com%2Fups%2F55986%2Fsync%3Fuid%3D%24%7BUSER_ID%7D%26_origin%3D0"+encodeURI("&gdpr="+(e?1:0)+"&gdpr_consent="+l)},{type:"image",url:t.SYNC_ENDPOINT3}]}};l.AV_biddersFactory.register("oneVideo",t,
"3.7.0")})(window);
(function(l){function a(a){var c={};c.id=a.bidId;c.ext={};c.ext.siteID=a.params.siteId;!a.params.hasOwnProperty("id")||"string"!==typeof a.params.id&&"number"!==typeof a.params.id?c.ext.sid=a.params.size[0]+"x"+a.params.size[1]:c.ext.sid=String(a.params.id);a.params.hasOwnProperty("bidFloor")&&a.params.hasOwnProperty("bidFloorCur")&&(c.bidfloor=a.params.bidFloor,c.bidfloorcur=a.params.bidFloorCur);c.video=e.deepClone(a.params.video);c.video.w=a.params.size[0];c.video.h=a.params.size[1];if(a=e.deepAccess(a,
"mediaTypes.video.context"))"instream"===a?c.video.placement=1:"outstream"===a&&(c.video.placement=4);return c}function t(a,e){if(a)return c(e,function(c){return c.id===a})}function k(a,c,f,d){var b=[],k="https://as-sec.casalemedia.com/cygnus";if(l.headertag&&"function"===typeof l.headertag.getIdentityInfo){var r=l.headertag.getIdentityInfo();if(r&&"object"===typeof r)for(var q in r)if(r.hasOwnProperty(q)){var t=r[q];!t.responsePending&&t.data&&"object"===typeof t.data&&Object.keys(t.data).length&&
b.push(t.data)}}r={};r.id=a[0].bidId;r.imp=f;r.site={};r.ext={};r.ext.source="prebid";a[0].schain&&(r.source={ext:{schain:a[0].schain}});0<b.length&&(r.user={},r.user.eids=b);document.referrer&&""!==document.referrer&&(r.site.ref=document.referrer);if(c&&(c.gdprConsent&&(f=c.gdprConsent,f.hasOwnProperty("gdprApplies")&&(r.regs={ext:{gdpr:f.gdprApplies?1:0}}),f.hasOwnProperty("consentString")&&(r.user=r.user||{},r.user.ext={consent:f.consentString||""})),c.uspConsent&&e.deepSetValue(r,"regs.ext.us_privacy",
c.uspConsent),c.refererInfo&&(r.site.page=c.refererInfo.referer)&&0!==c.refererInfo.referer.indexOf("https"))){k="https://as-sec.casalemedia.com/cygnus";try{Utils.getTopWnd().AV_prebidDebugOn&&(k="http://hb-bidder.getsandbox.com/cygnus")}catch(y){}}c={};if(f=p.getConfig("ix")){if("object"===typeof f.firstPartyData){b=f.firstPartyData;q="?";for(var h in b)b.hasOwnProperty(h)&&(q+=encodeURIComponent(h)+"="+encodeURIComponent(b[h])+"&");q=q.slice(0,-1);r.site.page+=q}"number"===typeof f.timeout&&(c.t=
f.timeout)}c.s=a[0].params.siteId;c.v=d;c.r=JSON.stringify(r);c.ac="j";c.sd=1;8.1===d&&(c.nf=1);return{method:"GET",url:k,data:c}}var e=l.AV_biddersFactory.utils,p=l.AV_biddersFactory.config,d=l.AV_biddersFactory.VIDEO,q=l.AV_biddersFactory.BANNER,c=l.AV_biddersFactory.find,f={JPY:1};l.AV_biddersFactory.register("ix",{code:"ix",supportedMediaTypes:[q,d],isBidRequestValid:function(a){return!0},buildRequests:function(c,f){for(var l=[],r=[],b,m=0;m<c.length;m++)if(b=c[m],b.mediaType===d||e.deepAccess(b,
"mediaTypes.video")){var p;if(!(p=b.mediaType===d))a:{p=b.mediaTypes.video.playerSize;var q=b.params.size,t=p;if(Array.isArray(t)&&2===t.length&&e.isInteger(t[0])&&e.isInteger(t[1]))p=p[0]===q[0]&&p[1]===q[1];else{for(t=0;t<p.length;t++)if(p[t][0]===q[0]&&p[t][1]===q[1]){p=!0;break a}p=!1}}p&&r.push(a(b))}0<r.length&&l.push(k(c,f,r,8.1));return l},interpretResponse:function(a,c){var k=[];if(!a.hasOwnProperty("body")||!a.body.hasOwnProperty("seatbid"))return k;a=a.body;for(var l=a.seatbid,b=0;b<l.length;b++)if(l[b].hasOwnProperty("bid"))for(var m=
l[b].bid,r=JSON.parse(c.data.r),p=0;p<m.length;p++){var u=t(m[p].impid,r.imp);var h=m[p],y=a.cur,C={};f.hasOwnProperty(y)?C.cpm=h.price/f[y]:C.cpm=h.price/100;C.requestId=h.impid;C.dealId=e.deepAccess(h,"ext.dealid");C.netRevenue=!0;C.currency=y;C.creativeId=h.hasOwnProperty("crid")?h.crid:"-";e.deepAccess(h,"ext.vasturl")?(C.vastUrl=h.ext.vasturl,C.width=u.video.w,C.height=u.video.h,C.mediaType=d,C.ttl=3600):(C.ad=h.adm,C.width=h.w,C.height=h.h,C.mediaType=q,C.ttl=35);C.meta={};C.meta.networkId=
e.deepAccess(h,"ext.dspid");C.meta.brandId=e.deepAccess(h,"ext.advbrandid");C.meta.brandName=e.deepAccess(h,"ext.advbrand");u=C;k.push(u)}return k},transformBidParams:function(a,c){return e.convertTypes({siteID:"number"},a)}},"3.6.0")})(window);
(function(l){l.AVSpotXSDK=function(a){function t(d,l,c,f,t,r){var q={};if(t&&t.AdParameters){if("string"===typeof t.AdParameters)try{q=JSON.parse(t.AdParameters.trim())}catch(x){p.dispatch("AdError");return}else"object"===typeof t.AdParameters&&(q=t.AdParameters);q.slot=a.document.createElement("div");q.video_slot=e=a.document.createElement("video");q.slot.appendChild(q.video_slot);q.video_slot.style.cssText=r.videoSlot.style.cssText;r.videoSlot.style.display="none";r.videoSlot.parentNode.insertBefore(q.slot,
r.videoSlot);"undefined"===typeof q.hide_skin&&(q.hide_skin=!1);q.ados&&q.ados.user&&"string"===typeof q.ados.user.consent&&0==q.ados.user.consent.length&&delete q.ados.user.consent;q.ados||(q.ados={});(d=Utils.getCurrentConsent())&&pl&&(d.usp&&(q.ados.query_params||(q.ados.query_params=""),q.ados.query_params+="&us_privacy="+d.usp),pl.gdpr&&d.gdpr&&d.gdpr.gdprApplies&&d.gdpr.consentData&&(q.ados.query_params+="&gdpr=1&gdpr_consent="+d.gdpr.consentData||0));q.ados.https=1;q.autoplay=!1;q.ad_mute=
!0}d="https://js.spotx.tv/directsdk/v1/"+q.channel_id+".js";try{parent.$sf&&(a.$sf=parent.$sf)}catch(x){}(function(c,b){var e=a.document.getElementsByTagName("body")[0],f=a.document.createElement("script");f.type="text/javascript";f.src=c;f.onload=b;"function"!==typeof f.onload&&(f.onreadystatechange=function(){"loaded"!==this.readyState&&"complete"!==this.readyState||b()});e.appendChild(f)})(d,function(){var c=!1;k=new a.SpotX.DirectAdOS(q);"AdLoaded AdStarted AdStopped AdSkipped AdVideoStart AdVideoFirstQuartile AdVideoMidpoint AdVideoThirdQuartile AdVideoComplete AdClickThru AdUserMinimize AdUserClose AdPaused AdPlaying AdError AdSizeChange AdRemainingTimeChange AdVolumeChange".split(" ").forEach(function(a,
e){k.subscribe(function(b,e,f){"AdVideoStart"==a||"AdImpression"==a?c||(c=!0,p.dispatch("AdImpression")):p.dispatch(a)},a)});k.loadAd()})}var k,e,p=new l.AVEvtMgr;this.handshakeVersion=function(a){return"2.0"};this.initAd=function(a,e,c,f,k,l){t(a,e,c,f,k,l)};this.startAd=function(){setTimeout(function(){k.playAd()},10)};this.getAdLinear=function(){return!0};this.stopAd=function(a,e){try{k.stopAd()}catch(c){}p.dispatch("AdStopped")};this.getAdVolume=function(){var a=e.volume;e.muted&&(a=0);return a};
this.setAdVolume=function(a){e.volume=a;e.muted=!(0<a)};this.resizeAd=function(a,e,c){try{k.resize(a,e,c)}catch(f){}};this.pauseAd=function(){try{k.pauseAd()}catch(d){}};this.resumeAd=function(){try{k.playAd()}catch(d){}};this.expandAd=function(){};this.getAdExpanded=function(a){return!1};this.getAdSkippableState=function(a){return!1};this.collapseAd=function(){};this.skipAd=function(){try{setTimeout(function(){k.stopAd()},10)}catch(d){}};this.getAdWidth=function(){return e.clientWidth};this.getAdHeight=
function(){return e.clientHeight};this.getSkippableRemainingTime=function(){return e.duration-e.currentTime};this.getAdRemainingTime=function(){return e.duration-e.currentTime};this.getAdDuration=function(){return e.duration};this.getAdCompanions=function(){};this.getIcons=function(){return""};this.getAdIcons=function(){return""};this.subscribe=function(a,e,c){p.subscribe(a,e,c)};this.unsubscribe=function(a,e){p.unsubscribe(a,e)}};l.av_sdk.register(1,"AVSpotXSDK")})(window);
(function(l){l.AVImaSDK=function(a){function t(e,c){var f=a.document.getElementsByTagName("body")[0],d=a.document.createElement("script");d.type="text/javascript";d.src=e;d.onload=c;"function"!==typeof d.onload&&(d.onreadystatechange=function(){"loaded"!==this.readyState&&"complete"!==this.readyState||c()});f.appendChild(d)}function k(a,c,f,k,l,z){var r={};if(l&&l.AdParameters){if("string"===typeof l.AdParameters)try{r=JSON.parse(l.AdParameters.trim())}catch(b){p.dispatch("AdError");return}else"object"===
typeof l.AdParameters&&(r=l.AdParameters);r.slot=z.slot;r.videoSlot=e=z.videoSlot;r.width=a;r.height=c;r.lang=z.imaLang;r.imaAutoplay=z.imaAutoplay;r.imaMuted=z.imaMuted;r.imaiOSSkip=z.imaiOSSkip;r.imaVpaidMode=z.imaVpaidMode;r.imaplayer=z.imaplayer;r.imanltimeout=z.imanltimeout}t("https://imasdk.googleapis.com/js/sdkloader/ima3.js",function(){d.init(r)})}var e,p=new l.AVEvtMgr,d=new function(){function e(){if(!v){v=!0;for(var a in m)m[a].handler&&k.removeEventListener(a,m[a].handler),m[a].handler=
null;setTimeout(function(){try{l&&(l.destroy(),l=null),k&&(k.destroy(),k=null),t&&(t.destroy(),t=null)}catch(Q){}},2E3);h&&(clearTimeout(h),h=0);b=null}}function c(a){e();p.dispatch("AdError")}function f(a){if(!y&&a)try{var b=a.getContentType()||"";(-1<b.indexOf("image")||"text"==b)&&0>=a.getMinSuggestedDuration()&&0>=a.getDuration()&&(h=setTimeout(function(){y||(y=!0,h=0,p.dispatch("AdStopped"),setTimeout(function(){e()},400))},1E3*A))}catch(B){}}function d(d){function h(a){var c=function(c){var d=
{count:1,lastPod:!0};try{if(a===q.STARTED&&c&&(b=c.getAd()),a===q.IMPRESSION||a===q.LOADED||a==q.COMPLETE)if(c&&(b=c.getAd()),b){a===q.IMPRESSION&&f(b);var h=b.getAdPodInfo();h&&(d={pos:h.getAdPosition(),count:h.getTotalAds(),dur:h.getMaxDuration()},d.lastPod=1==d.count||d.pos>=d.count)}}catch(P){}if(a==q.COMPLETE&&d.lastPod||a==q.SKIPPED||a==q.USER_CLOSE||a==q.ALL_ADS_COMPLETED)y=!0,setTimeout(function(){e()},400);p.dispatch(m[a].vpaidEvt,d)};m[a]&&(m[a].handler=c);k.addEventListener(a,c)}var l=
new a.google.ima.AdsRenderingSettings;l.restoreCustomPlaybackStateOnAdBreakComplete=!1;l.loadVideoTimeout=2E4;l.useStyledNonLinearAds=!0;k=d.getAdsManager({currentTime:0},l);k.addEventListener(a.google.ima.AdErrorEvent.Type.AD_ERROR,c);var q=a.google.ima.AdEvent.Type;m[q.LOADED]={vpaidEvt:"AdLoaded"};m[q.IMPRESSION]={vpaidEvt:"AdImpression"};m[q.CLICK]={vpaidEvt:"AdClickThru"};m[q.FIRST_QUARTILE]={vpaidEvt:"AdVideoFirstQuartile"};m[q.MIDPOINT]={vpaidEvt:"AdVideoMidpoint"};m[q.THIRD_QUARTILE]={vpaidEvt:"AdVideoThirdQuartile"};
m[q.COMPLETE]={vpaidEvt:"AdVideoComplete"};m[q.STARTED]={vpaidEvt:"AdVideoStart"};m[q.INTERACTION]={vpaidEvt:"AdInteraction"};m[q.LOG]={vpaidEvt:"AdLog"};m[q.PAUSED]={vpaidEvt:"AdPaused"};m[q.RESUMED]={vpaidEvt:"AdPlaying"};m[q.SKIPPED]={vpaidEvt:"AdSkipped"};m[q.DURATION_CHANGE]={vpaidEvt:"AdDurationChange"};m[q.SKIPPABLE_STATE_CHANGED]={vpaidEvt:"AdSkippableStateChange"};m[q.USER_CLOSE]={vpaidEvt:"AdUserClose"};m[q.VOLUME_CHANGED]={vpaidEvt:"AdVolumeChange"};m[q.ALL_ADS_COMPLETED]={vpaidEvt:"AdStopped"};
for(var r in m)h(r);p.dispatch("AdLoaded")}var k,l,t,b,m=[],v=!1,D,A=15,h=0,y=!1;this.init=function(b){D=b;try{b.imaVpaidMode&&"undefined"!==typeof a.google.ima.ImaSdkSettings.VpaidMode[b.imaVpaidMode]?(a.google.ima.settings.setVpaidMode(a.google.ima.ImaSdkSettings.VpaidMode.ENABLED),a.google.ima.settings.setVpaidMode(a.google.ima.ImaSdkSettings.VpaidMode[b.imaVpaidMode])):a.google.ima.settings.setVpaidMode(a.google.ima.ImaSdkSettings.VpaidMode.INSECURE)}catch(E){}var e=b.slot,f=b.videoSlot,h=b.lang;
try{var k=navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage;!h&&"string"===typeof k&&2<=k.length&&(h=k.substring(0,2));h&&"string"===typeof h&&2<=h.length&&a.google.ima.settings.setLocale(h)}catch(E){}t=new a.google.ima.AdDisplayContainer(e,f);l=new a.google.ima.AdsLoader(t);try{b.imaVpaidMode&&"undefined"!==typeof a.google.ima.ImaSdkSettings.VpaidMode[b.imaVpaidMode]&&l.getSettings().setVpaidMode(a.google.ima.ImaSdkSettings.VpaidMode[b.imaVpaidMode]),b.imaiOSSkip&&
/iPhone|iPod|iPad/.test(navigator.userAgent)&&l.getSettings().setDisableCustomPlaybackForIOS10Plus(!0)}catch(E){}l.addEventListener(a.google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,d,!1);l.addEventListener(a.google.ima.AdErrorEvent.Type.AD_ERROR,c,!1);e=new a.google.ima.AdsRequest;e.adTagUrl=b.tagUrl;cnf&&cnf.ctinfo&&(isNaN(cnf.ctinfo.duration)||(e.contentDuration=Math.floor(cnf.ctinfo.duration)),cnf.ctinfo.title&&(e.contentTitle=cnf.ctinfo.title),cnf.ctinfo.keywords&&"string"==typeof cnf.ctinfo.keywords&&
(e.contentKeywords=cnf.ctinfo.keywords.split(",")));e.linearAdSlotWidth=b.width;e.linearAdSlotHeight=b.height;e.nonLinearAdSlotWidth=b.width;e.nonLinearAdSlotHeight=b.height;"undefined"!==typeof b.imaAutoplay&&e.setAdWillAutoPlay(b.imaAutoplay);"undefined"!==typeof b.imaMuted&&e.setAdWillPlayMuted(b.imaMuted);7<D.imanltimeout&&(A=D.imanltimeout);l.requestAds(e)};this.start=function(){if(k){t.initialize();try{k.init(D.width,D.height,a.google.ima.ViewMode.NORMAL),k.start()}catch(C){}}};this.setVolume=
function(a){k&&k.setVolume(a)};this.getVolume=function(){if(k)return k.getVolume()};this.getDuration=function(){if(b){var a=b.getDuration();if(0<a)return a;if(!b.isLinear()){var c=b.getMinSuggestedDuration();if(0<c)return c}return a}};this.getRemainingTime=function(){if(k)return k.getRemainingTime()};this.isLinear=function(){if(b)return b.isLinear()};this.stop=function(){if(k)return k.stop()};this.resize=function(b,c,e){if(k){var f=a.google.ima.ViewMode.NORMAL;"fullscreen"==e&&(f=a.google.ima.ViewMode.FULLSCREEN);
return k.resize(b,c,f)}};this.pause=function(){if(k)return k.pause()};this.resume=function(){if(k)return k.resume()};this.skip=function(){if(k)return k.skip()};this.getWidth=function(){if(b)return b.getWidth()};this.getHeight=function(){if(b)return b.getHeight()}};this.handshakeVersion=function(a){return"2.0"};this.initAd=function(a,c,e,d,l,p){k(a,c,e,d,l,p)};this.startAd=function(){setTimeout(function(){try{d.start()}catch(q){}},10)};this.getAdLinear=function(){try{return d.isLinear()}catch(q){}return!0};
this.stopAd=function(a,c){try{return d.stop()}catch(f){}};this.getAdVolume=function(){try{return d.getVolume()}catch(q){}};this.setAdVolume=function(a){e.volume=a;e.muted=!(0<a);try{d.setVolume(a)}catch(c){}};this.resizeAd=function(a,c,e){try{d.resize(a,c,e)}catch(u){}};this.pauseAd=function(){try{d.pause()}catch(q){}};this.resumeAd=function(){try{d.resume()}catch(q){}};this.expandAd=function(){};this.getAdExpanded=function(a){return!1};this.getAdSkippableState=function(a){return!1};this.collapseAd=
function(){};this.skipAd=function(){try{d.skip()}catch(q){}};this.getAdWidth=function(){try{d.getWidth()}catch(q){}};this.getAdHeight=function(){try{d.getHeight()}catch(q){}};this.getSkippableRemainingTime=function(){return this.getAdRemainingTime()};this.getAdRemainingTime=function(){try{return d.getRemainingTime()}catch(q){}};this.getAdDuration=function(){try{return d.getDuration()}catch(q){}};this.getAdCompanions=function(){return""};this.getIcons=function(){return""};this.getAdIcons=function(){return""};
this.subscribe=function(a,c,e){p.subscribe(a,c,e)};this.unsubscribe=function(a,c){p.unsubscribe(a,c)}};l.av_sdk.register(3,"AVImaSDK");l.av_sdk.register(6,"AVImaSDK")})(window);
(function(l){var a={AdLoaded:"AdLoaded",AdStarted:"AdStarted",AdStopped:"AdStopped",AdSkipped:"AdSkipped",AdSkippableStateChange:"AdSkippableStateChange",AdSizeChange:"AdSizeChange",AdLinearChange:"AdLinearChange",AdDurationChange:"AdDurationChange",AdExpandedChange:"AdExpandedChange",AdRemainingTimeChange:"AdRemainingTimeChange",AdVolumeChange:"AdVolumeChange",AdImpression:"AdImpression",AdVideoStart:"AdVideoStart",AdVideoFirstQuartile:"AdVideoFirstQuartile",AdVideoMidpoint:"AdVideoMidpoint",AdVideoThirdQuartile:"AdVideoThirdQuartile",
AdVideoComplete:"AdVideoComplete",AdClickThru:"AdClickThru",AdInteraction:"AdInteraction",AdUserAcceptInvitation:"AdUserAcceptInvitation",AdUserMinimize:"AdUserMinimize",AdUserClose:"AdUserClose",AdPaused:"AdPaused",AdPlaying:"AdPlaying",AdLog:"AdLog",AdBid:"AdBid",AdError:"AdError"};l.aniviewPlayer=function(t){var k=this,e;l.AV_FlashOpen=this;var p=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)||/CriOS/.test(navigator.userAgent);/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor);
var d=/iPhone|iPod|iPad/.test(navigator.userAgent),q=/(android)/i.test(navigator.userAgent);(function(c){function f(){g.preroll=n.preroll;g.midrollTimer&&(clearTimeout(g.midrollTimer),g.resetAdRequest=!0);g.midrollTimer=0;g.resetAdRequest&&(g.resetAdRequest=!1,setTimeout(function(){L(W)},10))}function u(){for(var a=-1,b=null,c=0;c<g.readyToPlay.length;c++){var e=g.waterfall.data.tags[g.readyToPlay[c].id];if(e.playerSettings&&0<e.playerSettings.vi){e=1==e.playerSettings.vi?50:e.playerSettings.vi;e=
Math.max(0,Math.min(100,e));var f=Math.max(0,f||Utils.getViewabilityPerc(n.slot));if(f>=e){a=c;break}}else{a=c;break}}if(0<=a)b=g.readyToPlay.splice(a,1)[0],g.startAdViTime=0;else if(g.players.length==g.readyToPlay.length)if(g.startAdViTime=g.startAdViTime||Date.now(),Date.now()-g.startAdViTime<1E3*n.startadvitimeout)Utils.writeLog(Utils.logLevels.debug,"AS waiting for view"),setTimeout(function(){k.startAd(!0)},250);else for(Utils.writeLog(Utils.logLevels.debug,"Wait for view ended, closing"),c=
0;c<g.readyToPlay.length;c++)h(g.readyToPlay[c]),L(W);return b}function r(){g.isFullScreen&&!Utils.getFSElement(g.slotWindow.document)&&(g.slotWindow.document.removeEventListener(Utils.getFSEvent(),r),g.isFullScreen=!1,k.resizeAd(g.fsRestoreSize.width,g.fsRestoreSize.height,"normal"))}function z(){if(g.waterfall&&g.waterfall.data&&g.waterfall.data.tUrl){var a="";n.ctinfo&&n.ctinfo.trackParams&&(a="&"+n.ctinfo.trackParams);var b="";0<n.width&&0<n.height&&(b="&AV_WIDTH="+n.width+"&AV_HEIGHT="+n.height);
return g.waterfall.data.tUrl.replace("[AVC_ABT]",g.abtest)+a+b}return""}function x(){n.autoplay&&0<g.preroll&&!g.prerollTimer&&0<n.prerolltimeout&&(g.prerollTimer=setTimeout(function(){g.prerollTimer=null;if(!g.player||g.player&&!g.player.impressionSet)g.preroll=0,Z()},1E3*n.prerolltimeout))}function b(){return Utils.isAutoSound(n)}function m(){if(0==g.readyToPlay.length)return!0;for(var a=g.readyToPlay[0],b=0;b<g.players.length;b++)if(g.advertisements[g.players[b]].Ad.num<a.num)return!1;return!0}
function v(){function a(a){0==g.callStartTimer&&(0<g.callStartTimeout?(g.callStartTimer=setTimeout(function(){g.callStartTimer=0;k.startAd(a)},1E3*g.callStartTimeout),g.callStartTimeout=0):k.startAd(a))}1==n.autoplay&&1<=g.readyToPlay.length&&-1==g.playing&&(m()?(0!=g.startTimer&&(clearTimeout(g.startTimer),g.startTimer=0),a(!0)):0==g.startTimer&&(g.startTimer=setTimeout(function(){g.startTimer=0;-1==g.playing&&a(!0)},1E3*n.startaddelay)))}function D(a,b){var c=!0,e=a.currentSrc;a.addEventListener("ended",
function(){a.videoPlayerElement?(a.canVideoPlay=!0,a.videoPlayerElement.currentTime=-2,a.play()):(n.lastframe||(a.currentTime=0,setTimeout(function(){a.play()},100)),a.pause(),w.paused=!0);b.api&&c&&(c=!1,a.currentSrc||(a.src=e),b.api={resumeAd:function(){a.play()},pauseAd:function(){a.pause()},getAdVolume:function(){return a.muted?0:a.volume},setAdVolume:function(b){a.muted=0==b;a.volume=b},getAdRemainingTime:function(){return a.duration-a.currentTime},getAdDuration:function(){return a.duration}},
a.addEventListener("pause",function(){w.paused=!0}),a.addEventListener("playing",function(){w.paused=!1}))})}function A(a){if(!a.videoCompleteCalled){a.videoCompleteCalled=!0;var b=!1;a.player&&(b=a.player.impressionSet);g.playing==a.id&&(g.playing=-1,g.player=null,"content"!=n.preloader.type&&(g.divPreloader.style.zIndex=n.maxzindex),g.divPreloader.style.display="block","content"==n.preloader.type&&b&&Z());if(!n.loopvideo&&(b&&a&&a.sndInterval&&(clearInterval(a.sndInterval),a.sndInterval=0),!g.stopAd))if(g.impCount>=
n.maximp&&-1==g.playing)L(W);else if(g.runCount<n.vastretry&&1==g.preroll&&g.impressionSet){for(a=0;a<g.readyToPlay.length;a++)h(g.readyToPlay[a]);-1==g.playing&&L(W)}else 1==n.autoplay&&1<=g.readyToPlay.length&&-1==g.playing&&v(),g.advertisements.length>g.currentAd&&g.players.length<e?G(g.currentAd):-1==g.playing&&0>=g.players.length&&L(W)}}function h(a){if(!a.cleanupPlayerCalled){0<a.sec3Timer&&(clearTimeout(a.sec3Timer),a.sec3Timer=0);0<a.sec10Timer&&(clearTimeout(a.sec10Timer),a.sec10Timer=0);
a.cleanupPlayerCalled=!0;a.vitTimer&&(clearInterval(a.vitTimer),a.vitTimer=0);if(g.playing==a.id){w.setPlayer(null);g.playing=-1;g.player=null;g.activeImpression=!1;if("js"==n.preloader.type||"Image"==n.preloader.type)n.preloader.closeButton||(w.gui.style.display="none"),g.divPreloader.style.display="block";var b=!1;a.player&&(b=a.player.impressionSet);"content"==n.preloader.type&&b&&(g.divPreloader.style.display="block",Z(!0))}if(a.player&&a.player.container&&a.player.container.parentNode){g.players.splice(g.players.indexOf(a.num),
1);var c=a.player.container;c.style.display="none";setTimeout(function(){Utils.writeLog(Utils.logLevels.defaultLevel,"cleanupPlayer remove container:"+a.id+":"+a.asid);if(a.player.slot&&a.player.frame){try{a.player.frame.parentNode.removeChild(a.player.frame)}catch(ma){}a.player.frame=null;try{a.player.container.removeChild(a.player.slot)}catch(ma){}}c.parentNode.removeChild(c)},3E3)}for(b=0;b<g.readyToPlay.length;b++)a.num==g.readyToPlay[b].num&&g.readyToPlay.splice(b,1)}}function y(a,b,c,e){a="on"+
a;if("function"==typeof k[a])k[a](b,c,e)}function C(b){function c(){g.adStoppedCalled||(g.adStoppedCalled=!0,y(a.AdStopped))}g.adStoppedCalled||("1"==n.tgt&&g.playerSlot&&(g.playerSlot.style.display="none"),b?(g.adStoppedTimer&&(clearTimeout(g.adStoppedTimer),g.adStoppedTimer=0),c()):g.adStoppedTimer||(g.adStoppedTimer=setTimeout(function(){g.adStoppedTimer=0;c()},g.adStoppedTimeout)))}function Q(a){var b=a.asid;a=a.tag.playerSettings;g.maximps[b]||(g.maximps[b]={imps:0});g.maximps[b].imps++;a.impwt&&
(g.maximps[b].imptime=Date.now());a.impwc&&(g.maximps[b].impcnt=g.impCount)}function B(a){try{a.player&&a.player.api&&!b()&&!a.sndEnabled&&(a.noForceVol||(a.player.adVolume=0),a.player.video&&(a.player.video.volume=0))}catch(fa){}}function G(c){function e(a){try{b()||a.sndEnabled||(a.player.adVolume=0)}catch(na){}}var f=n.slot.querySelector("#videoslot");g.currentAd++;var d=g.advertisements[c].Ad;d.active=!0;d.asid=g.advertisements[c].asid;d.num=c;d.sortOrder=g.advertisements[c].sortOrder;g.players.push(c);
var l=document.createElement("div");var m="";if(d.tag&&"string"===typeof d.tag.url&&-1<d.tag.url.indexOf(".lkqd.net")||26==d.tag.platform)m="\r",d.vastPlayer&&(d.vastPlayer.opt2=!0);l.id="A"+m+"Vplayer"+c;l.style.position="absolute";1!=n.flashscale&&(l.style.top="-100000px");l.style.zIndex="1";"application/x-shockwave-flash"==d.mediaFiles[0].type?1!=n.flashscale?(l.style.width="640px",l.style.height="360px"):(l.style.width=0==n.width?"100%":""+n.width+"px",l.style.height=0==n.height?"100%":""+n.height+
"px"):(l.style.width=n.width+"px",l.style.height=n.height+"px");f.appendChild(l);d.player.container=l;d.VideoComplete=!1;d.VideoStop=!1;c=n.podsupport&&d.tag&&"pl"==d.tag.type&&3==d.tag.platform;d.player.reporter.track(d.player,c);d.parameters&&"string"==typeof d.parameters&&(d.parameters=d.parameters.trim());c=n.advideoslot?n.advideoslot:null;d.tag&&"pl"===d.tag.type&&d.tag.fixedTemplate&&(l=Utils.getPriceGranularity(g.hcpm?g.hcpm:0,n.pricegranularity),d.parameters=d.parameters.replace(/\[AVC_HCPM\]|%5BAVC_HCPM%5D/,
l));d.player.load(d.mediaFiles,d.parameters,d.vastPlayer,d.trackingPixel,null,c,d.tag.type,d.tag).then(function(){});d.player.once(a.AdLoaded,function(){Utils.writeLog(Utils.logLevels.defaultLevel,"AdLoaded:"+d.id+":"+d.asid);var a=g.adLoaded;g.adLoaded=!0;if(Utils.isiOS()&&n.contentvideo&&n.nativevideo){var b=Utils.getOSVersion();b&&b.major&&("9"==b.major||"8"==b.major||"7"==b.major)&&this.video&&this.video.src&&this.video.addEventListener("webkitendfullscreen",function(){w.paused=!0})}for(b=b=0;b<
g.readyToPlay.length&&!(d.sortOrder<g.readyToPlay[b].sortOrder);b++);g.readyToPlay.splice(b,0,d);0==n.autoplay&&-1==g.playing?(w.bigPlay.style.display=n.showbigplay?"inline":"none",w.bigPlay.style.position="absolute",w.bigPlay.style.zIndex=n.maxzindex,w.bigPlay.onclick=function(){g.divPreloader.style.zIndex="1";k.startAd();x()}):v();if("function"==typeof k.onAdLoaded&&!a)k.onAdLoaded()});d.player.on(a.AdDurationChange,function(){Utils.writeLog(Utils.logLevels.defaultLevel,a.AdDurationChange+":"+d.id+
":"+d.asid);y(a.AdDurationChange)});d.player.on(a.AdStarted,function(){e(d);Utils.writeLog(Utils.logLevels.defaultLevel,a.AdStarted+":"+d.id+":"+d.asid);g.sentAdStarted||(g.sentAdStarted=!0,y(a.AdStarted))});d.player.on(a.AdVideoStart,function(){e(d);Utils.writeLog(Utils.logLevels.defaultLevel,a.AdVideoStart+":"+d.id+":"+d.asid);y(a.AdVideoStart)});c=n.podsupport&&d.tag&&"pl"==d.tag.type&&3==d.tag.platform;d.player[c?"on":"once"](a.AdImpression,function(c){function f(){var e="",f="",h="",k=null;g.impCount++;
try{e=d.vastPlayer.vast.get("ads[0].creatives[0].videoClicks.clickThrough");d.tag.playerSettings&&d.tag.playerSettings.ops&&(f=decodeURIComponent(d.tag.playerSettings.ops));if(d.player){h=d.player.video&&d.player.video.src||"";k=d.player.video;var l=d.player.adDuration}k&&k.__id&&d.tag.trackingPixel&&30<d.tag.trackingPixel.length&&((new Image).src=d.tag.trackingPixel+"c10&cb="+Date.now());w.showPreloader(!1)}catch(N){}1==n.tgt&&g.playerSlot&&(g.playerSlot.style.visibility="");n.topasopt&&-1==g.topAsid.indexOf(d.asid)&&
g.topAsid.push(d.asid);d.impTime=Date.now();var m=d.tag.type,K=d.tag.platform;"58a5addb28a0612d3529bc5e"==n.publisherid&&d.tag.ismp&&(m="pb",K=1E3);var p=d.tag.cac||{};m={url:"pb"==d.tag.type||"pl"==d.tag.type?d.tag.fixedTemplate:d.tag.url,type:m,bidCpm:p.sCpm,floorCpm:d.tag.tc&&d.tag.tc.mn?p.nFloor:p.sCpm,ismp:d.tag.ismp,isMarketplace:d.tag.ismp,pubCpm:p.pCpm,platform:K,vast:d.vastPlayer.vast.raw};d.podInfo=c;y(a.AdImpression,{asid:d.asid,clickThrough:e,ops:f,videoUrl:h,video:k,mt:d.player.vt,tagInfo:m,
podInfo:c});y(a.AdDurationChange);Q(d);if("js"==n.preloader.type||"Image"==n.preloader.type)w.gui.style.display="inline";g.impressionSet=!0;g.activeImpression=!0;d.player.impressionSet=!0;R=0;g.tagRequestCount=0;g.callStartTimeout=n.startmidroll;g.myInterval=setInterval(function(){try{"-100000px"==g.waterfall.data.tags[d.id].Ad.player.container.style.top&&(clearInterval(g.myInterval),g.myInterval=0,C())}catch(N){clearInterval(g.myInterval),g.myInterval=0}},1E3);g.AVcontent&&("content"==n.preloader.type&&
(g.diVideoPreloader.style.display="none"),g.AVcontent.pauseAd(),g.AVcontent.style.display="none",g.AVcontent.style.zIndex="1");w.bigPlay&&(w.bigPlay.style.display="none");try{b()||d.sndEnabled||(d.player.adVolume=0,d.player.video&&(d.player.video.volume=0))}catch(N){}setTimeout(function(){B(d)},10);setTimeout(function(){B(d)},150);setTimeout(function(){B(d)},300);d.player.container.style.position="absolute";d.player.container.style.top="0px";d.player.container.style.zIndex=n.maxzindex;d.player.container.style.background=
"black";d.player.container.style.width=0==n.width?"100%":""+n.width+"px";d.player.container.style.height=0==n.height?"100%":""+n.height+"px";w.setPlayer(d.vastPlayer,1!=d.sndEnabled,d);e=n.skiptimer;f=n.skip;0<l&&!isNaN(l)&&(h=d.vastPlayer.vast.get("ads[0].creatives[0].skipoffset.type"),k=d.vastPlayer.vast.get("ads[0].creatives[0].skipoffset.offset"),0<k&&!isNaN(k)&&(1==h&&100>k&&(k=l*k/100),0<k&&(k<e||!e||0>=e)&&(e=k,f=!0)));w.startSkipTimer(f,e,function(){y(a.AdSkippableStateChange)});g.divPreloader.style.zIndex=
"1";g.divPreloader.style.display="none";n.hidecontrols||w.controls(!0);n.flashsound||b()||d.sndEnabled||(setTimeout(function(){B(d)},1),setTimeout(function(){B(d)},100),d.sndIntervalCounter=0,d.sndInterval=setInterval(function(){d.sndIntervalCounter++;24<d.sndIntervalCounter?(clearInterval(d.sndInterval),d.sndInterval=0):d.player&&d.player.api&&!b()&&!d.sndEnabled?B(d):(clearInterval(d.sndInterval),d.sndInterval=0)},250));P("impression",d.asid,{video:d.player.video?d.player.video.src:null});g.vastCache=
0;S[O]={tc:null,tcc:0};n.tmf.timing&&(d.sec3remaining=3E3,d.sec10remaining=1E4,d.seccurrent=Date.now(),d.sec3Timer=setTimeout(function(){d.sec3Timer=0;d.player.fireType("sec3");d.sec3remaining=0},3E3),d.sec10Timer=setTimeout(function(){d.sec10Timer=0;d.player.fireType("sec10");d.sec10remaining=0},1E4));b()&&setTimeout(function(){d.player.adVolume=.75;w.muted=!1},10);g.mobileControlsTimer&&0<g.mobileControlsTimer&&(clearTimeout(g.mobileControlsTimer),g.mobileControlsTimer=0,g.mobileControlsOn=!1);
if(d.tag.playerSettings){var q=d.tag.playerSettings.vit||2,r=d.tag.playerSettings.vitp||50,t=Date.now();d.vitTimer=setInterval(function(){Utils.getViewabilityPerc()>=r?Date.now()-t>1E3*q+100&&(d.player.fireType("viewableImpression"),clearInterval(d.vitTimer),d.vitTimer=0):t=Date.now()},200)}n.loopvideo&&D(d.player.video,g.player)}e(d);c=n.podsupport?c||{}:{};Utils.writeLog(Utils.logLevels.defaultLevel,a.AdImpression+":"+d.id+":"+d.asid);if(g.playing!=d.id){var h=""+g.playing;(new Image).src="https://track1.aniview.com/track?pid="+
n.publisherid+"&cid="+n.channelid+"&e=c6&sn=player"+h+"&cb="+Date.now();var k=!1,l=function(){if(!k&&g.playing==d.id){k=!0;try{(new Image).src="https://track1.aniview.com/track?pid="+n.publisherid+"&cid="+n.channelid+"&e=c7&sn=player"+h+"&cb="+Date.now(),f()}catch(ra){}}};Utils.writeLog(Utils.logLevels.defaultLevel,"Impression but did not call start:"+d.id+":"+d.asid);d.player.once("AdVideoStart",l);d.player.once("AdStarted",l);d.player.once("AdDelayed",l);d.player.pauseAd()}else try{f()}catch(ra){}});
d.player.on(a.AdVolumeChange,function(){Utils.writeLog(Utils.logLevels.defaultLevel,a.AdVolumeChange+":"+d.id+":"+d.asid);"function"==typeof k.onAdVolumeChange&&this.impressionSet&&(k.adVolume=this.adVolume,"undefined"!==typeof k.adVolume&&0<=k.adVolume&&(w.muted=1E-4>=k.adVolume),d.vastPlayer&&!d.vastPlayer.skipping&&y(a.AdVolumeChange));try{g.abt||d.muting||b()||d.sndEnabled||!(0==d.impTime&&15>d.muteCount||15>d.impMuteCount&&Date.now()-d.impTime<1E3*n.mutetime)||(d.muteCount++,d.impTime&&d.impMuteCount++,
setTimeout(function(){if(!d.muting&&!d.sndEnabled){d.muting=!0;try{d.player.adVolume=0}catch(qa){}d.muting=!1}},1),Utils.writeLog(Utils.logLevels.debug,a.AdVolumeChange+":force mute"))}catch(qa){}});d.player.on(a.AdVideoFirstQuartile,function(){Utils.writeLog(Utils.logLevels.defaultLevel,a.AdVideoFirstQuartile+":"+d.id+":"+d.asid);y(a.AdVideoFirstQuartile);P("firstQuartile",d.asid)});d.player.on(a.AdVideoMidpoint,function(){Utils.writeLog(Utils.logLevels.defaultLevel,a.AdVideoMidpoint+":"+d.id+":"+
d.asid);y(a.AdVideoMidpoint);P("midpoint",d.asid)});d.player.on(a.AdVideoThirdQuartile,function(){Utils.writeLog(Utils.logLevels.defaultLevel,a.AdVideoThirdQuartile+":"+d.id+":"+d.asid);y(a.AdVideoThirdQuartile);P("thirdQuartile",d.asid)});d.player.on(a.AdVideoComplete,function(){if(d.active){d.complete=!0;Utils.writeLog(Utils.logLevels.defaultLevel,a.AdVideoComplete+":"+d.id+":"+d.asid);var b=!n.podsupport||!d.podInfo||d.podInfo.lastPod;y(a.AdVideoComplete,{asid:d.asid,podInfo:d.podInfo});P("complete",
d.asid);g.myInterval&&(clearInterval(g.myInterval),g.myInterval=0);n.adfoldermode?setTimeout(function(){d.player.video.addEventListener("ended",function(){y(a.AdVideoComplete)})},250):n.loopvideo||n.lastframe||(b&&h(d),"1"==n.tgt?(C(),setTimeout(function(){d.active&&d.player.stopAd()},50)):b&&A(d))}});d.player.once(a.AdError,function(){if(d.active){d.active=!1;Utils.writeLog(Utils.logLevels.defaultLevel,"2.AdError:"+d.id+":"+d.asid);P("error",d.asid);h(d);if(d.player.impressionSet&&(y(a.AdError),
"1"==n.tgt)){C();return}A(d)}});d.player.once(a.AdSkipped,function(){d.active&&(d.active=!1,Utils.writeLog(Utils.logLevels.defaultLevel,"AdSkipped:"+d.id+":"+d.asid),P("skip",d.asid),g.myInterval&&(clearInterval(g.myInterval),g.myInterval=0),h(d),d.player.impressionSet&&(d.vastPlayer.skipping||y(a.AdSkipped),d.player.stopAd()),"1"==n.tgt&&d.player.impressionSet?C(!0):A(d))});d.player.once(a.AdStopped,function(){d.active&&(d.active=!1,Utils.writeLog(Utils.logLevels.defaultLevel,"AdStopped:"+d.id+":"+
d.asid),P("stop",d.asid),d.VideoStop=!0,n.lastframe||(g.playing==d.id&&g.myInterval&&(clearInterval(g.myInterval),g.myInterval=0),h(d),n.contentplayer&&d.player&&d.player.impressionSet&&!d.complete&&y(a.AdError),"1"==n.tgt&&d.player.impressionSet?C(!0):A(d)))});d.player.on(a.AdClickThru,function(b,c,e){y(a.AdClickThru,b,c,e&&1==n.clickfunc);P("click",d.asid);0<d.vitTimer&&(d.player.fireType("viewableImpression"),clearInterval(d.vitTimer),d.vitTimer=0)});d.player.on(a.AdPaused,function(){y(a.AdPaused);
w.paused=!0;n.tmf.timing&&(0<d.sec3Timer&&(d.sec3remaining=Math.max(d.sec3remaining-(Date.now()-d.seccurrent),1),clearTimeout(d.sec3Timer),d.sec3Timer=0),0<d.sec10Timer&&(d.sec10remaining=Math.max(d.sec10remaining-(Date.now()-d.seccurrent),1),clearTimeout(d.sec10Timer),d.sec10Timer=0))});d.player.on(a.AdPlaying,function(){e(d);y(a.AdPlaying);w.paused=!1;w.player&&w.player===d.vastPlayer&&(w.player.userPaused=!1);n.tmf.timing&&(0<d.sec3remaining&&0==d.sec3Timer&&(d.sec3Timer=setTimeout(function(){d.sec3Timer=
0;d.player.fireType("sec3");d.sec3remaining=0},d.sec3remaining)),0<d.sec10remaining&&0==d.sec10Timer&&(d.sec10Timer=setTimeout(function(){d.sec10Timer=0;d.player.fireType("sec10");d.sec10remaining=0},d.sec10remaining)),d.seccurrent=Date.now())})}function J(){e=g.advertisements.length<n.maxp?g.advertisements.length:n.maxp;for(var a=0;a<e;a++)G(a)}function E(){function a(a,b){if(n.tmf.reqbid&&t[b][a]&&0<t[b][a].length){var c=z()+"&"+l.AV_player.waterfall.data.gEvents[a],d=t[b][a].join(","),e=u[b][a].join(","),
f=v[b][a].join(",");c=c+"&e="+b+"&cb="+Date.now()+"&asid="+encodeURIComponent(d)+"&ofpr="+encodeURIComponent(e)+"&fpo="+encodeURIComponent(f);t[b][a]=[];u[b][a]=[];v[b][a]=[];(new Image).src=c}}function b(b,c,d,e,f,g,h,k){if(""!=c)if(e)if(b)t[g][f]||(t[g][f]=[]),u[g][f]||(u[g][f]=[]),v[g][f]||(v[g][f]=[]),t[g][f].push(b),u[g][f].push(h),v[g][f].push(k||""),16<=t[g][f].length&&a(f,g),"request"==g&&P("request",b);else{if(d){for(var n in t[g])t[g].hasOwnProperty(n)&&a(n,g);if("request"==g)for(var m in l.AV_player.waterfall.data.events)l.AV_player.waterfall.data.events.hasOwnProperty(m)&&
Utils.bufferTrackingPixel("vpaid",z(),l.AV_player.waterfall.data.events[m],!1)}}else if(b&&(r.push(b),P("request",b)),(d||10==r.length)&&0<r.length){r.sort();var K="";r.forEach(function(a,b){0!=b&&(K+=",");K+=a});c=l.AV_player.waterfall.data.requestPixel+"request&cb="+Date.now()+"&asid="+encodeURIComponent(K);r.length=0;(new Image).src=c}}function d(){b(null,l.AV_player.waterfall.data.requestPixel,!0,!0,null,"bid");k=[];g.advertisements=g.waterfall.data.tags.filter(function(a){return 1==a.AdBid});
g.advertisements.sort(function(a,b){var c=parseInt(a.priority||"1"),d=parseInt(b.priority||"1"),e=a.playerSettings&&0<a.playerSettings.cbtic?a.playerSettings.cbtic:0,f=b.playerSettings&&0<b.playerSettings.cbtic?b.playerSettings.cbtic:0;-1<g.topAsid.indexOf(a.asid)&&(c=0);-1<g.topAsid.indexOf(b.asid)&&(d=0);a=parseFloat(a.price||"0");b=parseFloat(b.price||"0");if(d==c)return e>f?-1:e<f?1:b>a?1:b<a?-1:1==Math.floor(2*Math.random())?1:-1;if(d>c)return-1;if(d<c)return 1});for(var a=0;a<g.advertisements.length;a++)g.advertisements[a].sortOrder=
a;Utils.writeLog(Utils.logLevels.debug,"Waterfall: ",g.waterfall.data);Utils.writeLog(Utils.logLevels.debug,"Bids: ",g.advertisements);1<=g.advertisements.length?J():("content"==n.preloader.type&&Z(),L(W))}function e(a){function b(){var a=Date.now();return a-1E10*Math.floor(a/1E10)}function c(a,c){var d=a.search(c)+c.length;var e=-1==a.indexOf("&",d)?a.length:a.indexOf("&",d);a=a.replace(a.slice(d,e),"");a=a.trim();c=a.search(c)+c.length;return[a.slice(0,c),b(),a.slice(c)].join("")}function d(a,b){if(n.updatetag)try{a=
n.updatetag(a,b)||a}catch(za){}return a}var e=a.url||"";if("vast"==a.type||"s2s"==a.type){if("s2s"==a.type&&(a.playerSettings||(a.playerSettings={}),isNaN(a.playerSettings.maxRPM)&&(a.playerSettings.maxRPM=8)),-1==e.search(/\[AVC_RANDOM\]/i)?-1==e.search(/cb=/i)?-1!=e.indexOf(".rubiconproject.")||a.playerSettings&&a.playerSettings.noCb||-1==e.indexOf("?")||(e=e+"&cbb="+b()):e=c(e,"cb="):e=e.replace("[AVC_RANDOM]",b()),e)try{e=g.repFunc(e,a.type),e=d(e,a.type)}catch(Ba){}}else if("pl"==a.type||"pb"==
a.type)try{a.fixedTemplate=a.template,"string"===typeof a.template&&(a.fixedTemplate=g.repFunc(a.fixedTemplate,a.type),a.fixedTemplate=d(a.fixedTemplate,a.type))}catch(Ba){}return e}function f(a){ea.push(a);if(1===ea.length){var b=document.createElement("script");b.src=n.basejsurl+"avpb.js";b.onload=function(){clearTimeout(b.timeOut);g.externalPbJS=!0;for(var a;ea.length;)a=ea.pop(),"function"===typeof a.callback&&"number"===typeof a.index&&a.callback(a.index)};b.onerror=function(){Utils.writeLog(Utils.logLevels.error,
"PbJS load failed");m+=ea.length;m>=g.waterfall.data.tags.length&&d();clearTimeout(b.timeOut)};b.timeOut=setTimeout(function(){Utils.writeLog(Utils.logLevels.defaultLevel,"PbJS load timeout");m+=ea.length;m>=g.waterfall.data.tags.length&&d();b.onload=function(){g.externalPbJS=!0}},2500);document.getElementsByTagName("head")[0].appendChild(b)}}function h(a){k[a].load(g.waterfall.data.tags[a],x,g.waterfall.data.trackers,P,n.tgt).then(function(a){}).catch(function(a){m++;Utils.writeLog(Utils.logLevels.defaultLevel,
"1.AdError:"+a);m>=g.waterfall.data.tags.length&&d()});k[a].on("AdBid",function(a,c,e,f,h,k){if(l.AV_player.waterfall.data.gEvents&&l.AV_player.waterfall.data.gEvents[h.groupId]){var K=l.AV_player.waterfall.data.gEvents[h.groupId]+"&nasid="+encodeURIComponent(h.nasid);var q=z()+"&"+K+"&e="}else h.trackingPixel&&(q=h.trackingPixel);q&&n.tmf.reqbid&&(y?b(h.nasid,l.AV_player.waterfall.data.requestPixel,!1,y,h.groupId,"bid",h.tempCpm,h.fpo):(new Image).src=q+"bid&cb="+Date.now());a.asTrackingInfo={params:K,
base:z()};p={id:f.id,player:a,mediaFiles:c,parameters:e,vastPlayer:f,trackingPixel:q,tag:h,impTime:0,muteCount:0,impMuteCount:0};h.cac&&h.cac.sCpm&&(e=(n.pbhcpm?-1<["pb","s2s"].indexOf(h.type):1)?h.cac.sCpm:0,!isNaN(e)&&e>g.hcpm&&(g.hcpm=e));a.dispatchWaterfallApiEvent=P;a.asid=g.waterfall.data.tags[f.id].asid;Utils.writeLog(Utils.logLevels.defaultLevel,"AdBid:"+f.id+":"+c[0].type);g.waterfall.data.tags[f.id].Ad=p;g.waterfall.data.tags[f.id].AdBid=!0;m++;m>=g.waterfall.data.tags.length&&d()})}var k=
[],m=0,p=[];g.hcpm=0;var q=document.getElementById(n.position)||n.positiondiv;q||(q=n.slot);ha||(ha=document.createElement("div"),ha.id="anibid",q.appendChild(ha));var r=[],t={request:{},bid:{}},u={request:{},bid:{}},v={request:{},bid:{}},x=g.vastConfig,y=!1,ea=[];for(q=0;q<g.waterfall.data.tags.length;q++){var w=g.waterfall.data.tags[q];w.AdBid=!1;w.playerSettings||(w.playerSettings={});w.avtoken||(w.avtoken=g.avtoken);if(w.reqFiltered||w.reqImpsFiltered)m++,m>=g.waterfall.data.tags.length&&d();
else{if(7==w.platform&&"pl"===w.type)if("AOL"!==(n.ctinfo&&n.ctinfo.id&&n.ctinfo.platform?n.ctinfo.platform:"")){m++;m>=g.waterfall.data.tags.length&&d();continue}else w.contentId=n.ctinfo.id;if(w.playerSettings&&w.playerSettings.frvi&&0<w.playerSettings.vi&&Utils.getViewabilityPerc()<w.playerSettings.vi&&(m++,m>=g.waterfall.data.tags.length)){d();continue}if(Utils.isMobile()&&w&&"string"===typeof w.url&&0<w.url.indexOf("rocket10.adspirit.net")){var U="1";try{Utils.isiOS()?10<=Utils.getOSVersion().major&&
(U="2"):Utils.isAndroid()&&53<=Utils.getChromeVersion()&&(U="2")}catch(aa){}if("1"==U){m++;m>=g.waterfall.data.tags.length&&d();continue}}z()&&w.trackingParams&&(w.impressionTrackingPixel=z()+"&"+w.trackingParams+"&e=impression&cb="+Date.now(),w.trackingPixel=z()+"&"+w.trackingParams+"&e=");var A=U="";if(l.AV_player.waterfall.data.gEvents||l.AV_player.waterfall.data.events)y=!0;l.AV_player.waterfall.data.gEvents&&l.AV_player.waterfall.data.gEvents[w.groupId]?(U=z()?z()+"&"+l.AV_player.waterfall.data.gEvents[w.groupId]:
l.AV_player.waterfall.data.gEvents[w.groupId],A=w.nasid):(U=l.AV_player.waterfall.data.requestPixel,A=w.asid);w.tempCpm="";"pb"===w.type&&(w.ac&&!isNaN(w.ac.c)?w.tempCpm=w.ac.c:w.sup&&w.avtoken&&(w.tempCpm=""+Math.round(1E4*(w.sup-w.avtoken)/12321)/1E4));U?b(A,U,!1,y,w.groupId,"request",w.tempCpm,w.fpo):P("request",A);w.url||(w.url="");w.fixedUrl=e(w);w.AdBid=null;k[q]=new c(ha,n.clickfunc);k[q].id=q;if("googima"==w.type||0==w.url.toLowerCase().indexOf("https://googleads.g.doubleclick.net/pagead/ads?"))w.fixedUrl=
"https://tpc.googlesyndication.com/ima3vpaid?vad_format=linear&correlator=&adtagurl="+encodeURIComponent(w.url);if(-1<w.fixedUrl.indexOf("[AVC_INVIEW]"))try{U=0;A=!1;var B=Utils.getViewability(n.slot);B&&(U=Math.floor(100*B.ratio));A=1*(50<U);w.fixedUrl=w.fixedUrl.replace("[AVC_INVIEW]",A);w.fixedUrl=w.fixedUrl.replace("[AVC_INVIEWPERC]",U)}catch(aa){}"pb"===w.type&&!g.externalPbJS&&l.AV_biddersFactory&&!l.AV_biddersFactory.getSpec(w.platform)||"pl"===w.type&&!l.av_sdk.get(w.platform)?f({callback:h,
index:q}):h(q)}}b(null,l.AV_player.waterfall.data.requestPixel,!0,y,null,"request")}function I(a,b){a="https://player.aniview.com/beacon/"+a+".txt?cb="+Date.now();"string"===typeof g.authTxt?setTimeout(function(){b(g.authTxt)},10):Utils.request("GET",a,void 0,!1,{onload:function(a){b(a.responseText)},onerror:function(a){}})}function F(a){T--;if(0<T&&7>g.err500){var b=100;if(500<=a||0==a)g.err500++,b=1<g.err500?5E3*g.err500:1E3*g.err500;setTimeout(function(){L(W)},b)}}function Y(){if(!(0<g.impCount)&&
g.waterfall&&g.waterfall.data&&g.waterfall.data.trackers&&0<g.waterfall.data.trackers.length)for(var a=0;a<g.waterfall.data.trackers.length;a++)if("supplyError"==g.waterfall.data.trackers[a].e)if(2==g.waterfall.data.trackers[a].t){var b=document.createElement("script");b.src=g.waterfall.data.trackers[a].url;try{g.slotWindow.document.getElementsByTagName("body")[0].appendChild(b)}catch(K){}}else(new Image).src=g.waterfall.data.trackers[a].url}function L(a,b){function c(a){if(a&&"1"==n.tgt&&"undefined"!==
typeof a.vpct){if(Date.now()-a.vpct<1E3*n.vpaidfreq)return!1;a.vpct=Date.now()}return!0}function d(a){if("object"==typeof a&&a.data&&a.data.tags&&0<a.data.tags.length)for(var b=a.data.tags,c=S,d=0;d<b.length;d++){var e=!1,f=b[d],h=f.playerSettings;if(h){if(0<h.maxRPM)if(null==c.requestFC&&(c.requestFC={}),"undefined"===typeof c.requestFC[f.asid])c.requestFC[f.asid]={maxRPM:h.maxRPM,lc:Date.now()},f.reqFiltered=!1;else{var k=c.requestFC[f.asid];k.maxRPM&&0!=k.maxRPM||(k.maxRPM=6E4);var l=6E4/k.maxRPM;
Date.now()-k.lc<l?e=f.reqFiltered=!0:(f.reqFiltered=!1,"undefined"!==typeof h.maxRPM&&(c.requestFC[f.asid].maxRPM=h.maxRPM),c.requestFC[f.asid].lc=Date.now())}if(!e&&(0<h.mips||0<h.mrqs||0<h.impwc||0<h.impwt))if(g.maximps[f.asid]){l=!1;0<h.mips&&g.maximps[f.asid].imps>=h.mips&&(l=!0);0<h.mrqs&&g.maximps[f.asid].reqs>=h.mrqs&&(l=!0);e=0<h.impwc;k=0<h.impwt;if(!l&&(e||k)){var n=l=!1;e&&0<g.maximps[f.asid].impcnt&&g.impCount-g.maximps[f.asid].impcnt<h.impwc&&(l=!0);k&&0<g.maximps[f.asid].imptime&&Date.now()-
1E3*h.impwt<g.maximps[f.asid].imptime&&(n=!0);l=h.impwr?l||n:e&&k?l&&n:e?l:n}(f.reqImpsFiltered=l)||g.maximps[f.asid].reqs++}else g.maximps[f.asid]={mips:h.mips,imps:0,mrqs:h.mrqs,reqs:1},f.reqImpsFiltered=!1}}return a}function e(a){if("object"===typeof g.macros){"undefined"===typeof g.macros.AV_USERAGENT&&navigator.userAgent&&(g.macros.AV_USERAGENT=encodeURIComponent(navigator.userAgent));for(var b=0;b<a.data.tags.length;b++)if("string"===typeof a.data.tags[b].url)try{for(var c in g.macros)g.macros.hasOwnProperty(c)&&
"AV_"==c.substring(0,3)&&(a.data.tags[b].url=a.data.tags[b].url.replace("["+c+"]",g.macros[c]));a.data.tags[b].url=a.data.tags[b].url.replace("[AV_RANDOM]",Date.now().toString());a.data.tags[b].url=a.data.tags[b].url.replace("[AV_TIMESTAMP]",Date.now().toString())}catch(ta){}}}function f(a,b){if(b){for(var c=0;c<a.data.tags.length;c++)a.data.tags[c].asid=a.data.tags[c].asid||b.asid,a.data.tags[c].clickThroughUrl=a.data.tags[c].clickThroughUrl||"",a.data.tags[c].impressionTrackingPixel="https:"+b.impressionTrackingPixel+
"&cb="+Date.now(),a.data.tags[c].price=a.data.tags[c].price||"0",a.data.tags[c].tagTimeout=a.data.tags[c].tagTimeout||"20000",a.data.tags[c].trackingPixel="",a.data.tags[c].impressionTrackingPixel=a.data.tags[c].impressionTrackingPixel.replace("[AV_HOST]",g.host||""),a.data.tags[c].impressionTrackingPixel=a.data.tags[c].impressionTrackingPixel.replace("[AV_ASID]",a.data.tags[c].asid),a.data.tags[c].impressionTrackingPixel=a.data.tags[c].impressionTrackingPixel.replace("[AV_CID]",n.channelid),a.data.tags[c].impressionTrackingPixel=
a.data.tags[c].impressionTrackingPixel.replace("[AV_SUBID]",g.macros.AV_SUBID||"");a.data.totalTimeout="20000";a.data.requestPixel="";return a}}function h(a,b){if(!g.stopAd)try{if(0<T)if("string"===typeof a?(5>a.length&&(a="{}"),q=JSON.parse(a)):q=a,q&&"1"==q.blacklisted){if(Utils.writeLog(Utils.logLevels.defaultLevel,"Serving blacklisted:"),"function"===typeof k.onAdError)k.onAdError({errorlimit:!0,reason:"blocked"},"1"==n.tgt)}else{"undefined"!==typeof n.waterfall&&("string"===typeof n.waterfall&&
f(q,v),e(q));var c=d(q);g.waterfall=c;n.block&&g.waterfall&&g.waterfall.data&&!c.data.block&&(g.waterfall.data.block=n.block);b&&S[O]&&(S[O].tc=c,S[O].tcc=b);!g.nladstarted&&g.waterfall&&g.waterfall.data&&g.waterfall.data.nltags&&0<g.waterfall.data.nltags.length&&(V(n.contentvideo,n.contentadscontainer,g.waterfall.data.nltags),g.nladstarted=!0);if(g.waterfall&&g.waterfall.data&&(g.waterfall.data.sd&&(g.sd=g.waterfall.data.sd),"object"===typeof g.waterfall.data.c)){g.waterfall.data.c.post&&(n.postevt=
!0);n.networkid=g.waterfall.data.c.n;if("58fcbed1073ef420086c9d08"===n.networkid||"55b78633181f4603178b4568"===n.networkid)g.pbuserid={id5Id:!0};if(g.waterfall.data.c.ac&&"object"===typeof g.waterfall.data.c.ac.uid){var h=g.waterfall.data.c.ac.uid;g.pbuserid=g.pbuserid||{};Object.keys(h).forEach(function(a){"id5Id"!==a&&(g.pbuserid[a]=h[a])})}g.softfloor=g.waterfall.data.c.sf||0;g.gdpr=!!g.waterfall.data.c.gdpr;Utils.checkConsentRetry(g.waterfall.data.c.gdpr,g.waterfall.data.c.ccpa)}try{if(g.waterfall&&
g.waterfall.data&&g.waterfall.data.trackers&&0<g.waterfall.data.trackers.length){var l=g.waterfall.data.trackers;for(a=0;a<l.length;a++)if("inventory"==l[a].e&&!g.inventoryTracker||"inventoryRequest"==l[a].e){var m=l[a].url.replace(/\[AVC_WIDTH\]/g,n.width).replace(/\[AVC_HEIGHT\]/g,n.height);if(1!=l[a].t&&l[a].t)if(2==l[a].t){var K=document.createElement("script");K.src=m;document.body.appendChild(K)}else 3==l[a].t?(K=document.createElement("iframe"),K.src=m,document.body.appendChild(K)):4==l[a].t&&
Utils.sendGA(l[a]);else(new Image).src=m}}}catch(xa){}g.inventoryTracker=!0;if("function"===typeof n.updatewaterfall)try{n.updatewaterfall(g.waterfall.data.tags)}catch(xa){}g.waterfall&&g.waterfall.data&&g.waterfall.data.tags&&0<g.waterfall.data.tags.length?(E(),g.err500=0):(g.runCount=9999999,F())}else F()}catch(xa){F()}}function m(a){if(0<T){var b="cb="+Date.now();b=-1<a.indexOf("?")?"&"+b:"?"+b;var c=g.sd?"&"+g.sd:"",d="";g.macros&&(g.macros.AV_CONSENT&&Utils.setConsent(g.macros.AV_CONSENT,g.macros.AV_GDPR,
g.macros.AV_CGLOBAL),g.macros.AV_CCPA&&Utils.setCCPA(g.macros.AV_CCPA));var e=Utils.getCurrentConsent();e&&e.gdpr&&e.gdpr.success&&e.gdpr.consentData&&(d+="&AV_CONSENT="+e.gdpr.consentData);e&&e.usp&&(d+="&AV_CCPA="+e.usp);Utils.getProtocol();Utils.request("GET",a+("&AV_WIDTH="+n.width+"&AV_HEIGHT="+n.height)+d+b+c,void 0,"http:"==Utils.baseProtocol||"https:"==Utils.baseProtocol,{onload:function(a){h(a.responseText,g.tagCacheMaxCount)},onerror:function(a){F(a.status)}})}else F()}if(!g.stopAd)if(g.wfvifunc=
null,g.startAdViTime=0,g.currentAd=0,g.active){Utils.writeLog(Utils.logLevels.debug,"Requesting new waterfall "+g.tagRequestCount);var q;O=n.position+n.publisherid+n.channelid;var p=!1,r=n.midrolltime;ja&&0==n.preroll&&.1<n.midrolltime&&0<n.midrolldelay&&(p=!0,r=n.midrolldelay);ja=!1;x();var t=g.impressionSet;if(t){0<g.preroll&&g.preroll--;if(0==g.preroll&&(p=!0,0==n.loop&&"content"!=n.preloader.type)){Utils.writeLog(Utils.logLevels.debug,"stop waterfall preroll done");return}g.impressionSet=!1}if(g.tagRequestCount>
n.vastretry||g.runCount>=n.maxrun||g.impCount>=n.maximp){0<g.preroll&&(g.preroll=0);g.tagRequestCount=0;R++;p=R>n.errorlimit||g.runCount>=n.maxrun||g.impCount>=n.maximp;var u="";R>n.errorlimit?u="errorlimit":g.runCount>=n.maxrun?u="maxrun":g.impCount>=n.maximp&&(u="maximp");if("function"===typeof k.onAdError)k.onAdError({errorlimit:p,reason:u},"1"==n.tgt);p&&Y();if("1"==n.tgt){(b=z()||ca)&&Utils.bufferTrackingPixel("vpaid",b,null,!0);C(!0);return}if(p){b=g.stopWaterfall=!0;(null==n.preloader.type||
n.passbackpriority)&&n.passbackurl&&(n.passbackpriority&&(b=!1,g.AVcontent&&g.AVcontent.pauseAd()),g.divPreloader.style.width="100%",g.divPreloader.style.height="100%",g.divPreloader.style.zIndex=n.maxzindex,g.divPreloader.style.position="absolute",g.divPreloader.style.display="block",Utils.loadScriptToIframe(g.divPreloader,n.passbackurl,n.width,n.height,function(a,b,c){"resize"==a?b&&c&&k.resizeAd(b,c):(g.divPreloader.style.display="none","content"==a?Z():"close"==a&&w.closeClick())}),w.controls(!1),
w.bigPlay&&(w.bigPlay.style.display="none"));b&&Z();b="maximp";R>n.errorlimit?b="errorlimit":g.runCount>=n.maxrun&&(b="maxrun");Utils.writeLog(Utils.logLevels.debug,"stop waterfall "+b);return}p=!0}if(0==g.preroll&&"content"==n.preloader.type&&(Z(),!n.midrolltime)){0<n.preroll&&(g.resetAdRequest=!0);Utils.writeLog(Utils.logLevels.debug,"stop waterfall wait for content end");return}if(p&&0<n.midrolltime)"function"===typeof n.midrollfunc?setTimeout(function(){n.midrollfunc(function(){L(W,!0)})},10):
g.midrollTimer=setTimeout(function(){L(W,!0)},1E3*r);else if(n.reqonview&&50>Utils.getViewabilityPerc())g.wfvifunc=function(){L(W,!0)};else{if(!b&&!t&&1==n.mode&&"function"!==typeof n.waterfall&&(b=R*n.vastretry+g.tagRequestCount,10<b&&(b=1E3*Math.floor(b/10),b>la))){la=b;setTimeout(function(){L(a,!0)},b);return}g.tagRequestCount++;g.useFlashProxy=!1;g.runCount++;S=function(){var a=g.slotWindow;"undefined"===typeof a&&(a=l);"1"==n.tgt&&(a=Utils.getTopWnd(a));"undefined"===typeof a.storageAni&&(a.storageAni=
{});"undefined"===typeof a.storageAni[O]&&(a.storageAni[O]={tc:null,tcc:0,vpct:0});"undefined"===typeof a.storageAni.requestFC&&(a.storageAni.requestFC=null);"1"==n.tgt&&("undefined"===typeof a.storageAni.syncs&&(a.storageAni.syncs={}),l.AV_biddersFactory&&(l.AV_biddersFactory.syncs=a.storageAni.syncs));return a.storageAni}();var v=null;if("1"==n.tgt){if(!c(S[O])){F(-1);return}}else"58a5addb28a0612d3529bc5e"!==n.publisherid&&Utils.bufferTrackingPixel("vpaid",z()||ca,oa+"&e=inventoryRequest",!1);if("function"===
typeof k.onInventoryRequest)k.onInventoryRequest();if(n.pbjstag&&"object"===typeof n.pbjstag&&"string"===typeof n.pbjstag.vastXml){var y={data:{tags:[{type:"vastxml",vastxml:n.pbjstag.vastXml,tagTimeout:2E4}]}};setTimeout(function(){h(y,0)},1);n.pbjstag=void 0}else if("undefined"===typeof n.waterfall||"string"===typeof n.waterfall){if(S[O]&&S[O].tc&&0<S[O].tcc&&!g.resetTagCache){S[O].tcc--;var fa=S[O].tc}else g.resetTagCache=!1,fa=null;fa?setTimeout(function(){h(fa)},1):"string"===typeof n.waterfall?
("//"==n.waterfall.substring(0,2)&&(n.waterfall=Utils.getProtocol()+n.waterfall),I(n.publisherid,function(a){try{var b=JSON.parse(a);g.authTxt=a}catch(ta){b={domains:[]}}v=b;for(a=0;a<b.domains.length;a++){var c=n.waterfall.indexOf(b.domains[a].domain);if(7==c||8==c){m(n.waterfall);return}}F()})):m(a)}else"function"!==typeof n.waterfall&&"object"!==typeof n.waterfall||I(n.publisherid,function(a){try{var b=JSON.parse(a);g.authTxt=a}catch(Da){b={domains:[]}}v=b;if("function"===typeof n.waterfall)n.waterfall(function(a,
c){for(var d=0;d<b.domains.length;d++)if(c==b.domains[d].domain){setTimeout(function(){a=f(a,b);h(a)},10);return}F()});else{a=n.waterfall;var c=b;if(a.data&&a.data.tags){for(var d=0;d<a.data.tags.length;d++){for(var e=!1,k=0;k<c.domains.length;k++){var l=a.data.tags[d].url.indexOf(c.domains[k].domain);if(7==l||8==l){e=!0;break}}if(e&&(c.key&&c.value||c.keys)&&((k=Utils.getUrlParameters(a.data.tags[d].url))&&k[c.key]&&0==k[c.key].indexOf(c.value)||(e=!1),k&&"object"===typeof c.keys))for(l=0;l<c.keys.length;l++)for(var m in c.keys[l])if(k[m]&&
-1<k[m].indexOf(c.keys[l][m])){e=!0;break}e||(a.data.tags.splice(d,1),d--)}a=f(a,b);h(a)}else F()}})}}else Utils.writeLog(Utils.logLevels.debug,"Stop requesting new waterfall - not active"),C(!0),Utils.writeLog(Utils.logLevels.debug,"stop waterfall not active")}function P(a,b,c){if(l.AV_player.waterfall&&l.AV_player.waterfall.data&&"function"===typeof l.AV_player.waterfall.data.onEvent)l.AV_player.waterfall.data.onEvent(a,b,c);if("function"===typeof k.onAdEvent)k.onAdEvent(a,b,c)}function V(b,d,e){function f(){if(!k){k=
!0;g.nlc&&(g.nlc.style.visibility="hidden",g.nlc.style.overflow=d.style.overflow="hidden");var a=l;a&&a.stopAd();if(d&&a&&a.frame){a.frame=null;try{for(;d.firstChild;)d.removeChild(d.firstChild)}catch(U){}}0<m&&(clearTimeout(m),m=0);K=null}}function h(b,d,e){if(!(K||q>r||p>t||Date.now()-v<u||g.stopAd)&&g.active){g.nlc&&(g.nlc.style.visibility="hidden",g.nlc.id="nonl-container",g.nlc.style.height=d.style.height="100px",g.nlc.style.overflow=d.parentNode.style.overflow=d.style.overflow="hidden",d.style.position=
"absolute",d.style.bottom="0px");f();K=new c(ha,!1);var h={asid:"Content",type:"pl",platform:3,template:encodeURIComponent('{"tagUrl":"'+e[0].url+'","overlay":"true"}'),impressionTrackingPixel:z()+"&"+e[0].trackingParams+"&e=impression&cb="+Date.now(),initAdTimeout:2E4,startAdTimeout:2E4};h.fixedTemplate=h.template;h.impressionTrackingPixel=h.impressionTrackingPixel.replace("tgt=0","tgt=4");p++;u=Date.now();K.load(h,{nljs:!0,js:!0},[],function(){}).then(function(a){}).catch(function(a){});K.on("AdBid",
function(c,h,K,p,r){k=!1;l=c;c.once(a.AdLoaded,function(){var a=this;setTimeout(function(){a.start()},50)});c.once(a.AdImpression,function(){q++;g.nlc&&(g.nlc.style.visibility="visible");var a=c.adDuration;if(!a||3>a)a=n.nlruntime;m=setTimeout(function(){f()},1E3*a);c.resizeAd(g.nlc.clientWidth,100,"normal");Utils.writeLog(Utils.logLevels.debug,"Nonlinear impression "+e[0].asid);g.nlc.style.overflow=d.parentNode.style.overflow=d.style.overflow=""});c.once(a.AdError,function(){f();Utils.writeLog(Utils.logLevels.debug,
"Nonlinear AdError "+e[0].asid)});c.once(a.AdSkipped,function(){f();Utils.writeLog(Utils.logLevels.debug,"Nonlinear AdSkipped "+e[0].asid)});c.once(a.AdStopped,function(){f();Utils.writeLog(Utils.logLevels.debug,"Nonlinear AdStopped "+e[0].asid)});c.once(a.AdVideoComplete,function(){f();Utils.writeLog(Utils.logLevels.debug,"Nonlinear AdVideoComplete "+e[0].asid)});c.once(a.AdClosed,function(){f();Utils.writeLog(Utils.logLevels.debug,"Nonlinear AdClosed "+e[0].asid)});c.load(h,K,this,null,d,b,r.type,
r).then(function(){c.reporter.track(c)})})}}var k=!0,l,m=0,K,q=0,p=0,r=25,t=25,u=0,v=0;if(d&&g.nlc&&e&&e.length){if(e[0].playerSettings){var w=e[0].playerSettings;r=w.mips||25;t=w.mrqs||25;0<w.maxRPM&&(v=Math.floor(6E4/w.maxRPM))}if(b&&d&&e&&0<e.length){var x="";b.paused||(x=b.currentSrc,setTimeout(function(){h(b,d,e)},1E3*(n.nldelay||0)));b.addEventListener("playing",function(){x!=this.currentSrc&&(x=this.currentSrc,h(b,d,e))})}}}function Z(a){function c(a,b){a&&(-1<a.indexOf("aniview.")||a.indexOf("ani-view."));
if(l.AV_player.contentPixel&&2>l.AV_player.AVcontent.currentTime&&(l.AV_player.contentPixel=!1,"function"==typeof k.onContentImpression))k.onContentImpression(a)}if(!g.stopAd&&n.preloader&&"content"==n.preloader.type&&g.active&&(!(0<g.preroll)||a))if(n.autoplay||0!=n.preloader.autoplay){if(n.preloader.playOnView&&(g.onContentViewChanged||(g.onContentViewChanged=function(a){a?g.player&&g.player.impressionSet||(g.playContent?g.AVcontent.userPause||k.resumeContent(!0):Z()):g.playContent&&n.preloader.pauseOnUnseen&&
k.pauseContent(!0)}),!g.playContent&&Utils.getViewabilityPerc()<(n.preloader.playOnViewPerc||50)))return;a=1==n.preloader.nativeVideo;var e=d&&p||q&&!(p&&53<=Utils.getChromeVersion())||1==n.preloader.imageVideo,h=0;n.nonnativecontent&&(e=!0);if(g.playContent)w.player!==g.AVcontent&&(!b()&&0<g.AVcontent.volume&&(g.AVcontent.volume=0,g.AVcontent.muted=!0,w.muted=!0,g.AVcontent.setAttribute("muted",!0)),w.setPlayer(g.AVcontent,!(0<g.AVcontent.volume&&!g.AVcontent.muted))),w.controls(!n.hidecontrols&&
(!n.hidemobilecontrols&&Utils.isMobile()||g.mobileControlsOn||!Utils.isMobile())),g.AVcontent.style.display="block","content"==l.AV_player.config.preloader.type&&0==l.AV_player.config.autoplay&&"string"===typeof l.AV_player.config.preloader.poster&&10<l.AV_player.config.preloader.poster.length||(l.AV_player.divPreloader.style.zIndex="0"),g.AVcontent.style.zIndex="0",n.autoplay?("content"==n.preloader.type&&(g.diVideoPreloader.style.display="block"),g.AVcontent.resumeAd()):(n.showbigplay&&(w.bigPlay.style.display=
"inline"),w.bigPlay.style.position="absolute",w.bigPlay.style.zIndex=n.maxzindex,w.controls(!1),w.bigPlay.onclick=function(){n.slot.querySelector("#imgpreloader").style.display="none";n.autoplay=!0;w.bigPlay.style.display="none";"content"==n.preloader.type&&(g.diVideoPreloader.style.display="block");g.AVcontent.resumeAd(!0);w.controls(!n.hidecontrols&&(!n.hidemobilecontrols&&Utils.isMobile()||g.mobileControlsOn||!Utils.isMobile()));x()});else{var m=!0,r=null,t=null,u=null;g.playContent=!0;g.AVcontent=
n.slot.querySelector("#AVcontent");g.AVcontent.asid="Content";if(e)a=g.AVcontent,g.AVcontent=AniviewImagePlayer.createAniviewVideoTag(),g.AVcontent.asid="Content",g.diVideoPreloader=g.AVcontent,a.parentNode.replaceChild(g.AVcontent,a),g.AVcontent.style.position="absolute",g.AVcontent.style.width="100%",g.AVcontent.style.height="100%",g.AVcontent.onclick=a.onclick,r=function(){g.active&&!g.activeImpression&&(w.player!==g.AVcontent&&w.setPlayer(g.AVcontent),w.controls(!n.hidecontrols&&(!n.hidemobilecontrols||
g.mobileControlsOn)),g.divPreloader.style.zIndex="0",g.AVcontent.style.zIndex="0","function"===typeof g.AVcontent.startAd&&g.AVcontent.startAd(),g.AVcontent.play(),c(l.AV_player.AVcontent.src,!0))},t=function(){g.AVcontent.pause()},u=function(){g.AVcontent.muted=!0},g.AVcontent.isAudioReady=function(){return 1==g.AVcontent.audioReady};else if(/iPhone|iPod|iPad/.test(navigator.userAgent)&&!a){var v=!0;var z=!1;var A=null;var B=!1,C=!1,ba=!0,D=document.createElement("audio");g.AVcontent.addEventListener("canplay",
function(){v=z=!0});var F=Date.now();g.contentInterval=setInterval(function(){var a=Date.now(),b=(a-F)/1E3;F=a;!m&&z&&0<g.AVcontent.buffered.length&&(g.AVcontent.buffered.end(g.AVcontent.buffered.length-1)>h?(h+=b,v&&(v=!1,g.AVcontent.currentTime=h),h>g.AVcontent.duration&&n.loop&&(h=0,G(),setTimeout(function(){r()},1E3))):g.AVcontent.currentTime=h)},40);r=function(){g.active&&!g.activeImpression&&m&&!B&&(w.player!==g.AVcontent&&w.setPlayer(g.AVcontent),w.controls(!n.hidecontrols&&(!n.hidemobilecontrols||
g.mobileControlsOn)),g.divPreloader.style.zIndex="0",g.AVcontent.style.zIndex="0",A!=g.AVcontent.src&&(A=g.AVcontent.src,h=0,ba=!0,C=!1,D.src=A,D.load()),C&&!ba&&(D.currentTime=h,D.play()),m=!1,v=!0,c(l.AV_player.AVcontent.src))};t=function(){C&&(D.currentTime=h,D.pause());v=m=!0};u=function(){var a=function(){h=D.currentTime;m=B=!1;D.removeEventListener("playing",a)};var b=function(){h=0;D.play();D.removeEventListener("canplaythrough",b)};(D.muted=ba)?D.pause():C?(D.currentTime=h,D.play()):(C=!0,
m||(B=m=!0,h=0,D.addEventListener("playing",a,!1),D.addEventListener("canplaythrough",b,!1),D.load()))};g.AVcontent.setContentVolume=function(a){ba=0==a?!0:!1;u()};g.AVcontent.onvolumechange=function(){}}else if(/(android)/i.test(navigator.userAgent)&&!a){var E=!0;v=!0;z=!1;A=null;g.AVcontent.addEventListener("canplay",function(){v=z=!0});F=Date.now();g.contentInterval=setInterval(function(){if(E){var a=Date.now(),b=(a-F)/1E3;F=a;!m&&z&&0<g.AVcontent.buffered.length&&(g.AVcontent.buffered.end(g.AVcontent.buffered.length-
1)>h?(h+=b,v&&(v=!1,g.AVcontent.currentTime=h),h>g.AVcontent.duration&&n.loop&&(h=0,G(),setTimeout(function(){r()},1E3))):g.AVcontent.currentTime=h)}},40);r=function(a){g.active&&!g.activeImpression&&m&&(w.player!==g.AVcontent&&w.setPlayer(g.AVcontent),w.controls(!n.hidecontrols&&(!n.hidemobilecontrols||g.mobileControlsOn)),g.divPreloader.style.zIndex="0",g.AVcontent.style.zIndex="0",a&&E&&(E=!1),m=!1,E?(A!=g.AVcontent.src&&(A=g.AVcontent.src,h=0),v=!0):(g.AVcontent.style.zIndex="0",g.AVcontent.play()),
c(l.AV_player.AVcontent.src))};t=function(a){a&&E&&(E=!1);m=!0;E?v=!0:g.AVcontent.pause()};u=function(){E&&(E=!1,g.AVcontent.currentTime=h=0);g.AVcontent.muted=!g.AVcontent.muted;m?g.AVcontent.pause():(g.AVcontent.style.zIndex="0",g.AVcontent.play())};g.AVcontent.setContentVolume=function(a){1!=a||m||g.AVcontent.play()};g.AVcontent.onvolumechange=function(){E&&(E=!1,g.AVcontent.currentTime=h=0);g.AVcontent.muted=1E-6<g.AVcontent.volume?!1:!0}}else g.AVcontent.onvolumechange=function(){Utils.isiOS()||
(g.AVcontent.muted=1E-6<g.AVcontent.volume?!1:!0)},r=function(){g.active&&!g.activeImpression&&(m=!1,setTimeout(function(){m||(w.setPlayer(g.AVcontent,!(0<g.AVcontent.volume&&!g.AVcontent.muted)),n.hidecontrols||w.controls(!0),g.divPreloader.style.zIndex="0",g.AVcontent.style.zIndex="0",g.AVcontent.play())},300),c(l.AV_player.AVcontent.src))},t=function(){m=!0;g.AVcontent.pause()},u=function(){g.AVcontent.muted=!g.AVcontent.muted};g.AVcontent.volume=b()?1:0;g.AVcontent.pauseAd=function(a){t(a);if(!g.contentPaused&&
(g.contentPaused=!0,"function"==typeof k.onContentPaused))k.onContentPaused()};g.AVcontent.resumeAd=function(a){if(!(g.AVcontent.userPaused||g.pauseContent&&!a)&&(g.pauseContent=!1,w.showPreloader(!1),g.AVcontent.src||G(),r(),g.AVcontent.style.display="block",g.contentPaused&&(g.contentPaused=!1,"function"==typeof k.onContentPlaying)))k.onContentPlaying()};g.AVcontent.addEventListener("timeupdate",function(){g.AVcontent.adDuration=g.AVcontent.duration;g.AVcontent.adRemainingTime=g.AVcontent.duration-
g.AVcontent.currentTime;if(1>g.AVcontent.adRemainingTime&&0==g.contentPixel){if("function"==typeof k.onContentComplete)k.onContentComplete();g.AVcontent.volume=0;w.player===g.AVcontent&&(w.muted=!0);b()?(g.AVcontent.volume=1,g.AVcontent.removeAttribute("muted"),w.muted=!1):g.AVcontent.setAttribute("muted",!0);if(!n.loop){g.active=!1;g.contentInterval&&clearInterval(g.contentInterval);g.contentInterval=0;g.contentPixel=!0;g.AVcontent.pauseAd(!0);return}g.AVcontent.currentTime=0;g.contentPixel=!0;h=
0;"function"===typeof g.AVcontent.init&&g.AVcontent.init(n.preloader.fullframe);if(R<=n.errorlimit&&(0<n.preroll&&0==n.midrolltime&&f(),0<g.preroll&&!g.stopWaterfall)){w.showPreloader(!0);g.AVcontent.pauseAd(!0);g.AVcontent.style.display="none";g.AVcontent.src=g.vidPreloaders.getPreloader().url;return}w.player===g.AVcontent&&w.playPauseClick();G();setTimeout(function(){r()},1E3);n.postroll||n.loop&&0==g.preroll&&setTimeout(function(){},100)}v=!0});var G=function(){if("undefined"===typeof g.vidPreloaders)"function"===
typeof g.AVcontent.init&&g.AVcontent.init(n.preloader.fullframe),g.AVcontent.src=n.preloader.link;else{var a=g.vidPreloaders.getPreloader();"function"===typeof g.AVcontent.init&&g.AVcontent.init(n.preloader.fullframe);g.AVcontent.src=a.url;g.diVideoPreloader.onclick=function(){if(n.autoplay){if("function"==typeof k.onBannerClick)k.onBannerClick();n.hidemobilecontrols&&!g.mobileControlsOn?(g.mobileControlsOn=!0,w.controls(!0),g.mobileControlsTimer=setTimeout(function(){g.mobileControlsOn=!1;g.mobileControlsTimer=
0;w.controls(!1)},1E3*n.mobilecontrolsdelay)):(""!=n.preloader.clickthrough&&""!=a.clickthrough&&l.open(a.clickthrough,"blank"),y("ContentClick",{src:g.diVideoPreloader.src,currentTime:g.diVideoPreloader.currentTime}))}else w.bigPlay.onclick()}}g.AVcontent.load();b()?(g.AVcontent.volume=1,g.AVcontent.muted=!1,w.muted=!1,g.AVcontent.removeAttribute("muted")):g.AVcontent.setAttribute("muted",!0);g.AVcontent.ready=!0;w.setPlayer(g.AVcontent,!(0<g.AVcontent.volume&&!g.AVcontent.muted));w.controls(!n.hidecontrols&&
(!n.hidemobilecontrols&&Utils.isMobile()||g.mobileControlsOn||!Utils.isMobile()));"content"==l.AV_player.config.preloader.type&&0==l.AV_player.config.autoplay&&"string"===typeof l.AV_player.config.preloader.poster&&10<l.AV_player.config.preloader.poster.length||(l.AV_player.divPreloader.style.zIndex="0");g.AVcontent.style.zIndex="0";n.autoplay?g.pauseContent||r():w.controls(!1)};g.AVcontent.style.display="block";g.AVcontent.style.zIndex="0";G()}}else w.setPlayer({ready:!0,resumeAd:function(){Z();
w.showPreloader(!1)}},!0)}var la=0,ca="",oa="",S,O,g,n;c.vpaidSWFLocation="";k.startAd=function(a){if(!g.stopAd&&!g.wfPause&&(Utils.writeLog(Utils.logLevels.debug,"startAd Request"),(!n.autoplay||a&&-1==g.playing)&&g.adLoaded))if(n.autoplayloop&&(n.autoplay=!0),w.bigPlay.style.display="none",1<=g.readyToPlay.length&&-1==g.playing){var b=u();b&&(g.playing=b.id,g.player=g.waterfall.data.tags[b.id].Ad.player,setTimeout(function(){b.player.start()},10))}else-1<g.playing&&n.autoplayloop&&g.waterfall.data.tags[g.playing].Ad.player.start()};
k.setWaterfallState=function(a,b,c){Utils.writeLog(Utils.logLevels.debug,"setWaterfallState Request: "+a+":"+b+":"+g.wfPause);if(a==g.wfPause||!a&&b&&-1<g.playing)if(g.wfPause=!a,!g.wfPause&&b&&k.startAd(!0),g.wfPause&&b&&-1<g.playing)try{g.waterfall.data.tags[g.playing].Ad.player.pauseAd(),g.waterfall.data.tags[g.playing].Ad.player.stopAd(),g.waterfall.data.tags[g.playing].Ad.player.emit("AdError","vpaidStartAdTimeout")}catch(ma){}};k.seekAd=function(a){0<=l.AV_player.playing&&l.AV_player.waterfall.data.tags[l.AV_player.playing].Ad.player.seekAd(a)};
k.setAdVolume=function(a){if(!(g.stopAd&&0<a)&&(Utils.writeLog(Utils.logLevels.debug,"setAdVolume request "+a),0<a?w&&(w.muted=!1):w&&(w.muted=!0),0<=g.playing)){var b=g.waterfall.data.tags[g.playing].Ad;b&&b.player&&(n.autosound&&0==a&&(n.autosound=!1),0<a&&(b.sndEnabled=!0,b.player.sndEnabled=!0),b.player.adVolume=a,b.mediaFiles&&b.mediaFiles[0]&&"application/x-shockwave-flash"==b.mediaFiles[0].type&&b.player.api&&(0<a?(b.player.api.setSystemVolume(1),b.sndInterval&&(clearInterval(b.sndInterval),
b.sndInterval=0)):b.player.api.setSystemVolume(0)))}};k.getAdVolume=function(){return 0<=g.playing&&(Utils.isAutoSound(n)||g.waterfall.data.tags[g.playing].Ad.player.sndEnabled)?g.waterfall.data.tags[g.playing].Ad.player.adVolume:0};k.pauseAd=function(){Utils.writeLog(Utils.logLevels.debug,"pauseAd request");0<=g.playing&&g.waterfall.data.tags[g.playing].Ad.player.pauseAd()};k.resumeAd=function(){g.stopAd||(Utils.writeLog(Utils.logLevels.debug,"resumeAd request"),0<=g.playing&&g.waterfall.data.tags[g.playing].Ad.player.resumeAd())};
k.getAdDuration=function(){return 0<=g.playing?g.waterfall.data.tags[g.playing].Ad.player.adDuration:-2};k.getAdCompanions=function(){if(0<=g.playing)try{return g.waterfall.data.tags[g.playing].Ad.player.adCompanions||""}catch(ba){}return""};k.getAdRemainingTime=function(){return 0<=g.playing?g.waterfall.data.tags[g.playing].Ad.player.adRemainingTime:-2};k.resizeAd=function(b,c,d){Utils.writeLog(Utils.logLevels.debug,"resizeAd: "+b+":"+c+":"+d);b=Math.floor(b);c=Math.floor(c);d||(d=Utils.getFSElement(g.slotWindow.document)?
"fullscreen":"normal");"fullscreen"==d&&(l.orientation&&90!==l.orientation&&-90!==l.orientation?(b=screen.height,c=screen.width):(b=screen.width,c=screen.height));if("undefined"!==typeof l.AV_player&&l.AV_player)if(n.contentplayer&&"fullscreen"==d)l.AV_player&&(n.width=b,n.height=c),g.player&&"function"===typeof g.player.resizeAd&&(g.player.resizeAd(b,c,d),g.player.container.style.width=b+"px",g.player.container.style.height=c+"px",g.player.video&&"function"===typeof g.player.video.resize&&g.player.video.resize(b,
c,d)),"undefined"!==typeof w&&w&&w.resize(b,c);else{if("fullscreen"==d){if(Utils.isiOS()){"undefined"!==typeof g.player&&g.player&&g.player.video&&g.player.impressionSet&&"function"===typeof g.player.video.resize&&g.player.video.resize(b,c,d);return}if(!Utils.getFSElement(g.slotWindow.document)){g.fsRestoreSize={width:n.width,height:n.height};Utils.setFSState(n.slot,!0);b=screen.width;c=screen.height;g.isFullScreen=!0;var e=Utils.getFSEvent();e&&g.slotWindow.document.addEventListener(e,r)}}"undefined"!==
typeof l.AV_player&&l.AV_player&&(n.width=b,n.height=c);"undefined"!==typeof g.player&&g.player&&"function"===typeof g.player.resizeAd&&(g.player.resizeAd(b,c,d),g.player.container.style.width=b+"px",g.player.container.style.height=c+"px",g.player.video&&"function"===typeof g.player.video.resize&&g.player.video.resize(b,c,d));"undefined"!==typeof g.AVcontent&&g.AVcontent&&(g.AVcontent.style.width=b+"px",g.AVcontent.style.height=c+"px");"undefined"!==typeof w&&w&&w.resize(b,c);k.dispatchEvent(a.AdSizeChange)}};
k.getContentPaused=function(){return g.contentPaused};k.pauseContent=function(a){g.pauseContent=!0;var b=w.getPlayer()||g.AVcontent;b&&"Content"==b.asid&&(a||(b.userPaused=!0),b.pauseAd(),w.paused=!0)};k.resumeContent=function(a){g.pauseContent=!1;var b=w.getPlayer()||g.AVcontent;b&&"Content"==b.asid&&(n.slot.querySelector("#imgpreloader").style.display="none",n.autoplay=!0,w.bigPlay.style.display="none","content"==n.preloader.type&&(g.diVideoPreloader.style.display="block"),w.controls(!n.hidecontrols&&
(!n.hidemobilecontrols&&Utils.isMobile()||g.mobileControlsOn||!Utils.isMobile())),a||(b.userPaused=!1),b.resumeAd(),w.paused=!1)};k.setContentVolume=function(a){var b=w.getPlayer()||g.AVcontent;b&&"Content"==b.asid&&(b.volume=a,1E-6>a?(w.muted=!0,b.muted=!0):(w.muted=!1,b.muted=!1))};k.getContentCurrentTime=function(){var a=w.getPlayer()||g.AVcontent;if(a&&"Content"==a.asid)return a.currentTime};k.stopAd=function(){Utils.vcmgr.reset(n.advideoslot);g.stopAd=!0;0<=g.playing&&(g.waterfall.data.tags[g.playing].Ad.player.pauseAd(),
g.waterfall.data.tags[g.playing].Ad.player.stopAd());setTimeout(function(){w.closeClick()},1E3)};k.skipAd=function(){0<=g.playing&&g.waterfall.data.tags[g.playing].Ad.player.skipAd()};var ja=!0,M=!1,T=9999,R=0,w,ha;(function(a){function b(a,b){"string"===typeof a&&(a=a.trim());a=Utils.getUrlParameters(a,b);for(var d in a)a.hasOwnProperty(d)&&("AV_PUBLISHERID"==d?c.publisherid=a[d]:"AV_CHANNELID"==d?c.channelid=a[d]:("true"==a[d]&&(a[d]=!0),"false"==a[d]&&(a[d]=!1),c[d]=a[d],d&&"AV_"==d.substring(0,
3)&&(c.ref1=c.ref1+d+"="+encodeURIComponent(a[d])+"&")))}var c={hd:!1,vastretry:0,errorlimit:5,maximp:9999,maxrun:9999,maxcrun:9999,tgt:"0",vpaidpriority:"js",format:"all",cdnurl:Utils.httpsReplace("http://data1.aniview.com/"),adserverdomain:"go1.aniview.com",autoplay:!0,autoplayloop:!0,muted:!0,share:!1,soundbutton:!0,pausebutton:!0,closebutton:!1,closeevent:!1,fullscreen:!1,phone:"",logo:!0,ref1:"",showbigplay:!0,timelinemode:"overlay",hidecontrols:!0,hidemobilecontrols:!1,mobilecontrolsdelay:5,
basejsurl:"https://player.aniview.com/script/6.1/",preroll:0,midroll:!0,midrolltime:0,midrolldelay:0,flashsslproxy:!1,flashscale:!1,pc:!0,maxp:5,autosound:!1,startaddelay:3,startmidroll:0,startdelay:0,mutetime:4,clickfunc:!1,tm:"",tmf:{},replayfunc:null,nativevideo:!1,customcss:"",prerolltimeout:0,logoclick:!1,autosdk4:!1,nlruntime:120,topasopt:!1,showpreloader:!0,startadvitimeout:3,vpaidfreq:1,postevt:!1,antihjck:!1,ctinfo:{},minbti:20,tagcache:15,maxzindex:"99999",imaiosskip:!0,imaplayer:"aniview/html5",
podsupport:!1,pricegranularity:"medium",preloader:{type:null,link:null,clickthrough:null,poster:"",fullframe:!1,random:!0}};g=l.pl=l.AV_player={active:!0,currentAd:0,playing:-1,readyToPlay:[],vastCache:10,tagCacheMaxCount:10,advertisements:[],standbyTime:1E3,waterfall:void 0,player:[],players:[],mode:-1,vastretry:0,tagRequestCount:0,preroll:0,midrolltime:0,midrollTimer:0,postroll:!1,slotWindow:null,adLoaded:!1,impressionSet:!1,useFlashProxy:!1,contentPixel:!0,contentPaused:!0,startTimer:0,callStartTimeout:0,
callStartTimer:0,err500:0,impCount:0,runCount:0,crunCount:0,adStoppedTimeout:3E3,topAsid:[],maximps:{},thePlayer:k,wfPause:!1,vastConfig:{vpaidPriority:"js",swf:!0,js:!0,html5:!0},config:a};n=l.cnf=g.config;for(var d in g.config)if(g.config.hasOwnProperty(d)){var e=d.toLowerCase();"environmentvars"!=e&&(c[e]=g.config[d])}for(d in n.environmentVars)n.environmentVars.hasOwnProperty(d)&&(e=d.toLowerCase(),c[e]=n.environmentVars[d],"true"==c[e]&&(c[e]=!0),"false"==c[e]&&(c[e]=!1));b();a.creativeData&&
a.creativeData.AdParameters&&b(a.creativeData.AdParameters,!0);g.vastConfig.vpaidPriority=c.vpaidpriority;1==c.preroll?c.preroll=1:0==c.preroll&&(c.preroll=0);1==c.postroll?c.postroll=1:0==c.postroll&&(c.postroll=0);0==c.preroll&&0==c.midrolltime&&(c.midrolltime=.1);if("string"===typeof c.badv&&4<c.badv.length&&!c.block)try{var h=decodeURIComponent(c.badv).split(",");0<h.length&&(c.block={script:{list:h},vast:{list:h}})}catch(ia){}"56b89b31181f466b388b4575"==c.publisherid||"5c6e9cfa073ef416fd2b0112"==
c.publisherid||"58d7dc4328a0611e7a4535da"==c.publisherid?(c.vpaidfreq=0,g.tagCacheMaxCount=1,1==c.tgt&&(g.tagCacheMaxCount=0),"58d7dc4328a0611e7a4535da"==c.publisherid&&(g.tagCacheMaxCount=10,c.maxp=2,c.nativevideo=!0,"5d5934c228a0611ce55c1a82"==c.channelid&&(c.usevslot=!0,c.vastretry=2))):g.tagCacheMaxCount=c.tagcache;"56ea678d181f46c76f8b45fb"==c.publisherid&&"undefined"===typeof c.responsive&&(c.responsive=!0);"undefined"===typeof c.position&&(c.position=c.slot.id);c.maxp=Math.max(1,Math.min(8,
c.maxp));Utils.logLevel=c.loglevel;"object"==typeof c.slot&&"object"==typeof c.slot.ownerDocument?g.slotWindow=c.slot.ownerDocument.defaultView||c.slot.ownerDocument.parentWindow:"object"==typeof c.videoSlot&&"object"==typeof c.videoSlot.ownerDocument?g.slotWindow=c.videoSlot.ownerDocument.defaultView||c.videoSlot.ownerDocument.parentWindow:"http:"==location.protocol||"https:"==location.protocol?g.slotWindow=l:(g.slotWindow=Utils.getTopWindow(),g.slotWindow||(g.slotWindow=l));c.format&&("json"==c.format&&
(c.format="all"),"all"!==c.format&&(-1==c.format.indexOf("js")&&(l.AV_player.vastConfig.js=!1),-1==c.format.indexOf("swf")&&(l.AV_player.vastConfig.swf=!1),-1==c.format.indexOf("html5")&&(l.AV_player.vastConfig.html5=!1)));!(e=c.adlabel)||null!==e.text&&""!==e.text||(e.text="-Advertisement-");e=c.closebuttonstyle;c.closebutton&&e&&("object"!==typeof e&&(e=c.closebuttonstyle={}),"string"!==typeof e.position&&(e.position="default"),e.position=e.position.toLowerCase(),"default"===e.position&&(e.position=
e.outside?"top-right":"top-left"),"number"!==typeof e.overlayMargin&&(e.overlayMargin=30));if(c.lastframe||c.loopvideo)c.mode=-1,c.loop=!1,c.skip=!1;5<c.vastretry&&(c.vastretry=5);1==c.mode&&(c.errorlimit=99);c.loop&&-1==c.mode&&(c.mode=0);c.preloader&&c.preloader.type&&(e=c.preloader.type.toLowerCase(),"content"==e?e="content":"js"==e?e="js":"image"==e?e="Image":"holder"!=e&&(e=null),c.preloader.type=e);if("content"==c.preloader.type&&"object"===typeof c.preloader.link&&"string"===typeof c.preloader.link[0])for(g.vidPreloaders=
{current:0,random:!0,preloaders:[],addPreloader:function(a){this.preloaders.push(a)},getPreloader:function(){if(0==this.preloaders.length)return{url:"",clickthrough:""};var a=this.random?Math.floor(Math.random()*this.preloaders.length):this.current;this.current++;this.current>=this.preloaders.length&&(this.current=0);return this.preloaders[a]}},g.vidPreloaders.random=c.preloader.random,e=0;e<c.preloader.link.length;e++)g.vidPreloaders.addPreloader({url:c.preloader.link[e],clickthrough:c.preloader.clickthrough.length>
e?c.preloader.clickthrough[e]:""});""==c.preloader.link&&(c.preloader.type=null);"content"==c.preloader.type&&(c.preloader.poster=c.preloader.poster||"");"undefined"!==typeof c.waterfall&&(c.tgt=2);if("1"==c.tgt){c.autoplay=!1;5==c.maxp&&(c.maxp=2);3==c.startaddelay&&(c.startaddelay=.1);if(!c.width||0>=c.width||isNaN(c.width))c.slot&&0<c.slot.clientWidth?c.width=c.slot.clientWidth:c.videoslot&&0<c.videoslot.clientWidth?c.width=c.videoslot.clientWidth:0<c.AV_WIDTH&&(c.width=c.AV_WIDTH);!isNaN(c.AV_WIDTH)&&
!isNaN(c.AV_HEIGHT)&&c.AV_HEIGHT>=c.height&&c.AV_WIDTH>=c.width&&(c.width=c.AV_WIDTH,c.height=c.AV_HEIGHT);if(!c.height||0>=c.height||isNaN(c.height))c.slot&&0<c.slot.clientHeight?c.height=c.slot.clientHeight:c.videoSlot&&0<c.videoSlot.clientHeight?c.height=c.videoSlot.clientHeight:0<c.AV_HEIGHT&&(c.height=c.AV_HEIGHT)}c.width=Math.floor(c.width);c.height=Math.floor(c.height);c.tmf.vpaid=""==c.tm||-1<c.tm.indexOf("v");c.tmf.reqbid=""==c.tm||-1<c.tm.indexOf("r");c.tmf.adcontent=""==c.tm||-1<c.tm.indexOf("c");
c.tmf.timing=""==c.tm||-1<c.tm.indexOf("t");if(c.wl&&!c.customlogo){e="";var m;c.customlogo={};c.customlogo.link=c.basejsurl+"wl/"+c.wl+"/logo.png";c["wl.ltxt"]&&(e=c["wl.ltxt"]);"vi"==c.wl&&(m="https://www.vi.ai");c["wl.llnk"]&&(m=c["wl.llnk"]);c.customlogo.clickthrough=m;c.customlogo.text=e}c.adserverdomain&&"go1.aniview.com"!=c.adserverdomain&&c.wl&&(e=c.adserverdomain.indexOf("."),-1<e&&(m=c.adserverdomain.substring(0,e),e=c.adserverdomain.substring(e,100),c.trackdomain=c.trackdomain||m+"t"+e,
c.keydomain=c.keydomain||m+"k"+e,c.adddomain=c.adddomain||m+"a"+e,c.cdnurl1=c.cdnurl1||Utils.getProtocol()+"//"+m+"d"+e+"/"));c.adddomain=c.adddomain||"add1.aniview.com";c.keydomain=c.keydomain||"cdn1.aniview.com";c.trackdomain=c.trackdomain||"track1.aniview.com";g.baseJsUrl=c.basejsurl;g.callStartTimeout=c.startdelay;Utils.isMobile()||(c.hidemobilecontrols=!1);g.config=c;n=l.cnf=c;"56ea678d181f46c76f8b45fb"!=n.publisherid||a.environmentVars&&a.environmentVars.adServerDomain||(n.adserverdomain="premiumsrv.aniview.com");
n.advideoslot&&(n.contentslot=n.advideoslot.parentNode,Utils.vcmgr.init(n.advideoslot),n.maxp=1,Utils.writeLog(Utils.logLevels.defaultLevel,"Video element passed from content player. autosound:"+n.autosound));"1"==n.usevslot&&(n.maxp=1);n.flashsslproxy=!1;n.contentplayer&&(n.imaplayer="avcplayer/html5",n.slot&&n.slot.parentNode&&(n.slot.parentNode.av_maximps||(n.slot.parentNode.av_maximps=g.maximps),g.maximps=n.slot.parentNode.av_maximps),n.showpreloader=!1,n.contentadscontainer&&n.contentadscontainer.parentNode&&
n.contentadscontainer.parentNode.parentNode&&"nonl-container"==n.contentadscontainer.parentNode.parentNode.className&&(g.nlc=n.contentadscontainer.parentNode.parentNode,g.nlc.style.visibility="hidden"));Utils.init(g.slotWindow,n.vitab,n.floatpos,n.width,n.height,n.isamp);n.antihjck&&Utils.initScrollIntoViewHandler(g.slotWindow,n.slot);n.isamp&&Utils.ampStubFix(l);var q=!0;Utils.getConsent(function(){q||(g.resetTagCache=!0)},function(){q||(g.resetTagCache=!0)});q=!1;g.abtest=n.abtest;isNaN(g.abtest)&&
(a=Math.floor(30*Math.random()),g.abtest=4<a||0==a?"":""+a);Utils.isMobile()&&((a=Utils.getTopWnd())&&a.storageAni&&a.storageAni.ap?(n.nativevideo=!0,n.nativetest=!0):(!g.abtest&&Utils.isVideoSupported()&&(n.nativevideo=!0),Utils.checkNativeVideo(function(a,b){a?(n.nativevideo=!0,n.nativetest=!0,S&&(S.ap=!0)):b&&!g.abtest&&(n.nativevideo=!1)})));if(n.forcenewcdn||!n.cdnurl1&&"add1.aniview.com"===n.adddomain&&"cdn1.aniview.com"===n.keydomain)n.newcdn=!0;l.addEventListener("unload",function(){var a=
z()||ca;a&&Utils.bufferTrackingPixel("vpaid",a,null,!0)},!1);var p=function(a,b){return a?"pb"==b?a:encodeURIComponent(a):""};a={"[AVC_WIDTH]":function(){return n.width},"[AVC_HEIGHT]":function(){return n.height},"[AVC_VIDEOURL]":function(a){return p(n.ctinfo.url,a)},"[AVC_DURATION]":function(){return 0<n.ctinfo.duration?Math.floor(n.ctinfo.duration):""},"[AVC_VIDEOID]":function(){return n.ctinfo.id||""},"[AVC_CONTENTID]":function(){return n.ctinfo.id||""},"[AVC_TITLE]":function(a){return p(n.ctinfo.title,
a)},"[AVC_CKEYWORDS]":function(a){return p(n.ctinfo.keywords,a)},"[AVC_CPARAM1]":function(a){return p(n.ctinfo.cparam1,a)},"[AVC_CPARAM2]":function(a){return p(n.ctinfo.cparam2,a)},"[AVC_CPARAM3]":function(a){return p(n.ctinfo.cparam3,a)},"%5BAVC_WIDTH%5D":function(){return n.width},"%5BAVC_HEIGHT%5D":function(){return n.height},"%5BAVC_VIDEOURL%5D":function(a){return p(n.ctinfo.url,a)},"%5BAVC_DURATION%5D":function(){return 0<n.ctinfo.duration?Math.floor(n.ctinfo.duration):""},"%5BAVC_VIDEOID%5D":function(){return n.ctinfo.id||
""},"%5BAVC_CONTENTID%5D":function(){return n.ctinfo.id||""},"%5BAVC_TITLE%5D":function(a){return p(n.ctinfo.title,a)},"%5BAVC_CKEYWORDS%5D":function(a){return p(n.ctinfo.keywords,a)},"%5BAVC_KEYWORDS%5D":function(a){return p(n.ctinfo.keywords,a)},"%5BAVC_CPARAM1%5D":function(a){return p(n.ctinfo.cparam1,a)},"%5BAVC_CPARAM2%5D":function(a){return p(n.ctinfo.cparam2,a)},"%5BAVC_CPARAM3%5D":function(a){return p(n.ctinfo.cparam3,a)}};m=Utils.getReplaceRegex(a);g.repFunc=Utils.getReplace(m,a);f()})(t);
(function(a){var b=AV_player.slotWindow.document.getElementsByTagName("head")[0];b||(b=AV_player.slotWindow.document.getElementsByTagName("body")[0]);b||(b=AV_player.config.slot);n.positiondiv&&(b=n.positiondiv);if(!g.cssTag){l.AV_player.cssTag=!0;var c=document.createElement("style"),d=l.aniviewCSS+" "+n.customcss;c.type="text/css";c.id="av_css_id";c.styleSheet?c.styleSheet.cssText=d:c.appendChild(document.createTextNode(d));var e=AV_player.slotWindow.document.getElementById("av_css_id");e&&e.innerHTML==
d||b.appendChild(c);setTimeout(function(){a()},10)}})(function(){if(!M){M=!0;n.caption=!!(n.adlabel&&n.adlabel.text||n.closebutton&&n.closebuttonstyle&&n.closebuttonstyle.outside);var a=l.aniviewGetGui(n),b=document.createElement("div");g.playerSlot=b;"1"==n.tgt&&(b.style.top="0px",b.style.width="100%",b.style.height="100%",b.style.position="absolute",n.hidevpaid&&(g.playerSlot.style.visibility="hidden"));t.environmentVars.slot.appendChild(b);b.innerHTML=a;b.id=t.environmentVars.slot.id+"gui";a=b.querySelector("#av-container");
var c;n.caption&&(c=b.querySelector("#av-caption"));t.environmentVars.captionHeight=1*(c&&c.offsetHeight)||0;g.divPreloader=b.querySelector("#imgpreloader");"content"==n.preloader.type&&(g.diVideoPreloader=b.querySelector("#AVcontent"),g.diVideoPreloader.style.width="100%",g.diVideoPreloader.style.height="100%",g.diVideoPreloader.style.display="none",g.diVideoPreloader.style.position="absolute");n.preloader&&("Image"==n.preloader.type&&""!=n.preloader.link||"content"==n.preloader.type&&"undefined"!==
typeof n.preloader.poster)&&(b="Image"==n.preloader.type?n.preloader.link:n.preloader.poster,g.divPreloader.style.width="100%",g.divPreloader.style.height="100%",b&&""!=b&&(g.divPreloader.style.background="url('"+b+"') center center no-repeat"),n.preloader.poster&&(g.divPreloader.style.backgroundSize="contain"),"content"==l.AV_player.config.preloader.type&&0==l.AV_player.config.autoplay&&"string"===typeof l.AV_player.config.preloader.poster&&10<l.AV_player.config.preloader.poster.length&&(l.AV_player.divPreloader.style.zIndex=
"1"),g.divPreloader.style.position="absolute",""!=n.preloader.clickthrough&&"Image"==n.preloader.type&&(g.divPreloader.style.zIndex=n.maxzindex,g.divPreloader.style.cursor="pointer",g.divPreloader.onclick=function(){if("function"==typeof k.onBannerClick)k.onBannerClick();l.open(n.preloader.clickthrough,"blank");y("ContentClick")}),"content"==n.preloader.type&&(g.diVideoPreloader.onclick=function(){if(n.autoplay){if("function"==typeof k.onBannerClick)k.onBannerClick();n.hidemobilecontrols&&!g.mobileControlsOn?
(g.mobileControlsOn=!0,w.controls(!0),g.mobileControlsTimer=setTimeout(function(){g.mobileControlsOn=!1;g.mobileControlsTimer=0;w.controls(!1)},1E3*n.mobilecontrolsdelay)):(""!=n.preloader.clickthrough&&l.open(n.preloader.clickthrough,"blank"),y("ContentClick",{src:g.diVideoPreloader.src,currentTime:g.diVideoPreloader.currentTime}))}else w.bigPlay.onclick()}));"js"==n.preloader.type&&(g.divPreloader.style.width="100%",g.divPreloader.style.height="100%",g.divPreloader.style.zIndex=n.maxzindex,g.divPreloader.style.position=
"absolute",Utils.loadScriptToIframe(g.divPreloader,n.preloader.link,n.width,n.height));c={container:a,caption:c,adLabel:n.adlabel,videoSlotName:t.position,autoplay:n.autoplay,muted:n.muted,share:n.share,sound:n.soundbutton,playPause:n.pausebutton,fullscreen:n.fullscreen,phone:n.phone,logo:n.logo,lastframe:n.lastframe,showBigPlay:n.showbigplay,close:n.closebutton,closeStyle:n.closebuttonstyle,skip:n.skip,skipTimer:n.skiptimer,skipText:n.skiptext,responsive:null==t.width&&null==t.height,width:n.width,
height:n.height,hideControls:n.hidecontrols,timelineMode:n.timelinemode,timelineChange:n.timelinechange,showpreloader:n.showpreloader,inttimeout:1==n.tgt?150:75};Utils.writeLog(Utils.logLevels.defaultLevel,"pl.config:",g.config);Utils.writeLog(Utils.logLevels.defaultLevel,"config:",c);w=new AnivewPlayerGUI(c);w.controls(!1);"content"==n.preloader.type&&0>=g.preroll&&Z();"js"!=n.preloader.type||n.preloader.closeButton||(w.gui.style.display="none");0==l.AV_player.config.autoplay&&l.AV_player.config.preloader&&
"content"==l.AV_player.config.preloader.type&&(n.showbigplay&&(w.bigPlay.style.display="inline"),w.bigPlay.style.position="absolute",w.bigPlay.style.zIndex=n.maxzindex,w.bigPlay.onclick=function(){l.AV_player.config.autoplay=!0;w.bigPlay.style.display="none";w.playClick();x()});if(n.customlogo&&(c=n.slot.querySelector("#aniview-credit"))){if(n.customlogo.text||""==n.customlogo.text)c.innerHTML=n.customlogo.text+"<span>";n.customlogo.height&&(c.getElementsByTagName("SPAN")[0].style.height=n.customlogo.height+
"px");n.customlogo.width&&(c.getElementsByTagName("SPAN")[0].style.width=n.customlogo.width+"px");c.getElementsByTagName("SPAN")[0].style.margin="4 4 4 2";n.customlogo.link&&(c.getElementsByTagName("SPAN")[0].style.backgroundImage="url('"+n.customlogo.link+"')");n.customlogo.top&&(c.style.top=n.customlogo.top+"px");n.customlogo.clickthrough&&(c.style.cursor="pointer",c.onclick=function(){l.open(n.customlogo.clickthrough)})}L(W)}});var W=function(){function a(a,b){(new (Utils.getTopWnd().Image)).src=
ca+"&"+oa+"&e=AV_M3&prbdsup=1&prbdres="+a+Utils.getInterventionReason(b)+"&cb="+Date.now()}var b="";var c={};if(n.ref1)if("string"===typeof n.ref1&&0<n.ref1.length){var d=n.ref1.split("&");for(var e=0;e<d.length;e++){var f=!1;var h=d[e].split("=");if(2<=h.length)try{if("current_url"==h[0]||"AV_URL"==h[0])f=!0;0!=h[0].indexOf("AV_DECODED")&&(h[1]=decodeURIComponent(h[1]),h[1]=decodeURIComponent(h[1]),f&&(h[1]=Utils.getAmpUrl(h[1])),h[1]=encodeURIComponent(h[1]));c[h[0]]=h[1];if(f&&(b=h[1])&&0<b.length){var m=
b.substring(0,1);if("%"==m||"{"==m||"$"==m||"["==m||"<"==m)b=""}}catch(ia){("current_url"==h[0]||"AV_URL"==h[0])&&(b=h[1])&&0<b.length&&(m=b.substring(0,1),"%"==m||"{"==m||"$"==m||"["==m||"<"==m)&&(b="")}}}else if("object"===typeof n.ref1){try{for(d in n.ref1)try{f=!1,"AV_URL"==d&&"string"===typeof n.ref1[d]&&0<n.ref1[d].length&&(f=!0,m=n.ref1[d].substring(0,1),"%"==m||"{"==m||"$"==m||"["==m||"<"==m)&&(n.ref1[d]=""),"string"==typeof d&&0==d.indexOf("AV_DECODED")?c[d]=n.ref1[d]:(c[d]=decodeURIComponent(n.ref1[d]),
c[d]=decodeURIComponent(c[d]),f&&(c[d]=Utils.getAmpUrl(c[d])),c[d]=encodeURIComponent(c[d]))}catch(ia){}}catch(ia){}b=c.AV_URL}var p=Utils.getProtocol();c.AV_SECURED="https:"===Utils.getProtocol()?1:0;b&&""!=b||(b=(b=c.AV_APPPKGNAME)&&2<b.length?b:encodeURIComponent(Utils.getTrueDomain()));Utils.isAndroid()&&c.AV_APPPKGNAME&&(c.AV_APPSTOREURL="https%3A%2F%2Fplay.google.com%2Fstore%2Fapps%2Fdetails%3Fid%3D"+c.AV_APPPKGNAME);f="";c.AV_LANGUAGE?f=c.AV_LANGUAGE:l.navigator&&(l.navigator.language&&1<l.navigator.language.length?
f=l.navigator.language:l.navigator.languages&&0<l.navigator.languages.length&&l.navigator.languages[0]&&(f=l.navigator.languages[0]));f&&1<f.length&&(c.AV_LANGUAGE=f.substring(0,2));c.AV_URL=b.substring(0,500);c.AV_PUBLISHERID=n.publisherid;c.AV_CHANNELID=n.channelid;c.format="json";c.tgt=n.tgt;n.pbjstag&&(c.pbjs="1");c.AV_SUBID=c.AV_SUBID||"";c.AV_SUBID=c.AV_SUBID.substring(0,Math.min(200,c.AV_SUBID.length));c.AV_CDIM1=c.AV_CDIM1||"";c.AV_CDIM1=c.AV_CDIM1.substring(0,Math.min(200,c.AV_CDIM1.length));
c.AV_CDIM2=c.AV_CDIM2||"";c.AV_CDIM2=c.AV_CDIM2.substring(0,Math.min(200,c.AV_CDIM2.length));c.AV_CDIM3=c.AV_CDIM3||"";c.AV_CDIM3=c.AV_CDIM3.substring(0,Math.min(200,c.AV_CDIM3.length));c.AV_ABT=1!=n.tgt?g.abtest:"[AVC_ABT]";AV_player.config.pc&&(c.pce="1",c.npx="1");"undefined"!==typeof c.AV_WIDTH&&delete c.AV_WIDTH;"undefined"!==typeof c.AV_HEIGHT&&delete c.AV_HEIGHT;if(c.AV_AID||c.AV_IDFA)try{c.AV_AID&&36==c.AV_AID.length||!c.AV_IDFA||36!=c.AV_IDFA.length||(c.AV_AID=c.AV_IDFA),c.AV_IDFA&&36==c.AV_IDFA.length||
!c.AV_AID||36!=c.AV_AID.length||(c.AV_IDFA=c.AV_AID),c.AV_AID=c.AV_AID||c.AV_IDFA,c.AV_IDFA=c.AV_IDFA||c.AV_AID}catch(ia){}c.AV_LONGITUDE&&isNaN(1*c.AV_LONGITUDE)&&(c.AV_LONGITUDE="");c.AV_LATITUDE&&isNaN(1*c.AV_LATITUDE)&&(c.AV_LATITUDE="");c.AV_DNT=c.AV_DNT||Utils.getDnt()||"0";c.AV_DETDOMAIN=Utils.getHostName(c.AV_URL);Utils.getAdPosition(n.slot,n.height)&&(c.AV_DADPOS=Utils.getAdPosition(n.slot,n.height));c.AV_PLACEMENT||(n.preloader&&"content"===n.preloader.type&&n.preloader.link||n.advideoslot?
c.AV_PLACEMENT="1":n.floating&&0<n.floating.size||n.sticky&&0<n.sticky.size?c.AV_PLACEMENT="5":"1"==n.templateType&&n.openAnim&&300!=n.width&&250!=n.height&&(c.AV_PLACEMENT="3"));b=Utils.joinObject(c);f=g.abtest&&!isNaN(g.abtest)?""+g.abtest+"/":"";m=n.responsive?"&responsive=1":"";p=n.httpsrv?"http:":"https:";g.avtoken=Date.now()-1E6*Math.floor(Date.now()/1E6);b=p+"//"+n.adserverdomain+"/api/adserver/tag/"+f+"?"+b+"&v=6.1.1.243"+m+"&avtoken="+g.avtoken;(function(){for(var a=c.AV_SUBID||"",b="",d=
1;10>=d;d++){var e=c["AV_CDIM"+d];e&&(e=e.substring(0,Math.min(200,e.length)),b+="&cd"+d+"="+e)}d=c.AV_IC||0;e=c.tgt;var f=g.abtest||"",h=c.AV_APPNAME||"",l=n.width||"",m=n.height||"",q=c.AV_APPPKGNAME||"",r=Utils.getAdPosition(n.slot,n.height)?"&fv="+Utils.getAdPosition(n.slot,n.height):"",t="https:"===Utils.getProtocol()?"https":"http";d*=12321;var u=Utils.getHostName(c.AV_URL);g.host=u;ca=p+"//"+n.trackdomain+"/track?r="+u+"&sn="+a+b+"&ic="+d+"&tgt="+e+"&app="+h+"&wi="+l+"&he="+m+"&test="+f+"&apppkg="+
q+r+"&proto="+t;oa="pid="+c.AV_PUBLISHERID+"&cid="+c.AV_CHANNELID;n.pbjstag&&!1===n.pbjstag.inventory||((new Image).src=ca+"&"+oa+"&e=inventory&vi="+Utils.getViewabilityPerc()+"&cb="+Date.now());setTimeout(function(){if("function"===typeof k.onInventory)k.onInventory()},10)})();(n.isplayer||n.contentplayer)&&Utils.isIframeInIframe()&&Utils.handleIntervention(l.parent,a);Utils.handleIntervention(l,a);c.AV_WIDTH=0===n.width?300:n.width;c.AV_HEIGHT=0==n.height?250:n.height;g.macros=c;n.ctinfo=n.ctinfo||
{};n.ctinfo.duration=n.ctinfo.duration||c.AV_DURATION||"";n.ctinfo.title=n.ctinfo.title||c.AV_TITLE||"";n.ctinfo.keywords=n.ctinfo.keywords||c.AV_CKEYWORDS||"";n.ctinfo.id=n.ctinfo.id||c.AV_CONTENTID||"";n.ctinfo.url=n.ctinfo.url||c.AV_VIDEOURL||"";return b}()})(l.AV_VASTPlayer)}})(window);
(function(l){var a=l.AV_biddersFactory.ajax;l.AV_biddersFactory.registerId({name:"id5Id",gvlid:131,decode:function(a){return a&&"string"===typeof a.ID5ID?{id5id:a.ID5ID}:void 0},getId:function(l,k,e){if(l&&"number"===typeof l.partner){var p=k&&"boolean"===typeof k.gdprApplies&&k.gdprApplies?1:0;k=p?k.consentString:"";e=this.decode(e);var d="https://id5-sync.com/g/v1/"+l.partner+".json?1puid="+(e?e.id5id:"")+"&gdpr="+p+"&gdpr_consent="+k;return{callback:function(e){a(d,function(a){if(a)try{var c=JSON.parse(a)}catch(u){}e(c)},
void 0,{method:"GET",withCredentials:!0})}}}}},"id5-sync.com","id5id",{params:{partner:371},storage:{type:"html5",expires:90,refreshInSeconds:28800}})})(window);
(function(l){var a=l.AV_biddersFactory.ajax;l.AV_biddersFactory.registerId({name:"unifiedId",decode:function(a){return a&&"string"===typeof a.TDID?{tdid:a.TDID}:void 0},getId:function(l){if(l&&"string"===typeof l.partner){var k=l.url||"https://match.adsrvr.org/track/rid?ttd_pid="+l.partner+"&fmt=json";return{callback:function(e){a(k,function(a){if(a)try{var d=JSON.parse(a)}catch(q){}e(d)},void 0,{method:"GET",withCredentials:!0})}}}}},"adsrvr.org","unifiedId",{storage:{type:"cookie",expires:60}})})(window);
